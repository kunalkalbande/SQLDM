set nocount on
	-- Load MetricInfo 
	
truncate table DBMetrics
insert into DBMetrics
select 8
union select 9
union select 59
union select 60
union select 109
union select 110
union select 126
union select 127
union select 130
set ansi_warnings on


if (select isnull(object_id('tempdb..#upgrade_metric_info'), 0)) <> 0 
begin 
	print 'truncating #upgrade_metric_info'
	truncate table #upgrade_metric_info
end 
else
begin
	print 'creating #upgrade_metric_info'
	CREATE TABLE #upgrade_metric_info (
		[Metric] [int] NOT NULL,
		[UTCLastChangeDateTime] [datetime] NOT NULL DEFAULT (GETUTCDATE()),
		[Rank] [int] NOT NULL,
		[Category] [nvarchar](64) NOT NULL,
		[Name] [nvarchar] (128) NOT NULL,
		[PaaS][bit]NOT NULL,
		[Description] [nvarchar](512) NOT NULL,
		[Comments] [nvarchar] (max) NULL,
		PRIMARY KEY CLUSTERED ([Metric])
	)
end

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (0, 20, 'Resources', 'SQL Server CPU Usage (Percent)',1, 'Percentage of CPU Time used by the SQL Server instance out of the total on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (1,20, 'Sessions', 'User Connections (Percent)',1, 'Percentage of the user connections allowed by the SQL Server instance that are currently used.',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (2, 50, 'Resources', 'Peak Thread Usage (Percent)', 'No longer being used',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (3, 50, 'Resources', 'Current Thread Usage (Percent)', 'Current Thread Usage (Percent)',NULL)
--SQLdm 10.1.3 (Vamshi Dingari)-Altered Alert message for metric 4
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (4, 40, 'Services', 'Latent replication transaction (Count)', 1,'Number of replication transactions published by the Publisher but not received by the Distributor.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (5, 40, 'Services', 'Unsubscribed Transactions (Count)',1, 'Number of replication transactions received by the Distributor and not received by a Subscriber.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (6, 40, 'Sessions', 'Oldest Open Transaction (Minutes)', 1,'Time in minutes that the longest running transaction in the database has used since issuing the Begin Transaction statement.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (7, 70, 'Databases', 'Table Fragmentation (Percent)', 1,'Percentage of pages within an index that have been split since the last time the index was rebuilt. Any changes made to the thresholds will be used to determine the alert state during the next table statistics collection.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (8, 30, 'Databases', 'Database Full (Percent)', 1,'DB-SPECIFIC ALERT. Percentage of the allowable disk space for the database currently used by the sum of the data, text, and indexes. By default, this percentage includes the current allocated space, auto-growth settings, and available disk space in its calculation. Note that this alert may be configured to calculate using only the current file size under Advanced > Autogrow Settings.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (9, 30, 'Databases', 'Log Full (Percent)', 1,'DB-SPECIFIC ALERT. Percentage of the allowable disk space currently used by the transaction log. By default, this percentage includes the current allocated space, auto-growth settings, and available disk space in its calculation. Note that this alert may be configured to calculate using only the current file size under Advanced > Autogrow Settings.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (10, 10, 'Services', 'SQL Server Agent Status',0, 'Status of the SQL Server Agent service.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (11, 30, 'Databases', 'Database Read/Write Error Occurred',1, 'An I/O error occurred while attempting to read from or write to a database file.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (12, 10, 'Services', 'SQL Server Service',1, 'Status of the SQL Server service.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (13, 20, 'Resources', 'SQL Server Memory Usage (Percent)',1, 'Percentage of memory used by the SQL Server instance out of the total memory on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (14, 30, 'Databases', 'Database Status',1, 'Operational status of the database such as Online, Offline or Suspect',NULL)
-- INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
-- VALUES (15, 50, 'Resources', 'DM Start', 'DM Start',NULL)
-- INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
-- VALUES (16, 5, 'General', 'DM Stop', 'DM Stop',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (17, 80, 'Services', 'Unsubscribed Transactions (Seconds)', 1,'Time in seconds that a replicated transaction has been holding at the Distributor and waiting to be received by a Subscriber.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (18, 10, 'Services', 'DTC Service Status', 0,'Status of the Distributed Transaction Coordinator service.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (19, 50, 'Services', 'Full-Text Search Status',1, 'Full Text Search Service Status.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (20, 70, 'Databases', 'Index Row Hits (Percent)',1, 'Percentage of density of an index as used by the SQL Query Optimizer to determine index effectiveness. A high density indicates many duplicates and an inefficient index while a low density indicates high selectivity and an effective index. This alert is for visual indicators in the Desktop Client only. No notifications will be sent.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (21, 50, 'Services', 'Last Full-Text Catalog Update (Hours)',1, 'Time in hours since the last Full-Text Catalog update was performed and beyond which the statistics data is considered outdated. This alert is for visual indicators in the Desktop Client only. No notifications will be sent.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (22, 40, 'Sessions', 'SQL Server Response Time (Milliseconds)',1, 'Time in milliseconds SQL diagnostic manager currently needs to send a simple SQL command to the SQL Server instance, have it processed, and receive the returned result set.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (23, 90, 'Operational', 'OS Metrics Collection Status',1, 'Status of SQL diagnostic manager OS Metrics Collection.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (24, 20, 'Resources', 'OS Memory Usage (Percent)', 1,'Percentage of total memory used on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (25, 60, 'Resources', 'OS Paging (Per Second)', 1,'Page fault rate for all processes on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (26, 20, 'Resources', 'OS Processor Time (Percent)',1, 'Percentage of CPU time used by all processes on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (27, 60, 'Resources', 'OS Privileged Time (Percent)',1, 'Percentage of CPU time spent by all processes executing in privileged mode on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (28, 60, 'Resources', 'OS User Time (Percent)',1, 'Percentage of CPU time spent by all processes executing in user mode on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (29, 20, 'Resources', 'OS Processor Queue Length (Count)',1, 'Number of ready threads in the processor queue on the SQL Server Computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (30, 60, 'Resources', 'OS Disk Time (Percent)', 0,'Percentage of elapsed time that all the disks were busy servicing read and write requests on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (31, 20, 'Resources', 'OS Average Disk Queue Length (Count)',1, 'Average number of both read and write requests that were queued for all the disks on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (32, 80, 'Sessions', 'Session CPU Time (Seconds)',1, 'CPU Time in seconds used by the SQL Server session since the last scheduled refresh.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (33, 40, 'Sessions', 'Blocking Session Wait Time (Seconds)',1, 'Time in seconds that a SQL Server session has been blocking other sessions. Select the "Non-Query activities>Capture Blocking (SQL 2005+)" check box to retrieve the blocking sessions report for SQLdm.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (34, 80, 'Services', 'SQL Server Agent Long Running Job (Percent)', 0,'Percentage of time a scheduled SQL Server Agent job is taking over the average successful completion time for this job in the current job history.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (35, 40, 'Services', 'SQL Server Agent Job Failure', 0,'The scheduled SQL Server Agent job ended with a Failed status.',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (36, 50, 'General', 'Language', 'Language',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (37, 50, 'General', 'Login Has Administrator Rights', 'Login Has Administrator Rights',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (38, 50, 'General', 'Max Connections', 'Max Connections',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (39, 50, 'General', 'Physical Memory', 'Physical Memory',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (40, 50, 'General', 'Processor Count', 'Processor Count',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (41, 50, 'General', 'Processor Type', 'Processor Type',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (42, 50, 'General', 'Product Version', 'Product Version',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (43, 50, 'General', 'Real Server Name', 'Real Server Name',NULL)
-- INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
-- VALUES (44, 50, 'General', 'Server Open Transactions', 'Server Open Transactions',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (45, 50, 'General', 'Server Time', 'Server Time',NULL)
--INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
--VALUES (46, 50, 'General', 'Windows Version', 'Windows Version',NULL)
-- INSERT INTO MetricInfo (Metric, Rank, Category, Name, Description, Comments) 
-- VALUES (47, 50, 'General', 'Database File Size', 'Database File Size',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (48, 90, 'Operational', 'Maintenance Mode Enabled', 1,'Maintenance Mode has been enabled for the SQL Server instance.  SQL diagnostic manager will not collect scheduled data or process alerts.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (49, 90, 'Operational', 'CLR Enabled', 1,'The Common Language Runtime (CLR) configuration option has been enabled for the SQL Server instance. Managed code can be run in the .NET Framework. Use the Server Configuration view to reconfigure this option on SQL Server 2005 instances.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (50, 90, 'Operational', 'OLE Automation Disabled',1, 'The OLE Automation Procedures configuration option has been disabled (2005) or the procedures have been dropped (2000) for the SQL Server instance. SQL diagnostic manager will not collect data such as OS metrics and service details. Use the Server Configuration view to reconfigure this option on SQL Server 2005 instances.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (51, 80, 'Queries', 'Query Monitor Events (Count)', 1,'The number of queries captured by the Query Monitor on the SQL Server instance during the last scheduled refresh.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (52, 90, 'Operational', 'SQL diagnostic manager Service Status', 1,'Status of the SQL diagnostic manager service.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (53, 50, 'Operational', 'SQL Server Agent XPs Disabled',0, 'The Agent XPs configuration option has been disabled (2005) or the procedures have been dropped (2000) for the SQL Server instance. SQL diagnostic manager will not collect SQL Agent job details. Note that Agent XPs are disabled when SQL Server Agent is stopped, but they may be re-enabled through the Server Configuration view to allow agent job histories to be shown even when the agent is not running.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (54, 50, 'Operational', 'WMI Service Unavailable', 0,'The WMI service is unavailable on the SQL Server computer. SQL diagnostic manager will not collect OS metrics, and processes which require WMI queries will fail.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (55, 50, 'Operational', 'xp_cmdshell Disabled', 0,'The xp_cmdshell configuration option has been disabled (2005) or the procedure has been dropped (2000) for the SQL Server instance. SQL diagnostic manager will not collect SQL Agent logs, or be able to start and stop services. Use the Server Configuration view to reconfigure this option on SQL Server 2005 instances.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (56, 90, 'Operational', 'Operational Alert',1, 'An internal SQLdm operational issue has been encountered. This is an internal item for alerting only.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (57, 60, 'Sessions', 'Client Computers (Count)',1, 'Number of unique client computers connected to the SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (58, 40, 'Sessions', 'Blocked Sessions (Count)',1, 'Number of sessions on the SQL Server instance being blocked by other sessions holding requested locks. Note: The "Non-Query activities>Capture deadlocks (SQL 2005+)" must be enabled for this alert to function.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (59, 30, 'Operational', 'SQL Server Data Used (Percent)',1, 'Percentage of disk space that has been allocated to data files within a SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (60, 30, 'Operational', 'SQL Server Log Used (Percent)',1, 'Percentage of disk space that has been allocated to log files within a SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (62, 60, 'Resources', 'OS Disk Time Per Disk (Percent)',0, 'Percentage of elapsed time that an individual disk was busy servicing read and write requests on the SQL Server computer.  This will alert separately for each disk on a server.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (63, 60, 'Resources', 'OS Average Disk Queue Length Per Disk (Count)',0, 'Average number of both read and write requests that were queued for an individual disk on the SQL Server computer.  This will alert separately for each disk on a server.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (64, 20, 'Resources', 'OS Disk Full (Percent)', 1,'DISK-SPECIFIC ALERT. Percentage of space used on a logical disk on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (65, 80, 'Services', 'SQL Server Agent Long Running Job (Minutes)',0, 'Maximum number of minutes a scheduled SQL Server Agent job should take to complete.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (66, 40, 'Logs', 'SQL Server Error Log', 1,'When configuring this alert, specify which SQL error severities (0-25) correspond to Critical, Warning, or OK. Use the advanced options to specify text matches and set log size limits. The number of SQL Server error log events requiring attention will be reflected in the alert.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (67, 40, 'Logs', 'SQL Server Agent Log', 0,'When configuring this alert, specify which Agent Log Message Severity (1-3) corresponds to Critical, Warning, or OK. Use the advanced options to specify text matches and set log size limits. The number of SQL Agent log events requiring attention will be reflected in the alert.',NULL)

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (68, 30, 'Databases', 'Mirroring Unsent Log (KB)',0, 'Size of the unsent log in the send queue for the principal database in kilobytes.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (69, 30, 'Databases', 'Mirroring Unrestored Log (KB)',0, 'Size of the redo queue on the mirror database in kilobytes.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (70, 30, 'Databases', 'Mirroring Oldest Unsent Transaction (Minutes)',0, 'The age of the oldest unsent transaction in minutes on the principal. This is only meaningful on the principal server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (71, 30, 'Databases', 'Mirror Commit Overhead (Milliseconds)',0, 'Average delay in milliseconds on the principal server instance for each transaction because of database mirroring.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (72, 30, 'Databases', 'Mirroring Status',0, 'Status of the mirrored database such as synchronized, suspended or disconnected.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (73, 30, 'Databases', 'Mirroring Preferred Configuration',0, 'The operational configuration of this mirroring session has changed. ',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (74, 30, 'Databases', 'Mirrored Server Role Change',0, 'A mirrored database role change has taken place.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (75, 30, 'Databases', 'Mirroring Witness Connection', 0,'The mirroring witness is not connected.',NULL)

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (76, 60, 'Resources', 'Page Life Expectancy',1, 'The number of seconds a page is expected to remain in SQL Server''s buffer pool memory.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (77, 10, 'Services', 'Cluster Failover', 0,'A cluster failover has occurred.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (78, 10, 'Services', 'Cluster Active Node',0, 'The active node of the cluster is a non-preferred node.  The preferred node may be configured under Server Properties>Cluster Settings.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (79, 40, 'Services', 'Distribution Latency (Seconds)',1, 'Time in seconds that a replication transaction has been holding at the Publisher and waiting to be received by a Distributor.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (80, 80, 'Sessions', 'Deadlock', 1,'A deadlock occurred on the monitored server.  Note: The "Non-Query activities>Capture deadlocks (SQL 2005+)" must be enabled for this alert to function.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (81, 20, 'Resources', 'Procedure Cache Hit Ratio',1, 'The percentage of procedure cache hits to cache lookups.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (82, 20, 'Resources', 'Average Disk Milliseconds Per Read',1, 'Average time, in milliseconds, of a read operation of data from the disk.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (83, 20, 'Resources', 'Average Disk Milliseconds Per Transfer',1, 'Average time, in milliseconds, of a disk transfer operation.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (84, 20, 'Resources', 'Average Disk Milliseconds Per Write', 1,'Average time, in milliseconds, of a write operation of data to the disk.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (85, 60, 'Resources', 'Disk Reads Per Second', 1,'Rate of read operations on the disk.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (86, 60, 'Resources', 'Disk Transfers Per Second',1, 'Rate of transfer operations on the disk.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (87, 60, 'Resources', 'Disk Writes Per Second',1, 'Rate of write operations on the disk.  This is a per-disk metric.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) 
VALUES (88, 80, 'Services', 'SQL Server Agent Job Completion',0, 'The SQL Server job has completed.',NULL)


declare 
@MetricID int
,@Rank int
,@Category nvarchar(64)
,@Name nvarchar(128)
,@PaaS bit
,@Description512 nvarchar(512)
,@Comments nvarchar(max)


-- 89 - Version Store Generation Rate

select
@MetricID = 89
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Version Store Generation Ratio'
,@PaaS=1
,@Description512 = 'Amount, in percent, by which the tempdb version store generation rate exceeds the cleanup rate. This alert may only be raised on instances running SQL 2005 or above.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 90 - Version Store Size

select
@MetricID = 90
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Version Store Size (MB)'
,@PaaS=1
,@Description512 = 'Size, in megabytes, of the tempdb version store. This alert may only be raised on instances running SQL 2005 or above.'
,@Comments = null



INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 91 - Longest Running Version Store Transaction

select
@MetricID = 91
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Longest Running Version Store Transaction (Minutes)'
,@PaaS=1
,@Description512 = 'Time in minutes for the longest open transaction that requires the version store, and is preventing version store cleanup. This alert may only be raised on instances running SQL 2005 and above.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 92 - Session Tempdb Space Usage

select
@MetricID = 92
,@Rank = 80
,@Category = 'Databases'
,@Name = 'Session Tempdb Space Usage (MB)'
,@PaaS=1
,@Description512 = 'Amount of tempdb space being used by a running session. This alert may only be raised on instances running SQL 2005 or above.'
,@Comments = null



INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)


-- 93 - Tempdb Contention

select
@MetricID = 93
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Tempdb Contention (ms)'
,@PaaS=1
,@Description512 = 'Current wait time for tempdb allocation maps (GAM, SGAM, and PFS), in milliseconds. This alert may only be raised on instances running SQL 2005 or above.'
,@Comments = null



INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- 94 - Log Autogrow

select
@MetricID = 94
,@Rank = 70
,@Category = 'Databases'
,@Name = 'Log File Autogrow'
,@PaaS=0
,@Description512 = 'Log file autogrow occurred on the specified database. Note: The "Non-Query activities>Capture Autogrow" must be enabled for this alert to function.'
,@Comments = null



INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 95 - Data Autogrow

select
@MetricID = 95
,@Rank = 70
,@Category = 'Databases'
,@Name = 'Data File Autogrow'
,@PaaS=0
,@Description512 = 'Data file autogrow occurred on the specified database. Note: The "Non-Query activities>Capture Autogrow" must be enabled for this alert to function.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 96 - VM Config Change

select
@MetricID = 96
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Resource Configuration Change'
,@PaaS=0
,@Description512 = 'A resource configuration change occurred for the virtual machine hosting the monitored SQL Server instance. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- 97 - VM Host Server Change

select
@MetricID = 97
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Host Server Change'
,@PaaS=0
,@Description512 = 'The virtual machine hosting the monitored SQL Server instance moved to a different host. This alert is disabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- 98 - VM CPU Utilization

select
@MetricID = 98
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM CPU Usage (Percent)'
,@PaaS=0
,@Description512 = 'The percentage of available virtual CPU time used by the virtual machine hosting the monitored SQL Server. This may differ from the processor utilization percentage reported by the guest OS. A high percentage may indicate a large number of active client sessions. This alert is disabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 99 - ESX CPU Utilization

select
@MetricID = 99
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'Host CPU Usage (Percent)'
,@PaaS=0
,@Description512 = 'The percentage of available CPU time used by the host server hosting the virtual machine on which the monitored SQL Server is currently running. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 100 - VM Memory Utilization

select
@MetricID = 100
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Memory Usage (Percent)'
,@PaaS=0
,@Description512 = 'The percentage of available memory used by the virtual machine hosting the monitored SQL Server. This may differ from the memory usage percentage reported by the guest OS. This alert is disabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 101 - ESX Memory Usage (Percent)

select
@MetricID = 101
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'Host Memory Usage (Percent)'
,@PaaS=0
,@Description512 = 'The percentage of available memory used by the host server hosting the virtual machine on which the monitored SQL Server resides. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 102 - VM CPU Ready Wait Time

select
@MetricID = 102
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM CPU Ready Wait Time (ms)'
,@PaaS=0
,@Description512 = 'The time in milliseconds that a virtual CPU has been waiting for a physical CPU to become available for processing for the virtual machine on which the monitored SQL Server resides. A spike in this value may indicate CPU pressure on the host server. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 103 - VM Reclaimed/Ballooned Memory (KB)

select
@MetricID = 103
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Reclaimed/Ballooned Memory (KB)'
,@PaaS=0
,@Description512 = 'The amount of memory that is reclaimed by the host and is no longer available to the virtual machine on which the monitored SQL Server instance is running. A spike in this value may be a sign of memory pressure on the host. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 104 - VM Memory Swap Delay Detected

select
@MetricID = 104
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Memory Swap Delay Detected'
,@PaaS=0
,@Description512 = 'Memory being swapped to disk is causing a performance delay on the virtual machine on which the monitored SQL Server instance is running. This alert is triggered if the Memory Swap in Rate (KB/s) or CPU Swap Rate (ms) counters are non-zero. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 105 - ESX Memory Swap Detected

select
@MetricID = 105
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'Host Memory Swap Detected'
,@PaaS=0
,@Description512 = 'Memory is being swapped to disk for the host server hosting the virtual machine on which the monitored SQL Server is currently running. This may be an indication of memory pressure on the host. This alert is disabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 106 - VM Resource Limits are set

select
@MetricID = 106
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Resource Limits Detected'
,@PaaS=0
,@Description512 = 'Either CPU or memory resource limits are set for the virtual machine hosting the monitored SQL Server instance. Resource limits are soft limits set by the VM Administrator on the total amount of resources that a VM is allowed to consume.  This alert is disabled by default and is available only on instances hosted on virtual machines that are enabled for VM monitoring.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 107 - VM Power State

select
@MetricID = 107
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'VM Power State'
,@PaaS=0
,@Description512 = 'This is the power state of the VM as reported by the vCenter or HyperV host servers. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 108 - ESX Power State

select
@MetricID = 108
,@Rank = 20
,@Category = 'Virtualization'
,@Name = 'Host Power State'
,@PaaS=0
,@Description512 = 'This is the state of the host as reported by the vCenter or HyperV host servers. This alert is enabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 109 - Database Size Mb

select
@MetricID = 109
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Database Full (Size)'
,@PaaS=1
,@Description512 = 'DB-SPECIFIC ALERT. The amount of disk space (in MB) currently used by the database as the sum of data, text, and indexes.   This value is the actual amount of used data within the database file, not the size of the database file itself.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 110 - Log File Size Mb

select
@MetricID = 110
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Log Full (Size)'
,@PaaS=1
,@Description512 = 'DB-SPECIFIC ALERT. The amount of disk space (in MB) currently used by the transaction log for this database.   This value is the actual amount of data within the log, not the size of the database log file itself.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 111 - OS Disk Free Space

select
@MetricID = 111
,@Rank = 20
,@Category = 'Resources'
,@Name = 'OS Disk Free Space (Size)'
,@PaaS=1
,@Description512 = 'DISK-SPECIFIC ALERT. Amount of space (in MB) available on a logical disk on the SQL Server computer.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

---- 112 - SQLsafe Backup Operation Status

--select
--@MetricID = 112
--,@Rank = 50
--,@Category = 'Databases'
--,@Name = 'SQLsafe Backup Operation Status'
--,@Description512 = 'DB-SPECIFIC ALERT. The status of a SQLsafe backup operation.'
--,@Comments = null
--

--INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @Description512, @Comments)

---- 113 - SQLsafe Restore Operation Status

--select
--@MetricID = 113
--,@Rank = 50
--,@Category = 'Databases'
--,@Name = 'SQLsafe Restore Operation Status'
--,@Description512 = 'DB-SPECIFIC ALERT. The status of a SQLsafe restore operation.'
--,@Comments = null
--

--INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @Description512, @Comments)

---- 114 - SQLsafe Defragmentation Operation Status

--select
--@MetricID = 114
--,@Rank = 50
--,@Category = 'Databases'
--,@Name = 'SQLsafe Defragmentation Operation Status'
--,@Description512 = 'DB-SPECIFIC ALERT. The status of a SQLsafe defragmentation operation.'
--,@Comments = null
--

--INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @Description512, @Comments)

---- 115 - SQLsafe Connection Status

--select
--@MetricID = 115
--,@Rank = 50
--,@Category = 'Operational'
--,@Name = 'SQLsafe Connection Status'
--,@Description512 = 'Alerts when there is a problem connecting to a SQLsafe repository.'
--,@Comments = null
--

--INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @Description512, @Comments)

-- 116 - Availability Group Role Change 
select
@MetricID = 116
,@Rank = 10
,@Category = 'Databases'
,@Name = 'Availability Group Role Change'
,@PaaS=0
,@Description512 = 'Primary role changed to a secondary replica. Alert includes affected database(s) for the entire availability group.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 117 - Availability Group Estimated Data Loss (Seconds)
select
@MetricID = 117
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Estimated Data Loss (Seconds)'
,@PaaS=0
,@Description512 = 'The time period in seconds that data is not synchronized to the secondary replica.  Value reflects the time difference of the last commit between the primary and secondary replicas. Alert includes affected database(s).'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 118 - Availability Group Synchronization Health 
select
@MetricID = 118
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Synchronization Health'
,@PaaS=0
,@Description512 = 'Reflects database synchronization state in the availability group.  Possible values include: not healthy, partially healthy, and healthy.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 119 - Availability Group Estimated Recovery Time (Seconds)
select
@MetricID = 119
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Estimated Recovery Time (Seconds)'
,@PaaS=0
,@Description512 = 'The required time in seconds that the secondary replica needs, to catch up with the primary replica in the event of a failover. Alert includes the affected database(s).'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- 120 - Availability Group Synchronization Performance (Seconds)
select
@MetricID = 120
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Synchronization Performance (Seconds)'
,@PaaS=0
,@Description512 = 'The time required in seconds to complete synchronization between the primary and secondary replicas.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 121 - Availability Group Log Send Queue Size (KB)
select
@MetricID = 121
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Log Send Queue Size (KB)'
,@PaaS=0
,@Description512 = 'Amount of log records in KB needed to ship to the secondary replica to complete synchronization. Alert includes affected database(s).'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 122 - Availability Group Redo Queue Size (KB) 
select
@MetricID = 122
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Redo Queue Size (KB)'
,@PaaS=0
,@Description512 = 'Amount of log records from log files in KB that need redoing in the secondary replica to complete synchronization. Alert includes affected database(s).'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- 123 - Availability Group Redo Rate (KB/sec) 
select
@MetricID = 123
,@Rank = 20
,@Category = 'Databases'
,@Name = 'Availability Group Redo Rate (KB/sec)'
,@PaaS=0
,@Description512 = 'Rate in KB per second at which log records are redone in the secondary database to complete synchronization. Alert includes affected database(s).'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

--SQLdm 8.6 (Ankit Srivastava) -- Added new metric for Preferred Node feature
-- 124 - Availability Group Preferred Replica Unavailability
select
@MetricID = 124
,@Rank = 10
,@Category = 'Databases'
,@Name = 'Availability Group Preferred Replica' --SQLdm 8.6 (Ankit Srivastava)  -- Fixed the defects DE43718
,@PaaS=0
,@Description512 = 'Alert is raised when the database is no longer on the preferred replica.'
,@Comments = null


INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name, @PaaS,@Description512, @Comments)

-- start- SQLdm 9.0 (Ankit Srivastava) -- Added new metric for Grooming Timed Out
-- 125 - SQLdm Repository Grooming Timed Out
select
@MetricID=125
,@Rank = 90
,@Category = 'Operational'
,@Name = 'SQLdm Repository Grooming Timed Out'
,@PaaS=1
,@Description512 = 'Grooming timed out on your SQL Server Repository. SQL diagnostic manager no longer deletes stored metrics in the SQLdm Repository at the set schedule. To review your grooming settings access Tools > Grooming Options.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
-- end- SQLdm 9.0 (Ankit Srivastava) -- Added new metric for Grooming Timed Out

--START: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added new metrices for filegroup space full alerts
-- 126 - Filegroup space full (Percent)
select
@MetricID = 126
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Filegroup Space Full (Percent)'
,@PaaS=0
,@Description512 = 'DB-SPECIFIC ALERT. Percentage of the allowable file group space for the database currently used by all the files in a file group.  By default, this percentage includes allocated space, auto-growth settings, and available disk space in its calculation.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 127 - Filegroup space full (Percent)
select
@MetricID = 127
,@Rank = 30
,@Category = 'Databases'
,@Name = 'Filegroup Space Full (Size)'
,@PaaS=0
,@Description512 = 'DB-SPECIFIC ALERT. The amount of disk space (in MB) currently used by the database as the sum of all the files in a file group.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
--END: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added new metrices for filegroup space full alerts


--START: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add new service alerts
-- 128 - SQL Browser Service Status
select
@MetricID = 128
,@Rank = 50
,@Category = 'Services'
,@Name = 'SQL Server Browser Service Status'
,@PaaS=0
,@Description512 = 'Status of the SQL Server Browser service.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)

-- 129 - SQL Active Directory Helper Service Status
select
@MetricID = 129
,@Rank = 50
,@Category = 'Services'
,@Name = 'SQL Server Active Directory Helper Service Status'
,@PaaS=0
,@Description512 = 'Status of the SQL Server Active Directory Helper service.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
--END: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add new service alerts

--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
-- 130 - Days since last backup
select
@MetricID = 130
,@Rank = 40
,@Category = 'Backup'
,@Name = 'Days since last backup'
,@PaaS=1
,@Description512 = 'Days since the last full or differential backup of the database.'
,@Comments = null

-- Start Nitor - Add new metrics for Azure and RDS instances	Date:18-Feb-2019
-- Azure
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 131
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Average Data IO Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of Data IO being used relative to the current service tier of the database. High values may indicate that the service tier needs to be raised. '
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 132
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Average Log Write Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of log write activity being used relative to the current service tier of the database.High values may indicate that the service tier needs to be raised.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 133
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Max Worker Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of worker threads used on the database, relative to the maximum available for the service tier. High values indicate that there may not be enough worker threads available to support the peak workload.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 134
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Max Session Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of user sessions on the database, relative to the maximum available for the service tier. High values indicate that there may not be enough sessions available to support the users or processes.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 135
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Service Tier Changes'
,@PaaS=1
,@Description512 = 'This metric indicates whether the service level for a database has been changed in the time period being checked.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 136
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Database Average Memory Usage Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of memory used for the database, relative to the maximum available for the service tier. High values indicate that there may not be enough memory available to support the peak workload.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 137
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'In-Memory Storage Usage Percent High'
,@PaaS=1
,@Description512 = 'This metric is the percentage of storage used for in-memory transaction within the database, relative to the maximum available for the service tier. . High values indicate that there may not be enough storage available to support the peak workload.'
,@Comments = null

--START 5.4.2

-- Azure
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 175
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Average Data IO Percent Low'
,@PaaS=1
,@Description512 = 'This metric is the percentage of Data IO being used relative to the current service tier of the database. Consistent low values indicate that the service tier selected may be more than what is required for the database. '
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 176
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Average Log Write Percent Low'
,@PaaS=1
,@Description512 = ' This metric is the percentage of log write activity being used relative to the current service tier of the database. Consistent low values indicate that the service tier selected may be more than what is required for the database. '
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 177
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Max Worker Percent Low'
,@PaaS=1
,@Description512 = 'This metric is the percentage of worker threads used on the database, relative to the maximum available for the service tier. Consistently low values indicate that the service tier may be more than what is required for the workload.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 178
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Max Session Percent Low'
,@PaaS=1
,@Description512 = ': This metric is the percentage of user sessions on the database, relative to the maximum available for the service tier. Consistently low values indicate that the service tier may be more than what is required for the number of connections. '
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 179
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Database Average Memory Usage Percent Low'
,@PaaS=1
,@Description512 = 'This metric is the percentage of memory used for the database, relative to the maximum available for the service tier. Consistently low values indicate that the service tier may be more than what is required for the workload.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 180
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'In-Memory Storage Usage Percent Low'
,@PaaS=1
,@Description512 = 'This metric is the percentage of storage used for in-memory transaction within the database, relative to the maximum available for the service tier. Consistently low values indicate that the service tier may be more than what is required for the workload.'
,@Comments = null

--END 5.4.2

-- RDS
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 138
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'CPU Credit Balance Low'
,@PaaS=1
,@Description512 = 'This metric is relevant to RDS databases running in a T2 level instance. The more vCPUs available to the instance, the higher the number of credits per hour should be. If the balance of credits is consistently low, this indicates that the workload is using more CPU than the instance can support. If the value is consistently high, then the instance may be too large for the workload it is supporting. CPU Credit Balance is collected only at 5-minute intervals.'
,@Comments = null

-- RDS
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 181
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'CPU Credit Balance High'
,@PaaS=1
,@Description512 = 'This metric is relevant to RDS databases running in a T2 level instance. The more vCPUs available to the instance, the higher the number of credits per hour should be. If the balance of credits is consistently low, this indicates that the workload is using more CPU than the instance can support. If the value is consistently high, then the instance may be too large for the workload it is supporting. CPU Credit Balance is collected only at 5-minute intervals.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 139
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'CPU Credit Usage'
,@PaaS=0
,@Description512 = 'This metric is relevant to RDS databases running in a T2 level instance. The more vCPUs available to the instance, more credits per hour should accumulate.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 140
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Disk Queue Depth'
,@PaaS=1
,@Description512 = 'Disk Queue Depth is a measure of how many outstanding requests are waiting to be handled by the storage system.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 141
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Read Latency High'
,@PaaS=1
,@Description512 = 'Read latency is the measure of how long it takes for the SQL Server instance to complete a read from storage. High average read latency indicates that the storage system is not performing well or is overwhelmed.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 182
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Read Latency Low'
,@PaaS=1
,@Description512 = 'Read latency is the measure of how long it takes for the SQL Server instance to complete a read from storage. High average read latency indicates that the storage system is not performing well or is overwhelmed.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 142
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Read Throughput'
,@PaaS=1
,@Description512 = 'Read throughput is a measure of how many MB/sec is being read from storage.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 143
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Swap Usage'
,@PaaS=1
,@Description512 = 'Swap Space is used when there is not enough available memory to fulfill a request.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 144
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Write Latency High'
,@PaaS=1
,@Description512 = 'Write latency is the measure of how long it takes for the SQL Server instance to complete a read from storage. High average write latency indicates that the storage system is not performing well or is overwhelmed.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 183
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Write Latency Low'
,@PaaS=1
,@Description512 = 'Write latency is the measure of how long it takes for the SQL Server instance to complete a read from storage. High average write latency indicates that the storage system is not performing well or is overwhelmed.'
,@Comments = null

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name, PaaS,Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
SELECT
@MetricID = 145
,@Rank = 100
,@Category = 'DBaaS'
,@Name = 'Write Throughput'
,@PaaS=1
,@Description512 = 'Write throughput is a measure of how many MB/sec is being read from storage.'
,@Comments = null
-- End Nitor

INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) values (@MetricID, @Rank, @Category, @Name,@PaaS, @Description512, @Comments)
--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts

-- NITOR START: Done changes for Baseline Alerts		DATE: 26-Feb-2019
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (146,20,'Resources','SQL Server CPU Usage (Percent)_Baseline',1,'Percentage of CPU Time used by the SQL Server instance out of the total on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (147,20,'Sessions','User Connections (Percent)_Baseline',1,'Percentage of the user connections allowed by the SQL Server instance that are currently used.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (148,40,'Services','Latent replication transaction (Count)_Baseline',1,'Number of replication transactions published by the Publisher but not received by the Distributor.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (149,40,'Services','Unsubscribed Transactions (Count)_Baseline',1,'Number of replication transactions received by the Distributor and not received by a Subscriber.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (150,40,'Sessions','Oldest Open Transaction (Minutes)_Baseline',1,'Time in minutes that the longest running transaction in the database has used since issuing the Begin Transaction statement.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (151,20,'Resources','SQL Server Memory Usage (Percent)_Baseline',1,'Percentage of memory used by the SQL Server instance out of the total memory on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (152,80,'Services','Unsubscribed Transactions (Seconds)_Baseline',1,'Time in seconds that a replicated transaction has been holding at the Distributor and waiting to be received by a Subscriber.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (153,40,'Sessions','SQL Server Response Time (Milliseconds)_Baseline',1,'Time in milliseconds SQL diagnostic manager currently needs to send a simple SQL command to the SQL Server instance, have it processed, and receive the returned result set.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (154,20,'Resources','OS Memory Usage (Percent)_Baseline',1,'Percentage of total memory used on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (155,60,'Resources','OS Paging (Per Second)_Baseline',1,'Page fault rate for all processes on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (156,20,'Resources','OS Processor Time (Percent)_Baseline',1,'Percentage of CPU time used by all processes on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (157,60,'Resources','OS Privileged Time (Percent)_Baseline',1,'Percentage of CPU time spent by all processes executing in privileged mode on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (158,60,'Resources','OS User Time (Percent)_Baseline',1,'Percentage of CPU time spent by all processes executing in user mode on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (159,20,'Resources','OS Processor Queue Length (Count)_Baseline',1,'Number of ready threads in the processor queue on the SQL Server Computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (160,60,'Resources','OS Disk Time (Percent)_Baseline',0,'Percentage of elapsed time that all the disks were busy servicing read and write requests on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (161,20,'Resources','OS Average Disk Queue Length (Count)_Baseline',1,'Average number of both read and write requests that were queued for all the disks on the SQL Server computer.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (162,60,'Sessions','Client Computers (Count)_Baseline',1,'Number of unique client computers connected to the SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (163,40,'Sessions','Blocked Sessions (Count)_Baseline',1,'Number of sessions on the SQL Server instance being blocked by other sessions holding requested locks. Note: The "Non-Query activities>Capture deadlocks (SQL 2005+)" must be enabled for this alert to function.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (164,30,'Operational','SQL Server Data Used (Percent)_Baseline',1,'Percentage of disk space that has been allocated to data files within a SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (165,30,'Operational','SQL Server Log Used (Percent)_Baseline',1,'Percentage of disk space that has been allocated to log files within a SQL Server instance.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (166,60,'Resources','Page Life Expectancy_Baseline',1,'The number of seconds a page is expected to remain in SQL Server''s buffer pool memory.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (167,20,'Resources','Procedure Cache Hit Ratio_Baseline',1,'The percentage of procedure cache hits to cache lookups.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (168,20,'Virtualization','VM CPU Usage (Percent)_Baseline',0,'The percentage of available virtual CPU time used by the virtual machine hosting the monitored SQL Server. This may differ from the processor utilization percentage reported by the guest OS. A high percentage may indicate a large number of active client sessions. This alert is disabled by default and is only relevant to instances hosted on virtual machines enabled for VM monitoring in the SQLdm VM Configuration window.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (169,20,'Databases','Availability Group Estimated Data Loss (Seconds)_Baseline',0,'The time period in seconds that data is not synchronized to the secondary replica.  Value reflects the time difference of the last commit between the primary and secondary replicas. Alert includes affected database(s).',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (170,20,'Databases','Availability Group Estimated Recovery Time (Seconds)_Baseline',0,'The required time in seconds that the secondary replica needs, to catch up with the primary replica in the event of a failover. Alert includes the affected database(s).',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (171,20,'Databases','Availability Group Synchronization Performance (Seconds)_Baseline',0,'The time required in seconds to complete synchronization between the primary and secondary replicas.',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (172,20,'Databases','Availability Group Log Send Queue Size (KB)_Baseline',0,'Amount of log records in KB needed to ship to the secondary replica to complete synchronization. Alert includes affected database(s).',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (173,20,'Databases','Availability Group Redo Queue Size (KB)_Baseline',0,'Amount of log records from log files in KB that need redoing in the secondary replica to complete synchronization. Alert includes affected database(s).',NULL)
INSERT INTO #upgrade_metric_info (Metric, Rank, Category, Name,PaaS, Description, Comments) VALUES (174,20,'Databases','Availability Group Redo Rate (KB/sec)_Baseline',0,'Rate in KB per second at which log records are redone in the secondary database to complete synchronization. Alert includes affected database(s).',NULL)

-- NITOR END

-- insert new rows 
INSERT INTO [MetricInfo] ([Metric], [Rank], [Category], [Name],[PaaS],[Description], Comments)
	SELECT [Metric], [Rank], [Category], [Name],[PaaS],[Description], [Comments] FROM #upgrade_metric_info 
		WHERE [Metric] not in (select Metric from MetricInfo)
-- update all 
UPDATE [MetricInfo]
	SET   [MetricInfo].[UTCLastChangeDateTime] = [TMI].[UTCLastChangeDateTime]
		, [MetricInfo].[Name] = [TMI].[Name]
		, [MetricInfo].[Category] = [TMI].[Category]
		, [MetricInfo].[PaaS] = [TMI].[PaaS]
		, [MetricInfo].[Description] = [TMI].[Description]
		
		-- [Comments] is the only user updatable column that we need to preserve for records we ship
		, [MetricInfo].[Comments] = coalesce([MetricInfo].[Comments],[TMI].[Comments])
		, [MetricInfo].[Rank] = [TMI].[Rank]
	FROM #upgrade_metric_info [TMI]
	WHERE
		[MetricInfo].[Metric] = [TMI].[Metric] 

-- Metric 52 was removed after 5.0 beta
DELETE FROM DefaultMetricThresholds where Metric = 52
DELETE FROM MetricThresholds where Metric = 52

----------------------------------------------------------------------------

-- No user maintained fields in MetricMetaData
if (select isnull(object_id('tempdb..#upgrade_metric_metadata'), 0)) <> 0 
begin 
	print 'truncating #upgrade_metric_metadata'
	truncate table #upgrade_metric_metadata
end 
else
begin
	print 'creating #upgrade_metric_metadata'
	CREATE TABLE #upgrade_metric_metadata (
		[Metric] [int] NOT NULL,
		[UTCLastChangeDateTime] [datetime] DEFAULT (GETUTCDATE()),
		[Deleted] [bit] NOT NULL DEFAULT ((0)),
		[Class] [int] NOT NULL,
		[Flags] [int] NOT NULL,
		[MinValue] [int] NOT NULL,
		[MaxValue] [bigint] NOT NULL,
		[DefaultWarningValue] [bigint] NOT NULL,
		[DefaultCriticalValue] [bigint] NOT NULL,
		[DoNotifications] [bit] NOT NULL,
		[EventCategory] [int] NULL,
		[DefaultMessageID] [int] NULL,
		[AlertEnabledDefault] [bit] NOT NULL,
		[ValueComparison] [int] NOT NULL,
		[ValueType] [nvarchar](128) NOT NULL,
		[Rank] int NULL, 
		[DefaultInfoValue] [bigint] NOT NULL,
		[IsValidForSqlExpress] [BIT] NOT NULL,
		[BaselineMaxValue] [bigint] NOT NULL,
		[BaselineDefaultWarningValue] [bigint] NOT NULL,
		[BaselineDefaultCriticalValue] [bigint] NOT NULL,
		[BaselineDefaultInfoValue] [bigint] NOT NULL,
		PRIMARY KEY CLUSTERED ([Metric])
	)
end

INSERT INTO #upgrade_metric_metadata   ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,0,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,95,0,80,1,3,3,100,1,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5,0,1,1,3,131,2147483647,4,0,40,0,'System.Int32',0,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5,0,1,1,3,131,2147483647,5,0,40,0,'System.Int32',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,10,0,5,1,3,131,99999,6,0,40,0,'System.Int32',3,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,7,0,70,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,579,100,8,0,30,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,579,100,9,0,30,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,2,0,1,3,18,100,10,0,10,0,'Idera.SQLdm.Common.Snapshots.ServiceState',0,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,35,100,11,0,30,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,3,0,1,3,18,100,12,0,10,0,'Idera.SQLdm.Common.Snapshots.ServiceState',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,13,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,82,100,14,0,30,0,'Idera.SQLdm.Common.Events.DBStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,60,0,30,1,3,131,10000,17,0,80,0,'System.Int32',15,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,2,0,1,3,18,100,18,0,10,0,'Idera.SQLdm.Common.Snapshots.ServiceState',0,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,1,0,1,3,18,100,19,0,50,0,'Idera.SQLdm.Common.Snapshots.ServiceState',0,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,10,0,5,1,3,3,100,20,0,70,0,'System.Int32',3,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,48,0,24,1,3,3,100,21,0,50,0,'System.Int32',12,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5000,0,2000,1,3,3,10000,22,0,40,0,'System.Int32',1500,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,18,100,23,0,90,0,'Idera.SQLdm.Common.Snapshots.OSMetricsStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,24,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1000,0,100,1,3,131,10000,25,0,60,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,26,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,27,0,60,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,28,0,60,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5,0,3,1,3,131,999,29,0,20,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,3,100,30,0,60,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5,0,3,1,3,131,999,31,0,20,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,60,0,20,1,3,131,999,32,0,80,0,'System.Int32',10,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,150,0,20,1,3,131,43200,33,0,40,0,'System.Int32',10,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,50,1,3,195,999,34,0,80,0,'System.Int32',20,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,1,0,1,1,3,99,100,35,0,40,0,'System.Int32',1,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,3,0,0,0,0,3,34,100,48,0,90,0,'Idera.SQLdm.Common.Events.OptionStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,49,0,90,0,'Idera.SQLdm.Common.Events.OptionStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,50,0,90,0,'Idera.SQLdm.Common.Events.OptionStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,1,0,1,1,3,3,1000,51,0,80,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,2,0,0,0,1,3,18,100,52,0,90,0,'Idera.SQLdm.Common.Events.SQLdmServiceState',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,53,0,50,0,'Idera.SQLdm.Common.Events.OptionStatus',0,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,54,0,50,0,'Idera.SQLdm.Common.Events.OptionStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,55,0,50,0,'Idera.SQLdm.Common.Events.OptionStatus',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,34,100,56,0,90,0,'System.Object',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,50,0,25,1,3,131,100000,57,0,60,0,'System.Int32',10,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,131,10000,58,0,40,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,90,0,75,1,3,3,100,59,0,30,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,90,0,75,1,3,3,100,60,0,30,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,4,195,999999999999999,61,0,50,1,'System.Int64',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,67,100,62,0,60,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,5,0,3,1,3,131,999,63,0,60,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,90,0,75,1,3,579,100,64,0,20,0,'System.Int32',50,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,20,0,10,1,3,195,9999,65,0,80,0,'System.Int32',5,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,18,0,11,1,3,67,30,66,1,40,0,'System.Int32',8,1, 300, 100, 120, 50)    --SQLdm 10.1.3 (Varun Chopra) - Updated the flag not to calculate the Max Value for SQL Error Log Alert
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,1,0,2,1,3,67,3,67,1,40,1,'System.Int32',3,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,64,0,48,1,3,195,6000000,68,1,30,0,'System.Int32',24,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,64,0,48,1,3,195,99999,69,1,30,0,'System.Int32',24,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,5,0,10,1,3,195,99999,70,1,30,0,'System.Int32',20,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,10,0,20,1,3,195,99999,71,1,30,0,'System.Int32',30,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,0,0,0,1,3,82,100,72,0,30,0,'Idera.SQLdm.Common.Snapshots.MirroringMetrics+MirroringStateEnum',0,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,99,100,73,0,30,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,99,100,74,0,30,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,99,100,75,0,30,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1600,0,3600,1,4,195,999999999999999,76,0,60,1,'System.Int64',4800,1, 300, 100, 50, 120)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,99,100,77,0,10,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,1,0,1,1,3,99,100,78,0,10,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,60,0,30,1,3,131,10000,79,0,40,0,'System.Int32',15,0, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (1,0,1,0,1,1,3,99,100,80,0,80,0,'System.Int32',1,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,65,0,80,1,3,3,100,81,0,20,1,'System.Int32',100,1, 300, 100, 50, 120)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,20,0,10,1,3,131,99999,82,0,20,0,'System.Int32',5,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,20,0,10,1,3,131,99999,83,0,20,0,'System.Int32',5,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,20,0,10,1,3,131,99999,84,0,20,0,'System.Int32',5,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,500,0,200,1,3,131,99999,85,0,60,0,'System.Int32',100,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,500,0,200,1,3,131,99999,86,0,60,0,'System.Int32',100,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,500,0,200,1,3,131,99999,87,0,60,0,'System.Int32',100,1, 300, 100, 120, 50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,0,0,0,1,6,18,100,88,0,80,0,'Idera.SQLdm.Common.Snapshots.JobStepCompletionStatus',0,0, 300, 100, 120, 50)


declare
@Metric int,
@UTCLastChangeDateTime datetime,
@Deleted bit,
@Class int, -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
@Flags int, --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024, Single Alert Type Value per Instance  =1024
@MinValue int,
@MaxValue bigint,
@DefaultWarningValue bigint,
@DefaultCriticalValue bigint,
@DoNotifications bit,
@EventCategory int, -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
@DefaultMessageID int,
@AlertEnabledDefault bit,
@ValueComparison int, -- 0 = GE, 1 = LE
@ValueType nvarchar(128),
@DefaultInfoValue bigint-- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@IsValidForSqlExpress bit
,@BaselineMaxValue bigint, --START-- 10.0 SQLdm srishti -- For Baseline alert
@BaselineDefaultWarningValue bigint,
@BaselineDefaultCriticalValue bigint,
@BaselineDefaultInfoValue bigint--END-- 10.0 SQLdm srishti -- For Baseline alert

-- 89 - Version Store Generation Rate
select
@Metric = 89
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 9999
,@DefaultInfoValue = 30
,@DefaultWarningValue = 50
,@DefaultCriticalValue = 80
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 195 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 90 - Version Store Size
select
@Metric = 90
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 9999
,@DefaultInfoValue = 100
,@DefaultWarningValue = 200
,@DefaultCriticalValue = 300
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 195 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 91 - Longest Running Version Store Transaction

select
@Metric = 91
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999
,@DefaultInfoValue = 5
,@DefaultWarningValue = 10
,@DefaultCriticalValue = 15
,@Class = 2 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 195 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 92 - Session Tempdb Space Usage

select
@Metric = 92
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 99999
,@DefaultInfoValue = 50
,@DefaultWarningValue = 100
,@DefaultCriticalValue = 150
,@Class = 2 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 195 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 80
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 93 - Tempdb Contention

select
@Metric = 93
,@AlertEnabledDefault = 1
,@MinValue = 1
,@MaxValue = 99999
,@DefaultInfoValue = 100
,@DefaultWarningValue = 250
,@DefaultCriticalValue = 500
,@Class = 2 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 195 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 94 - Log Autogrow
select
@Metric = 94
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 70
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 95 - Data Autogrow

select
@Metric = 95
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 70
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 96 - VM Config Change

select
@Metric = 96
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 1
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 97 - VM Host Server Change

select
@Metric = 97
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 1
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 98 - VM CPU Utilization

select
@Metric = 98
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 50
,@DefaultWarningValue = 75
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 3 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)



-- 99 - ESX CPU Utilization

select
@Metric = 99
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 50
,@DefaultWarningValue = 75
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 3 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 100 - VM Memory Utilization

select
@Metric = 100
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 50
,@DefaultWarningValue = 75
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 3 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 101 - ESX Memory Usage (Percent)

select
@Metric = 101
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 50
,@DefaultWarningValue = 75
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 3 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 102 - VM CPU Ready Wait Time

select
@Metric = 102
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999999
,@DefaultInfoValue = 100
,@DefaultWarningValue = 250
,@DefaultCriticalValue = 500
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 103 - VM Reclaimed/Ballooned Memory (KB)

select
@Metric = 103
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999999
,@DefaultInfoValue = 500
,@DefaultWarningValue = 1000
,@DefaultCriticalValue = 2000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 104 - VM Memory Swap Delay Detected

select
@Metric = 104
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 105 - ESX Memory Swap Detected

select
@Metric = 105
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 106 - VM Resource Limits Detected

select
@Metric = 106
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 1
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 107 - VM Power State

select
@Metric = 107
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 18 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'Vim25Api.VirtualMachinePowerState, Vim25Service'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 108 - ESX Power State

select
@Metric = 108
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 18 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'Vim25Api.HostSystemPowerState, Vim25Service'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 109 - Database Size

select
@Metric = 109
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 100000
,@DefaultWarningValue = 500000
,@DefaultCriticalValue = 1000000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 707 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int64'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 110 - Log Size

select
@Metric = 110
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 100
,@DefaultWarningValue = 500
,@DefaultCriticalValue = 1000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 707 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int64'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 111 - OS Disk Free

select
@Metric = 111
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 1000
,@DefaultWarningValue = 500
,@DefaultCriticalValue = 100
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 707 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int64'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 50
,@BaselineDefaultInfoValue = 120

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

---- 112 - SQLsafe Backup Operation Status

--select
--@Metric = 112
--,@AlertEnabledDefault = 0
--,@MinValue = 0
--,@MaxValue = 100
--,@DefaultInfoValue = 0
--,@DefaultWarningValue = 0
--,@DefaultCriticalValue = 0
--,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
--,@DefaultMessageID = 0
--,@DoNotifications = 1
--,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
--,@Flags = 530 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
--,@Rank = 50
--,@ValueComparison = 0 -- 0 = GE, 1 = LE
--,@ValueType = 'Idera.SQLsafe.Shared.Service.Backup.OperationStatusCode, SQLsafeShared'

--INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

---- 113 - SQLsafe Restore Operation Status

--select
--@Metric = 113
--,@AlertEnabledDefault = 0
--,@MinValue = 0
--,@MaxValue = 100
--,@DefaultInfoValue = 0
--,@DefaultWarningValue = 0
--,@DefaultCriticalValue = 0
--,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
--,@DefaultMessageID = 0
--,@DoNotifications = 1
--,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
--,@Flags = 530 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
--,@Rank = 50
--,@ValueComparison = 0 -- 0 = GE, 1 = LE
--,@ValueType = 'Idera.SQLsafe.Shared.Service.Backup.OperationStatusCode, SQLsafeShared'

--INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

---- 114 - SQLsafe Defrag Operation Status

--select
--@Metric = 114
--,@AlertEnabledDefault = 0
--,@MinValue = 0
--,@MaxValue = 100
--,@DefaultInfoValue = 0
--,@DefaultWarningValue = 0
--,@DefaultCriticalValue = 0
--,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
--,@DefaultMessageID = 0
--,@DoNotifications = 1
--,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
--,@Flags = 530 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
--,@Rank = 50
--,@ValueComparison = 0 -- 0 = GE, 1 = LE
--,@ValueType = 'Idera.SQLsafe.Shared.Service.Backup.OperationStatusCode, SQLsafeShared'

--INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

---- 115 - SQLsafe Connection Status

--select
--@Metric = 115
--,@AlertEnabledDefault = 1
--,@MinValue = 0
--,@MaxValue = 100
--,@DefaultInfoValue = 0
--,@DefaultWarningValue = 0
--,@DefaultCriticalValue = 0
--,@Class = 2 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
--,@DefaultMessageID = 0
--,@DoNotifications = 1
--,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
--,@Flags = 34 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
--,@Rank = 50
--,@ValueComparison = 0 -- 0 = GE, 1 = LE
--,@ValueType = 'Idera.SQLdm.Common.Events.OptionStatus'

--INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)



-- 116 - Availability Group Role Change 

select
@Metric = 116
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 10
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- 117 - Availability Group Estimated Data Loss (Seconds)

select
@Metric = 117
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999999
,@DefaultInfoValue = 600
,@DefaultWarningValue = 900
,@DefaultCriticalValue = 1800
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 118 - Availability Group Synchronization Health 

select
@Metric = 118
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Boolean'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 119 - Availability Group Estimated Recovery Time (Seconds)

select
@Metric = 119
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999999
,@DefaultInfoValue = 600
,@DefaultWarningValue = 900
,@DefaultCriticalValue = 1800
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 120 - Availability Group Synchronization Performance (seconds)

select
@Metric = 120
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 9999999
,@DefaultInfoValue = 600
,@DefaultWarningValue = 900
,@DefaultCriticalValue = 1800
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)



-- 121 - Availability Group Log Send Queue Size (KB)
--(Barkha Khatri)SQLDM 19680 fix (changing upper limit of warning,critical  and lower limit of critical)
select
@Metric = 121
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999000000
,@DefaultInfoValue = 1024
,@DefaultWarningValue = 4096
,@DefaultCriticalValue = 50000000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 122 - Availability Group Redo Queue Size (KB)
 
select
@Metric = 122
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 99999999 -- SQLDM-26485 - Changing the max value
,@DefaultInfoValue = 1024
,@DefaultWarningValue = 25000000 -- SQLDM-26485 - Changing the warning and critical threshold values
,@DefaultCriticalValue = 30000000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)


-- 123 - Availability Group Redo Rate (KB/sec) 

select
@Metric = 123
,@AlertEnabledDefault = 0
,@MinValue = 1
,@MaxValue = 9999999
,@DefaultInfoValue = 2000
,@DefaultWarningValue = 1000
,@DefaultCriticalValue = 500
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 20
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 50
,@BaselineDefaultInfoValue = 120

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

--SQLdm 8.6 (Ankit Srivastava) -- Added new metric for Preferred Node feature
select
@Metric = 124
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 1
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 1
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 1568 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 10
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- start- SQLdm 9.0 (Ankit Srivastava) -- Added new metric for Grooming Timed Out
select
@Metric = 125
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 1
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 1
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 34 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 90
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- end- SQLdm 9.0 (Ankit Srivastava) -- Added new metric for Grooming Timed Out

-- START: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added new metrices for filegroup space full alerts
select
@Metric = 126
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 50
,@DefaultWarningValue = 75
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 579 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int32'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

select
@Metric = 127
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 100000
,@DefaultWarningValue = 500000
,@DefaultCriticalValue = 1000000
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 707 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 30
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int64'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

-- END: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added new metrices for filegroup space full alerts

--START: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the meta data corresponding to new SQL services

select
@Metric = 128
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 3
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 18 
,@Rank = 50
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'Idera.SQLdm.Common.Snapshots.ServiceState'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

select
@Metric = 129
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 3
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 18 
,@Rank = 50
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'Idera.SQLdm.Common.Snapshots.ServiceState'
,@IsValidForSqlExpress =0
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)

--END: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the meta data corresponding to new SQL services

--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
-- 130 - Database Last Backed up since

select
@Metric = 130
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 99999999
,@DefaultInfoValue = 5
,@DefaultWarningValue = 10
,@DefaultCriticalValue = 30
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 707 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Int64'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts


--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Data IO Percent
select
@Metric = 131
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 60
,@DefaultCriticalValue = 80
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Data IO Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Log Write Percent
select
@Metric = 132
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 60
,@DefaultCriticalValue = 80
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Log Write Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Worker Percent
select
@Metric = 133
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 70
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Worker Percent


--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Session Percent
select
@Metric = 134
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 60
,@DefaultCriticalValue = 80
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Session Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Service Tier Changes
--This a binary alert - Either the service tier changed or it did not. This is like the Availability Group Replica Role Changed alert. Use that alert as a guide for this one

select
@Metric = 135
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 1
,@DefaultInfoValue = 0
,@DefaultWarningValue = 1
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 32 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 10
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Service Tier Changes

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Database Average Memory Usage Percent
select
@Metric = 136
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 70
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Database Average Memory Usage Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - In-Memory Storage Usage Percent
select
@Metric = 137
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 0
,@DefaultWarningValue = 70
,@DefaultCriticalValue = 90
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - In-Memory Storage Usage Percent

--START 5.4.2

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Data IO Percent
select
@Metric = 175
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 25
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Data IO Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Log Write Percent
select
@Metric = 176
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 25
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Average Log Write Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Worker Percent
select
@Metric = 177
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 20
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Worker Percent


--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Session Percent
select
@Metric = 178
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 25
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Max Session Percent


--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Database Average Memory Usage Percent
select
@Metric = 179
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 25
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - Database Average Memory Usage Percent

--Start SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - In-Memory Storage Usage Percent
select
@Metric = 180
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 100
,@DefaultInfoValue = 25
,@DefaultWarningValue = 0
,@DefaultCriticalValue = 0
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Azure SQL Server Metric - In-Memory Storage Usage Percent


--END 5.4.2
--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Balance
select
@Metric = 138
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue = 1000
,@DefaultWarningValue = 55
,@DefaultCriticalValue = 32
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Balance

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Balance High
select
@Metric = 181
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue = 1000
,@DefaultWarningValue = 32
,@DefaultCriticalValue = 55
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Balance High

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Usage
select
@Metric = 139
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue = 1000
,@DefaultWarningValue = 55
,@DefaultCriticalValue = 32
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - CPU Credit Usage

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Disk Queue Depth
select
@Metric = 140
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999
,@DefaultInfoValue = 1
,@DefaultWarningValue = 2
,@DefaultCriticalValue = 4
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Disk Queue Depth

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Latency
select
@Metric = 141
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue = 5
,@DefaultWarningValue = 12
,@DefaultCriticalValue = 20
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Latency

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Latency Low
select
@Metric = 182
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue = 5
,@DefaultWarningValue = 20
,@DefaultCriticalValue = 12
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Latency Low

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Throughput
select
@Metric = 142
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 999	
,@DefaultWarningValue = 5
,@DefaultCriticalValue = 1
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Read Throughput

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Swap Usage
select
@Metric = 143
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue = 1
,@DefaultWarningValue = 50
,@DefaultCriticalValue = 100
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Swap Usage

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Latency
select
@Metric = 144
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue =1
,@DefaultWarningValue = 6
,@DefaultCriticalValue = 10
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 0 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Latency

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Latency Low
select
@Metric = 183
,@AlertEnabledDefault = 1
,@MinValue = 0
,@MaxValue = 999999
,@DefaultInfoValue =1
,@DefaultWarningValue = 10
,@DefaultCriticalValue = 6
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50

INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Latency Low

--Start SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Throughput
select
@Metric = 145
,@AlertEnabledDefault = 0
,@MinValue = 0
,@MaxValue = 999999999
,@DefaultInfoValue =999
,@DefaultWarningValue = 5
,@DefaultCriticalValue = 1
,@Class = 0 -- ServerThreshold = 0, ScheduledJobs = 1, Processes = 2, Hardcoded = 3
,@DefaultMessageID = 0
,@DoNotifications = 1
,@EventCategory = 3 -- From messages DLL, probably should be 3, defaults to General - General = 1, Audit = 2, Alert = 3, Custom = 4 4
,@Flags = 131 --NumericValue = 1, OKDisabled = 2, WarningDisabled = 4, CriticalDisabled = 8, ContainedValueList = 16, MutuallyExclusive = 32, AdditionalData = 64, CalculateMaxValue = 128, InfoDisabled = 256, Multi-Instance = 512, Single Alert Type Value per Instance  =1024
,@Rank = 40
,@ValueComparison = 1 -- 0 = GE, 1 = LE
,@ValueType = 'System.Double'
,@IsValidForSqlExpress =1
,@BaselineMaxValue = 300
,@BaselineDefaultWarningValue = 100
,@BaselineDefaultCriticalValue = 120
,@BaselineDefaultInfoValue = 50


INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (@AlertEnabledDefault, @Class, @DefaultCriticalValue, @DefaultMessageID, @DefaultWarningValue, @DoNotifications, @EventCategory, @Flags, @MaxValue, @Metric, @MinValue, @Rank, @ValueComparison, @ValueType, @DefaultInfoValue,@IsValidForSqlExpress, @BaselineMaxValue, @BaselineDefaultWarningValue, @BaselineDefaultCriticalValue ,@BaselineDefaultInfoValue)
--END SQLdm 10.5 (Ankush Rathod) - Amazon RDS CloudWatch Metric - Write Throughput

-- NITOR START		DATE:26-Feb-2019
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,146,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,147,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,148,0,40,0,'System.Int32',50,0,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,149,0,40,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,150,0,40,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,151,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,152,0,80,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,153,0,40,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,154,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,155,0,60,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,156,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,157,0,60,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,158,0,60,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,159,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,160,0,60,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,161,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,162,0,60,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,163,0,40,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,164,0,30,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,165,0,30,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,50,0,100,1,4,195,300,166,0,60,1,'System.Int64',120,1,300,100,50,120)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,50,0,100,1,3,3,300,167,0,20,1,'System.Int32',120,1,300,100,50,120)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,3,300,168,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,169,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,170,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,171,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,172,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,120,0,100,1,3,131,300,173,0,20,0,'System.Int32',50,1,300,100,120,50)
INSERT INTO #upgrade_metric_metadata ([AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress], [BaselineMaxValue], [BaselineDefaultWarningValue], [BaselineDefaultCriticalValue], [BaselineDefaultInfoValue]) VALUES (0,0,50,0,100,1,3,131,300,174,1,20,1,'System.Int32',120,1,300,100,50,120)

-- NITOR END

-- NITOR START		DATE:19-Dec-2018
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 1, DefaultWarningValue = 5,DefaultCriticalValue = 15 WHERE Metric = 5
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 70, DefaultWarningValue = 80 WHERE Metric = 8
UPDATE #upgrade_metric_metadata SET DefaultWarningValue = 65,DefaultCriticalValue = 80  WHERE Metric = 9
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 85, DefaultWarningValue = 90,DefaultCriticalValue = 95 WHERE Metric = 13
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 85, DefaultWarningValue = 90,DefaultCriticalValue = 95 WHERE Metric = 24
UPDATE #upgrade_metric_metadata SET AlertEnabledDefault = 0 WHERE Metric = 57
UPDATE #upgrade_metric_metadata SET DefaultWarningValue = 5,DefaultCriticalValue = 15 WHERE Metric = 58
UPDATE #upgrade_metric_metadata SET DefaultInfoValue =60 WHERE Metric = 59
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 60 WHERE Metric = 60
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 5, DefaultWarningValue = 10,DefaultCriticalValue = 20 WHERE Metric = 70
UPDATE #upgrade_metric_metadata SET DefaultWarningValue = 500,DefaultCriticalValue = 1000 , AlertEnabledDefault = 1 WHERE Metric = 90
UPDATE #upgrade_metric_metadata SET DefaultInfoValue = 70, DefaultWarningValue = 80 WHERE Metric = 101
UPDATE #upgrade_metric_metadata SET AlertEnabledDefault = 0 WHERE Metric = 109
UPDATE #upgrade_metric_metadata SET AlertEnabledDefault = 0 WHERE Metric = 110
UPDATE #upgrade_metric_metadata SET AlertEnabledDefault = 0 WHERE Metric = 111
UPDATE #upgrade_metric_metadata SET AlertEnabledDefault = 0 WHERE Metric = 127
Update #upgrade_metric_metadata SET Flags = 707 where Metric = 65
Update #upgrade_metric_metadata SET Flags = 707 where Metric = 34  

-- NITOR END

-- insert new rows 
INSERT INTO [MetricMetaData]                                                                                                                                                
	(
			[AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress]
			,[BaselineMaxValue], [BaselineDefaultWarningValue], --10.0 SQLdm srishti purohit
	[BaselineDefaultCriticalValue], --10.0 SQLdm srishti purohit
	[BaselineDefaultInfoValue] --10.0 SQLdm srishti purohit
	)
	(SELECT [AlertEnabledDefault],[Class],[DefaultCriticalValue],[DefaultMessageID],[DefaultWarningValue],[DoNotifications],[EventCategory],[Flags],[MaxValue],[Metric],[MinValue],[Rank],[ValueComparison],[ValueType],[DefaultInfoValue],[IsValidForSqlExpress],[BaselineMaxValue]
	, [BaselineDefaultWarningValue], --10.0 SQLdm srishti purohit
	[BaselineDefaultCriticalValue], --10.0 SQLdm srishti purohit
	[BaselineDefaultInfoValue] --10.0 SQLdm srishti purohit
		FROM #upgrade_metric_metadata 
		WHERE [Metric] not in (select [Metric] from [MetricMetaData])
	)
-- update all 
UPDATE [MetricMetaData]
	SET   
		 [MetricMetaData].[AlertEnabledDefault] = [TMD].[AlertEnabledDefault]
		,[MetricMetaData].[Class] = [TMD].[Class] 
		,[MetricMetaData].[DefaultCriticalValue] = [TMD].[DefaultCriticalValue]
		,[MetricMetaData].[DefaultMessageID] = [TMD].[DefaultMessageID]
		,[MetricMetaData].[DefaultWarningValue] = [TMD].[DefaultWarningValue]
		,[MetricMetaData].[DoNotifications] = [TMD].[DoNotifications]
		,[MetricMetaData].[EventCategory] = [TMD].[EventCategory]
		,[MetricMetaData].[Flags] = [TMD].[Flags]
		,[MetricMetaData].[MaxValue] = [TMD].[MaxValue]
		,[MetricMetaData].[MinValue] = [TMD].[MinValue]
		,[MetricMetaData].[Rank] = [TMD].[Rank]
		,[MetricMetaData].[ValueComparison] = [TMD].[ValueComparison]
		,[MetricMetaData].[ValueType] = [TMD].[ValueType]
		,[MetricMetaData].[DefaultInfoValue] = [TMD].[DefaultInfoValue]
		,[MetricMetaData].[IsValidForSqlExpress] = [TMD].[IsValidForSqlExpress]
		,[MetricMetaData].[BaselineMaxValue] = [TMD].[BaselineMaxValue]
		,[MetricMetaData].[BaselineDefaultWarningValue] = [TMD].[BaselineDefaultWarningValue]
		,[MetricMetaData].[BaselineDefaultCriticalValue] = [TMD].[BaselineDefaultCriticalValue]
		,[MetricMetaData].[BaselineDefaultInfoValue] = [TMD].[BaselineDefaultInfoValue]
	FROM #upgrade_metric_metadata [TMD]
	WHERE
		[MetricMetaData].[Metric] = [TMD].[Metric] 

--Updating metrtic metadata with table and column mappings

UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='SqlServerServiceStatus' Where Metric = 12
UPDATE MetricMetaData Set TableName='DatabaseStatistics', ColumnName='DatabaseStatus' Where Metric = 14
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='DTCServiceStatus' Where Metric = 15
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='FullTextSearchStatus' Where Metric = 16
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='ResponseTimeInMilliseconds' Where Metric = 22
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='(CONVERT(decimal(18, 0),([PhysicalMemoryInKilobytes] - [TotalServerMemoryInKilobytes])) / [PhysicalMemoryInKilobytes] * 100)' Where Metric = 24
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='AgentServiceStatus' Where Metric = 10
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='CPUActivityPercentage' Where Metric = 0
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='[OldestOpenTransactionsInMinutes]' Where Metric = 6
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='PagesPerSecond' Where Metric = 25
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='ProcessorTimePercent' Where Metric = 26
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='PrivilegedTimePercent' Where Metric = 27
UPDATE MetricMetaData Set TableName='TableReorganization', ColumnName='LogicalFragmentation' Where Metric = 7
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='UserTimePercent' Where Metric = 28
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='ProcessorQueueLength' Where Metric = 29
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='DiskTimePercent' Where Metric = 30
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='DiskQueueLength' Where Metric = 31
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='ClientComputers' Where Metric = 57
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='BlockedProcesses' Where Metric = 58
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='DiskTimePercent' Where Metric = 62
UPDATE MetricMetaData Set TableName='OSStatistics', ColumnName='DiskQueueLength' Where Metric = 63
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='CONVERT(DECIMAL(18,2),(1- [UnusedSizeKB] / [TotalSizeKB]) * 100)' Where Metric = 64
UPDATE MetricMetaData Set TableName='MirroringStatistics', ColumnName='unsent_log' Where Metric = 68
UPDATE MetricMetaData Set TableName='MirroringStatistics', ColumnName='unrestored_log' Where Metric = 69
UPDATE MetricMetaData Set TableName='MirroringStatistics', ColumnName='average_delay' Where Metric = 71
UPDATE MetricMetaData Set TableName='MirroringParticipants', ColumnName='mirroring_state' Where Metric = 72
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='PageLifeExpectancy' Where Metric = 76
UPDATE MetricMetaData Set TableName='MonitoredSQLServers', ColumnName='ActiveClusterNode' Where Metric = 78
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='DistributionLatencyInSeconds' Where Metric = 79
UPDATE MetricMetaData Set TableName='Deadlocks', ColumnName='COUNT(DeadlockID)' Where Metric = 80
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='ProcedureCacheHitRatioPercentage' Where Metric = 81
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='AverageDiskMillisecondsPerRead' Where Metric = 82
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='AverageDiskMillisecondsPerTransfer' Where Metric = 83
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='AverageDiskMillisecondsPerWrite' Where Metric = 84
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='DiskReadsPerSecond' Where Metric = 85
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='DiskTransfersPerSecond' Where Metric = 86
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='DiskWritesPerSecond' Where Metric = 87
UPDATE MetricMetaData Set TableName='TempdbFileData', ColumnName='VersionStoreInKilobytes' Where Metric = 90
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='([TempdbPFSWaitTimeMilliseconds] + [TempdbGAMWaitTimeMilliseconds] + [TempdbSGAMWaitTimeMilliseconds])' Where Metric = 93
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='PercentDataSize' Where Metric = 8
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='PercentLogSpace' Where Metric = 9
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='LogExpansionInKilobytes' Where Metric =94
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='DataExpansionInKilobytes' Where Metric = 95
UPDATE MetricMetaData Set TableName='VMStatistics', ColumnName='CPUUsage' Where Metric = 98
UPDATE MetricMetaData Set TableName='ESXStatistics', ColumnName='CPUUsage' Where Metric = 99
UPDATE MetricMetaData Set TableName='VMStatistics', ColumnName='MemUsage' Where Metric = 100
UPDATE MetricMetaData Set TableName='ESXStatistics', ColumnName='MemUsage' Where Metric = 101
UPDATE MetricMetaData Set TableName='VMStatistics', ColumnName='CPUReady' Where Metric = 102
UPDATE MetricMetaData Set TableName='VMStatistics', ColumnName='MemBalooned' Where Metric = 103
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='DataSizeInKilobytes' Where Metric = 109
UPDATE MetricMetaData Set TableName='DatabaseSize', ColumnName='LogSizeInKilobytes' Where Metric = 110
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='EstimatedDataLossTime' Where Metric = 117
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='SynchronizationHealth' Where Metric = 118
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='EstimatedRecoveryTime' Where Metric = 119
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='SynchronizationPerformance' Where Metric = 120
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='LogSedQueueSize' Where Metric = 121
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='RedoQueueSize' Where Metric = 122
UPDATE MetricMetaData Set TableName='AlwaysOnStatistics', ColumnName='RedoRate' Where Metric = 123
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='CONVERT(DECIMAL(18,2),([UserProcesses] * 100) / [MaxConnections])' Where Metric = 1
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='(CASE when([TotalServerMemoryInKilobytes] / [PhysicalMemoryInKilobytes]) >= 1 then 100 else  CONVERT(DECIMAL(18,2),([TotalServerMemoryInKilobytes] / [PhysicalMemoryInKilobytes]) *100) END)' Where Metric = 13
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='(CASE WHEN ([VersionStoreCleanupKilobytes] / [TimeDeltaInSeconds]) = 0 THEN 9999 ELSE CONVERT(DECIMAL(18,2),(([VersionStoreGenerationKilobytes] / [VersionStoreCleanupKilobytes]) -1 ) *100) END)' Where Metric = 89

--START: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the meta data corresponding to new SQL services
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='SQLBrowserServiceStatus' Where Metric = 128
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='SQLActiveDirectoryHelperServiceStatus' Where Metric = 129
--END: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the meta data corresponding to new SQL services
--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
UPDATE MetricMetaData Set TableName='DatabaseStatistics', ColumnName='(CASE WHEN [LastBackupDateTime] is NULL THEN 9999999 ELSE DATEDIFF(D,LastBackupDateTime, UTCCollectionDateTime) END)' Where Metric = 130
--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts
--START SQLdm 10.0 (Gaurav Karwal) - mapping with column name
UPDATE MetricMetaData Set TableName='DiskDrives', ColumnName='UnusedSizeKB' Where Metric = 111
UPDATE MetricMetaData Set TableName='BlockingSessionStatistics', ColumnName='BlockingDurationMilliseconds' Where Metric = 33
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='(ISNULL((DataFileSpaceUsedInKilobytes),0)/ISNULL((DataFileSpaceAllocatedInKilobytes),1))*100' Where Metric = 59
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='(ISNULL((LogFileSpaceUsedInKilobytes),0)/ISNULL((LogFileSpaceAllocatedInKilobytes),1))*100' Where Metric = 60
UPDATE MetricMetaData Set TableName='ReplicationTopology', ColumnName='NonDistributedTransactions' Where Metric = 4
UPDATE MetricMetaData Set TableName='ReplicationTopology', ColumnName='NonSubscribedTransactions' Where Metric = 5
UPDATE MetricMetaData Set TableName='ServerStatistics', ColumnName='ReplicationLatencyInSeconds' Where Metric = 17
--START SQLdm 10.0 (srishti purohit) - Adding values in table name and column name for Query Monitor Events count
UPDATE MetricMetaData Set TableName='QueryMonitorStatistics', ColumnName='COUNT(0)' Where Metric = 51

--END SQLdm 10.0 (Gaurav Karwal) - mapping with column name

print 'MetricMetaDataMessages'
DELETE FROM MetricMetaDataMessages
--START: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (0, 0, 101, N'SQL Server CPU usage is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the CPU.', N'SQL Server CPU usage is {1:F2}% on {0}', N'SQL Server CPU usage is {1:F2}%.',
N'Percentage of baseline for SQL Server CPU usage is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the baseline of the CPU.', N'SQL Server CPU usage is {1:F2}% of the baseline on {0}', N'SQL Server CPU usage is {1:F2}% of the baseline.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (1, 0, 202, N'User connections are at {1:F2}%', N'SQL Server instance {0} has {2} user connections and is at {1:F2}% of the maximum connections allowed.', N'User connections are at {1:F2}% on {0}', N'User connections are at {1:F2}%.',
N'Percentage of baseline for User connections are at {1:F2}%', N'SQL Server instance {0} has {2} user connections and is at {1:F2}% of the baseline.', N'User connections are at {1:F2}% of the baseline on {0}', N'User connections are at {1:F2}% of the baseline.')
--SQLdm 10.1.3 (Vamshi Dingari)-Altered Alert message for metric 4
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (4, 0, 708, N'Latent replication transaction count is {1}', N'SQL Server instance {0} has {1} replication transactions published by the Publisher but not received by the Distributor.', N'Latent replication transaction count is {1} on {0}', N'Latent replication transaction count is {1}.',
N'Percentage of baseline for Latent replication transaction count is {1}%', N'SQL Server instance {0} has {1}% of baseline value for replication transactions published by the Publisher but not received by the Distributor.', N'Percentage of baseline for Latent replication transaction count is {1}% on {0}', N'Percentage of baseline for Latent replication transaction count is {1}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline])  
VALUES (5, 0, 809, N'Unsubscribed transaction count is {1}', N'SQL Server instance {0} has {1} unsubscribed replication transactions received by the Distributor and not received by a Subscriber.', N'Unsubscribed transaction count is {1} on {0}', N'Unsubscribed transaction count is {1}.',
N'Percentage of baseline for Unsubscribed transaction count is {1}%', N'SQL Server instance {0} has {1}% of baseline of unsubscribed replication transactions received by the Distributor and not received by a Subscriber.', N'Percentage of baseline for Unsubscribed transaction count is {1}% on {0}', N'Percentage of basleine for Unsubscribed transaction count is {1}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) VALUES (6, 0, 910, 
N'A transaction in session {6} has been active for {1} minute(s) and running since {8}', 
N'SQL Server instance {0} - A transaction in session {6} has been active for {1} minute(s) and running since {8}. The transaction is being run on database [{2}] with application name ''{3}'' by user ''{5}'' on host ''{4}''. Last command issued: {7}', 
N'A transaction in session {6} has been active for {1} minute(s) and running since {8} on {0}', 
N'A transaction in session {6} has been active for {1} minute(s) and running since {8}.',
N'A transaction in session {6} has been active for {1}% of it''s baseline and running since {8}.',--'A transaction in session {6} has been active for {1} minute(s) and {8}% of baseline', 
N'SQL Server instance {0} - A transaction in session {6} has been active for {1}% of it''s baseline and running since {8}. The transaction is being run on database [{2}] with application name ''{3}'' by user ''{5}'' on host ''{4}''. Last command issued: {7}', 
N'A transaction in session {6} has been active for {1}% of it''s baseline and running since {8} on {0}', 
N'A transaction in session {6} has been active for {1}% of it''s baseline and running since {8}.'
)
--END: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (7, 0, 1011, N'Fragmentation > {5}% on {1} table{2} in database [{3}]', N'SQL Server instance {0} - {6}', N'Fragmentation > {5}% on {1} table{2} in database [{3}] on {0}', N'Fragmentation > {5}% on {1} table{2} in database [{3}].')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (8, 0, 1112, N'Data files are {1:F2}% full for database [{2}]', N'SQL Server instance {0} - Database [{2}] has data files that are {1:F2}% full.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'Data files are {1:F2}% full for database [{2}] on {0}', N'Data files are {1:F2}% full for database [{2}].')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (9, 0, 1213, N'Log files are {1:F2}% full for database [{2}]', N'SQL Server instance {0} - Database [{2}] has transaction log files that are {1:F2}% full.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'Log files are {1:F2}% full for database [{2}] on {0}', N'Log files are {1:F2}% full for database [{2}].')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (10, 0, 1314, N'SQL Agent running', N'SQL Server instance {0} - The SQL Server Agent service is running.', N'SQL Agent running on {0}', N'SQL Agent is running.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (10, 1, 1315, N'SQL Agent stopped', N'SQL Server instance {0} - The SQL Server Agent service is stopped.', N'SQL Agent stopped on {0}', N'SQL Agent is stopped.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (10, 2, 1316, N'SQL Agent is {1}', N'SQL Server instance {0} - The SQL Server Agent service has a status of {1}.', N'SQL Agent is {1} on {0}', N'SQL Agent is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (11, 0, 1417, N'I/O error count is {1:F0}', N'SQL Server instance {0} has experienced {1:F0} I/O errors while reading or writing to data files.', N'I/O error count is {1:F0} on {0}', N'I/O error count is {1:F0}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (12, 0, 1518, N'SQL Server running', N'SQL Server instance {0} - The SQL Server service is running.', N'SQL Server running on {0}', N'SQL Server is running.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (12, 1, 1520, N'SQL Server paused', N'SQL Server instance {0} is paused.', N'SQL Server paused on {0}', N'SQL Server is paused.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (12, 2, 1519, N'SQL Server stopped', N'SQL Server instance {0} - The SQL Server service is stopped.', N'SQL Server stopped on {0}', N'SQL Server is stopped.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (12, 3, 1523, N'SQL Server is {1}', N'SQL Server instance {0} - The SQL Server service status is {1}. 

{3}', N'SQL Server is {1} on {0}', N'SQL Server is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (12, 4, 1523, N'SQL Server status: {1}', N'SQL Server instance {0} - The SQL Server service status is: {1}. 

{3}', N'SQL Server is: {1} on {0}', N'SQL Server status is {1}.')

--START: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (13, 0, 1624, N'SQL Server memory is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the server memory.', N'SQL Server memory is {1:F2}% on {0}', N'SQL Server memory usage is {1:F2}%.',
N'Percentage of baseline for SQL Server memory is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the Percentage of baseline of server memory.', N'Percentage of baseline of SQL Server memory is {1:F2}% on {0}', N'Percentage of baseline of SQL Server memory usage is {1:F2}%.')
--END: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (14, 0, 1725, N'Database status for [{2}] is {1}', N'SQL Server instance {0} - Database [{2}] has a status of {1}.', N'Database status for [{2}] is {1} on {0}', N'Database status for [{2}] is {1}.')

--START: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (17, 0, 2028, N'Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1} total seconds)', N'SQL Server instance {0} has unsubscribed replication transactions that have been holding at the Distributor for {3} hours {4} minutes {5} seconds ({1} total seconds).', N'Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1} total seconds) on {0}', N'Unsubscribed transaction time is {1} seconds.',
N'Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1}% of baseline value)', N'SQL Server instance {0} has unsubscribed replication transactions that have been holding at the Distributor for {3} hours {4} minutes {5} seconds ({1}% of baseline value).', N'Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1}% of baseline value) on {0}', N'Unsubscribed transaction time is {1}% of baseline value.')
--END: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (18, 0, 2129, N'DTC running', N'SQL Server instance {0} - The Distributed Transaction Coordinator service is running.', N'DTC running on {0}', N'DTC is running.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (18, 1, 2130, N'DTC stopped', N'SQL Server instance {0} - The Distributed Transaction Coordinator service is stopped.', N'DTC stopped on {0}', N'DTC is stopped.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (18, 2, 2131, N'DTC is {1}', N'SQL Server instance {0} - The Distributed Transaction Coordinator service has a status of {1}.', N'DTC is {1} on {0}', N'DTC is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (19, 0, 2232, N'Full-Text Search running', N'SQL Server instance {0} - The Full-Text Search service is running.', N'Full-Text Search running on {0}', N'Full-Text Search is running.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (19, 1, 2233, N'Full-Text Search is {1}', N'SQL Server instance {0} - The Full-Text Search service has a status of {1}.', N'Full-Text Search is {1} on {0}', N'Full-Text Search is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (20, 0, 0, N'SQL Server memory is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the server memory.', N'SQL Server memory is {1:F2}% on {0}', N'SQL Server memory is {1:F2}%.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (21, 0, 0, N'SQL Server memory is {1:F2}%', N'SQL Server instance {0} is currently using {1:F2}% of the server memory.', N'SQL Server memory is {1:F2}% on {0}', N'SQL Server memory is {1:F2}%.')

--START: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (22, 0, 2534, N'Server response time is {1} ms', N'SQL Server instance {0} has a response time of {1} ms.', N'Server response time is {1} ms on {0}', N'Server response time is {1} ms.',
N'Percentage of baseline of Server response time is {1}% ', N'SQL Server instance {0} has a Percentage of baseline of response time is {1}%.', N'Percentage of Server response time is {1}% on {0}', N'Percentage of Server response time is {1}%.')
--END: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (23, 0, 4010, N'OS metrics data available', N'SQL Server instance {0} - The operating system metrics data is available.', N'OS metrics data available on {0}', N'OS metrics data is available.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (23, 1, 4012, N'OS metrics data unavailable', N'SQL Server instance {0} - The operating system metrics data is not available.', N'OS metrics data unavailable on {0}', N'OS metrics data is unavailable.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (23, 2, 4011, N'OS metrics data unavailable', N'SQL Server instance {0} - The operating system metrics data is not available because the WMI service did not respond or could not be started.', N'OS metrics data unavailable on {0}', N'OS metrics data is unavailable.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (23, 3, 4013, N'OS metrics data unavailable', N'SQL Server instance {0} - The operating system metrics data is not available because OLE Automation is not enabled.', N'OS metrics data unavailable on {0}', N'OS metrics data is unavailable.')

--START: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (24, 0, 4020, N'OS memory used is {1:F2}%', N'SQL Server instance {0} - The operating system has {1:F2}% of memory in use.', N'OS memory used is {1:F2}% on {0}', N'OS memory usage is {1:F2}%.',
N'Percentage of baseline of OS memory used is {1:F2}%', N'SQL Server instance {0} - The operating system has {1:F2}% of the baseline value of memory in use.', N'OS memory used is {1:F2}% of the baseline value on {0}', N'OS memory usage is {1:F2}% of the baseline value.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (25, 0, 4030, N'OS paging is {1:F2} pages/second', N'SQL Server instance {0} - The operating system is paging at {1:F2} pages/second.', N'OS paging is {1:F2} pages/second on {0}', N'OS paging is {1:F2} pages/second.',
N'Percentage of baseline for OS paging is {1:F2} pages/second', N'SQL Server instance {0} - The operating system is paging at {1:F2}% of the baseline of OS Paging.', N'Percentage of baseline of OS paging is {1:F2}% on {0}', N'Percentage of baseline of OS paging is {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (26, 0, 4040, N'OS CPU usage is {1:F2}%', N'SQL Server instance {0} - The operating system CPU usage is {1:F2}%.', N'OS CPU usage is {1:F2}% on {0}', N'OS CPU usage is {1:F2}%.',
N'Percentage of baseline of OS CPU usage is {1:F2}%', N'SQL Server instance {0} - The Percentage of baseline of operating system CPU usage is {1:F2}%.', N'Percentage of baseline of OS CPU usage is {1:F2}% on {0}', N'Percentage of baseline is OS CPU usage is {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (27, 0, 4050, N'OS privileged CPU usage is {1:F2}%', N'SQL Server instance {0} - The operating system privileged CPU usage is {1:F2}%.', N'OS privileged CPU usage is {1:F2}% on {0}', N'OS privileged CPU usage is {1:F2}%.',
N'Percentage of baseline of OS privileged CPU usage is {1:F2}%', N'SQL Server instance {0} - The Percentage of baseline of operating system privileged CPU usage is {1:F2}%.', N'Percentage of baseline of OS privileged CPU usage is {1:F2}% on {0}', N'Percentage of baseline of OS privileged CPU usage is {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (28, 0, 4060, N'OS user CPU usage is {1:F2}%', N'SQL Server instance {0} - The operating system user CPU usage is {1:F2}%.', N'OS user CPU usage is {1:F2}% on {0}', N'OS user CPU usage is {1:F2}%.',
N'Percentage of baseline for OS user CPU usage is {1:F2}%', N'SQL Server instance {0} - The Percentage of baseline for operating system user CPU usage is {1:F2}%.', N'Percentage of baseline for OS user CPU usage is {1:F2}% on {0}', N'Percentage of baseline for OS user CPU usage is {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (29, 0, 4070, N'OS processor queue length is {1}', N'SQL Server instance {0} - The operating system processor queue length is {1}.', N'OS processor queue length is {1} on {0}', N'OS processor queue length is {1}.'
, N'Percentage of baseline for OS processor queue length is {1}', N'SQL Server instance {0} - The Percentage of baseline for operating system processor queue length is {1}.', N'Percentage of baseline for OS processor queue length is {1} on {0}', N'Percentage of baseline for OS processor queue length is {1}.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (30, 0, 4080, N'OS disk time is currently {1:F2}%', N'SQL Server instance {0} - The operating system physical disks are {1:F2}% busy.', N'OS disk time is currently {1:F2}% on {0}', N'OS disk time is currently {1:F2}%.'
, N'Percentage of basleine of OS disk time is currently {1:F2}%', N'SQL Server instance {0} - Percentage of baseline of operating system physical disks are {1:F2}% busy.', N'Percentage of baseline of OS disk time is currently {1:F2}% on {0}', N'Percentage of baseline of OS disk time is currently {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline])  
VALUES (31, 0, 4090, N'OS average disk queue length is {1:F2}', N'SQL Server instance {0} - The operating system average disk queue length is {1:F2}.', N'OS average disk queue length is {1:F2} on {0}', N'OS average disk queue length is {1:F2}.'
, N'Percentage of baseline of OS average disk queue length is {1:F2}', N'SQL Server instance {0} - The Percentage of baseline of operating system average disk queue length is {1:F2}.', N'Percentage of baseline of OS average disk queue length is {1:F2} on {0}', N'Percentage of baseline of OS average disk queue length is {1:F2}.')
--END: SQLdm 10.0 (Tarun Sapra)- Template for the baseline alerts

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (32, 0, 2737, N'Session CPU time is {1:F2} seconds for session {2}', N'SQL Server instance {0} - Session {2} which logged in at {3} has a cumulative CPU time of {1:F2} seconds since login. 

Last Command: {4}', N'Session CPU time is {1:F2} seconds for session {2} on {0}', N'Session CPU time is {1:F2} seconds for session {2}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (33, 0, 2838, N'Session {3} blocking for {1} seconds, since {8} (UTC).', N'SQL Server instance {0} - Session {3} has been blocking other sessions for {1} seconds, since {8} (UTC).

The session is being run on database [{2}] with application name ''{5}'' by user ''{4}'' on host ''{6}''. 

Last command issued at {8} (UTC): 

{7}', N'Session {3} blocking for {1} seconds on {0}, from {8} (UTC)', N'Session {3} blocking for {1} seconds, since {8} (UTC).')
-- SQLDM-21252 - Vamshi Krishna - Adding the new message format for BlockingSession
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (33, 1, 2839, N'An Internal Session blocking for {1} seconds, since {8} (UTC).', N'SQL Server instance {0} - An Internal Session has been blocking other sessions for {1} seconds, since {8} (UTC).

Last command issued at {8} (UTC): 

{7}', N'An Internal Session blocking for {1} seconds on {0}, from {8} (UTC)', N'An Internal Session blocking for {1} seconds, since {8} (UTC).')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (34, 0, 2940, N'SQL Agent job ''{2}'' {10} running {3}% long', N'SQL Server instance {0} - SQL Agent job ''{2}'' started at {6} is in step ''{7}''{9} has run for {5} seconds which is {3}% longer than the average of {4} seconds.

Job Description: {8}', N'SQL Agent job ''{2}'' {10} running {3}% long on {0}', N'SQL Agent job ''{2}'' {10} running {3}% longer than average.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (35, 0, 3039, N'SQL Agent job {2} failed', N'SQL Server instance {0} - SQL Agent job {2} failed with a Sql Severity of {5}. 

This job has run {10} times and failed {11} times since {12}.  The most recent job to fail started at {3} and was in step {4} which issued the command ''{8}''.

Sql Message ID: {6} 
Message: 
{7}

Job Description: {9}', N'SQL Agent job {2} failed on {0}', N'SQL Agent job ''{2}'' failed.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (35, 1, 3039, N'SQL Agent job ''{2}'' succeeded', N'SQL Server instance {0} - SQL Agent job ''{2}'' has run successfully. 

This job last ran at {3} with a duration of {4} milliseconds.', N'SQL Agent job ''{2}'' succeeded on {0}', N'SQL Agent job ''{2}'' succeeded.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (48, 0, 4002, N'SQLdm maintenance mode ended', N'SQL Server {0} is no longer in SQL diagnostic manager maintenance mode.', N'SQLdm maintenance mode ended on {0}', N'SQLdm maintenance mode ended.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (48, 1, 4001, N'SQLdm maintenance mode started', N'SQL Server {0} is in SQL diagnostic manager maintenance mode and will be in maintenance mode until {1}.', N'SQLdm maintenance mode started on {0}', N'SQLdm maintenance mode started.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (49, 0, 4200, N'CLR configuration option  is {1}', N'SQL Server instance {0} has the CLR configuration option  {1}.', N'CLR configuration option  is {1} on {0}', N'CLR configuration option is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (50, 0, 4210, N'OLE Automation is {1}', N'SQL Server instance {0} has OLE Automation {1}.', N'OLE Automation is {1} on {0}', N'OLE Automation is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (51, 0, 4220, N'Query Monitor returned {1} statements', N'SQL Server instance {0} - Query Monitor returned {1} statements.', N'Query Monitor returned {1} statements on {0}', N'Query Monitor returned {1} statements.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (52, 0, 4230, N'SQLdm collection service is {1}', N'The SQL diagnostic manager collection service with service name {0} is {1}', N'SQLdm collection service is {1}', N'SQLdm collection service is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (52, 1, 4231, N'SQLdm management service is {2}', N'The SQL diagnostic manager management service with service name {0} is {2}', N'SQLdm management service is {2}', N'SQLdm management service is {2}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (52, 2, 4231, N'SQLdm management service is {2}', N'The SQL diagnostic manager management service with service name {0} is {2}.  {3}', N'SQLdm management service is {2}', N'SQLdm management service is {2}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (53, 0, 4240, N'Agent XPs are {1}', N'SQL Server instance {0} has Agent XPs {1}.', N'Agent XPs are {1} on {0}', N'Agent XPs are {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (54, 0, 4250, N'WMI unavailable', N'SQL Server instance {0} - WMI is not available on the server', N'WMI unavailable on {0}', N'WMI is unavailable.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (55, 0, 4260, N'xp_cmdshell is {1}', N'SQL Server instance {0} has xp_cmdshell {1}.', N'xp_cmdshell is {1} on {0}', N'xp_cmdshell is {1}.')

--START: SQLdm 10.0 (Tarun Sapra)- Alert messaging if the metric is baselined enabled
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (57, 0, 4310, N'Client computers is {1}', N'SQL Server instance {0} has {1} client computers connected.', N'Client computers is {1} on {0}', N'Client computers is {1}.',
N'Percentage of baseline of Client computers is {1}%', N'SQL Server instance {0} has {1}% of baseline of connected client computers.', N'Percentage of baseline of Client computers is {1}% on {0}', N'Percentage of baseline of Client computers is {1}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (58, 0, 4320, N'Blocked sessions count is {1}', N'SQL Server instance {0} has {1} sessions which are blocked by other sessions.', N'Blocked sessions count is {1} on {0}', N'Blocked sessions count is {1}.',
N'Percentage of baseline of Blocked sessions count is {1}%', N'SQL Server instance {0} has {1}% of baseline of sessions which are blocked by other sessions.', N'Percentage of baseline of Blocked sessions count is {1}% on {0}', N'Percentage of baseline of Blocked sessions count is {1}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline])  
VALUES (
59, 0, 4330, N'SQL Server Data used is {1:F2}%', N'SQL Server instance {0} has {1:F2}% of the total allocated database file space in use.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'SQL Server Data used is {1:F2}% on {0}', N'SQL Server Data used is {1:F2}%.'
, N'Percentage of baseline of SQL Server Data used is {1:F2}%', N'SQL Server instance {0} has {1:F2}% of the Percentage of baseline of SQL Server Data used .

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'Percentage of baseline of SQL Server Data used is {1:F2}% on {0}', N'Percentage of baseline of SQL Server Data used is {1:F2}%.'
)

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (60, 0, 4340, N'SQL Server Log used is {1:F2}%', N'SQL Server instance {0} has {1:F2}% of the total allocated database transaction log file space in use.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'SQL Server Log used is {1:F2}% on {0}', N'SQL Server Log used is {1:F2}%.'
, N'Percentage of baseline of SQL Server Log used is {1:F2}%', N'SQL Server instance {0} has {1:F2}% Percentage of baseline of SQL Server Log used.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.', N'Percentage of baseline of SQL Server Log used is {1:F2}% on {0}', N'Percentage of baseline of SQL Server Log used is {1:F2}%.')
--END: SQLdm 10.0 (Tarun Sapra)- Alert messaging if the metric is baselined enabled

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (61, -1, 4351, N'Custom counter {2} failed', N'Collection for custom counter {2} failed.  {3}', N'Custom counter {2} failed. {3}', N'Custom counter {2} failed.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (61, 0, 4350, N'{2} is {1:F2}', N'SQL Server instance {0} - {2} is {1:F2}.', N'{2} is {1:F2}% on {0}', N'{2} is {1:F2}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (62, 0, 4110, N'OS disk time on disk {2} is currently {1:F2}%', N'SQL Server instance {0} - The operating system disk {2} is {1:F2}% busy.', N'OS disk time on disk {2} is currently {1:F2}% on server {0}', N'OS disk time on disk {2} is currently {1:F2}%.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (63, 0, 4120, N'OS average disk queue length is {1:F2} on disk {2}', N'SQL Server instance {0} - The operating system average disk queue length is {1:F2} on disk {2}.', N'OS average disk queue length for disk {2} is {1:F2} on {0}', N'OS average disk queue length is {1:F2} on disk {2}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (64, 0, 4100, N'Disk {2} is {1:F2}% full', N'SQL Server instance {0} - Disk {2} is {1:F2}% full.', N'Disk {2} is {1:F2}% full', N'Disk {2} is {1:F2}% full.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (65, 0, 2940, N'SQL Agent job ''{2}'' {10} running for {5} minutes', N'SQL Server instance {0} - SQL Agent job ''{2}'' started at {6} is in step ''{7}''{9} has run for {5} minutes.

Job Description: {8}', N'SQL Agent job ''{2}'' {10} running for {5} minutes on {0}', N'SQL Agent job ''{2}'' {10} running for {5} minutes.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (66, 0, 4400, N'Error log recorded {1} alertable message{3}', N'SQL Server instance {0} recorded {1} error log message{3} requiring attention.

The message{3} are shown below in context (if applicable):	
{2}', N'Error log recorded {1} alertable message{3}', N'Error log recorded {1} alertable message{3}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (66, 1, 5300, N'Error log file size limit of {4} MB has been exceeded.', 'Error log file size limit of {4} MB has been exceeded on server {0}. Current Error Log size is {1} MB and the log is no longer being parsed. It is highly recommended that you cycle your log. You can do this from the advanced settings for the Error Log alert.', 'Error log file size limit of {4} MB has been exceeded on server {0}. Current Error Log size is {1} MB. Consider cycling the error log.', 'Error Log size exceeded.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (67, 0, 4410, N'Agent log recorded {1} alertable message{3}', N'SQL Server instance {0} recorded {1} agent log message{3} requiring attention.

The message{3} are shown below in context (if applicable):	
{2}', N'Agent log recorded {1} alertable message{3}', N'Agent log recorded {1} alertable message{3}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (67, 1, 5310, N'Agent log file size limit limit of {4} MB has been exceeded.', 'Agent log file size limit of {4} MB has been exceeded on server {0}. Current Agent Log size is {1} MB and the log is no longer being parsed. It is highly recommended that you cycle your log. You can do this from the advanced settings for the Agent Log alert.', 'Agent log file size limit of {4} MB has been  exceeded on server {0}. Current Agent Log size is {1} MB. Consider cycling the Agent log.', 'Agent Log size exceeded.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (68, 0, 5105, N'Unsent Log for database [{2}] is {1} KB', N'The amount of unsent log on principal server {0} for database [{2}] is {1} KB.', N'Unsent log for database [{2}] on server {0} is {1} KB', N'Unsent Log for database [{2}] is {1} KB.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (69, 0, 5106, N'The size of the redo queue on the mirror database [{2}], server {0} is {1} KB.', N'The size of the redo queue on the mirror database [{2}], server {0} is {1} KB.', N'The size of the redo queue on the mirror database [{2}], server {0} is {1} KB.', N'The size of the redo queue on the mirror database [{2}] is {1} KB.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (70, 0, 5107, N'The oldest unsent transaction for database [{2}] is {1} minutes old.', N'The oldest unsent transaction on principal server {0} for database [{2}] is {1} minutes old.', N'The oldest unsent transaction on principal server {0} for database [{2}] is {1} minutes old.', N'The oldest unsent transaction for database [{2}] is {1} minutes old.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (71, 0, 5108, N'Mirror commit overhead for [{2}] on {0} is {1} milliseconds', N'The average delay on principal server {0} for mirroring of database [{2}] is {1} milliseconds.', N'The average delay on principal server {0} for mirroring of database [{2}] is {1} milliseconds.', N'Mirror commit overhead for database [{2}] is {1} milliseconds.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (72, 0, 5109, N'Database mirroring status for [{2}] is {1}', N'SQL Server instance {0} - Database [{2}] has a mirroring status of {1}.', N'Database mirroring status for [{2}] is {1}', N'Database mirroring status for database [{2}] is {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (73, 0, 5110, N'Preferred mirroring session configuration change for database [{2}]. {1}', N'Mirroring session participant server {0}, Database [{2}] operational configuration has changed. {1}.', N'Preferred mirroring session operational configuration for server {0}, database [{2}] has changed. {1}', N'Preferred mirroring session configuration change for database [{2}]. {1}')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (74, 0, 5111, N'Database mirroring role for [{2}] has changed to {1}', N'SQL Server instance {0} - Database [{2}] has a changed to a new mirroring role of {1}.', N'Database mirroring role for [{2}] has changed to {1} on {0}', N'Database mirroring role for database [{2}] has changed to {1}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (75, 0, 5112, N'Witness ({1}) for {0}..[{2}] is not connected.', N'Witness ({1}) for {0}..[{2}] is not connected.', N'Witness ({1}) for {0}..[{2}] is not connected.', N'Witness ({1}) for database [{2}] is not connected.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (76, 0, 4130, N'Page life expectancy for {0} is currently {1}.', N'Page life expectancy for {0} is currently {1}.', N'Page life expectancy for {0} is currently {1}.', N'Page Life Expectancy is {1}.'
, N'Percentage of baseline of Page life expectancy for {0} is currently {1}%.', N'Percentage of baseline of Page life expectancy for {0} is currently {1}%.', N'Percentage of baseline of Page life expectancy for {0} is currently {1}%.', N'Percentage of baseline of Page Life Expectancy is {1}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (77, 0, 4500, N'Clustered server {0} failed over from {1} to {2} at {3}', N'Clustered server {0} failed over from {1} to {2} at {3}.  The active node changed from {1} to {2}.', N'Clustered server {0} failed over from {1} to {2} at {3}', N'Clustered server failed over from {1} to {2} at {3}.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (78, 0, 4510, N'Clustered server {0} is running on node {1}', N'Clustered server {0} is running on node {1}.  The preferred node is {2}.', N'Clustered server {0} is running on node {1}', N'Clustered server is running on node {1}.')
--SQLdm 10.1.3 (Vamshi Dingari)-Altered Alert message for metric 79
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (79, 0, 5120, N'Latent replication transaction time is {1} seconds', N'SQL Server instance {0} has non-distributed replication transactions that have been holding at the Publisher for {1} seconds.', N'Latent replication transaction time is {1} seconds on {0}', N'Latent replication transaction time is {1} seconds.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (80, 0, 2840, N'A deadlock occurred on server {0}', N'A deadlock occurred on server {0}.  Full details are available in the SQLdm Desktop Client.

{6}The {7}deadlock victim was spid {1} with application name ''{2}'' by user ''{3}'' on host ''{4}''. {8} 

Last command issued: 

{5}
Winner spid is {9} 
command of Winner ''{10}''
Database ''{11}''', N'A deadlock occurred on server {0}.', N'{6}The {7}deadlock victim was spid {1} with application name ''{2}'' by user ''{3}'' on host ''{4}''.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (81, 0, 4140, N'SQL Server procedure cache hit ratio is {1:F2}%', N'The ratio of procedure cache hits to lookups is {1:F2}% for SQL Server instance {0}.', N'Procedure cache hit ratio is {1:F2}% on {0}', N'SQL Server procedure cache hit ratio is {1:F2}%.'
, N'Percentage of baseline of SQL Server procedure cache hit ratio is {1:F2}%', N'The Percentage of baseline of SQL Server procedure cache hit ratio is {1:F2}% for SQL Server instance {0}.', N'Percentage of baseline of Procedure cache hit ratio is {1:F2}% on {0}', N'Percentage of baseline of SQL Server procedure cache hit ratio is {1:F2}%.')

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (82, 0, 4150, N'Average disk milliseconds per read is {1} for the {2} drive of {0}', N'The average time of a read operation from disk on the {2} drive of SQL Server instance {0} is {1} ms.', N'Average disk milliseconds per read is {1} for the {2} drive', N'Average disk milliseconds per read is {1} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (83, 0, 4160, N'Average disk milliseconds per transfer is {1} for the {2} drive of {0}', N'The average time of a disk transfer operation on the {2} drive of SQL Server instance {0} is {1} ms.', N'Average disk milliseconds per transfer is {1} for the {2} drive', N'Average disk milliseconds per transfer is {1} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (84, 0, 4170, N'Average disk milliseconds per write is {1} for the {2} drive of {0}', N'The average time of a write operation to disk on the {2} drive of SQL Server instance {0} is {1} ms.', N'Average disk milliseconds per write is {1} for the {2} drive', N'Average disk milliseconds per write is {1} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (85, 0, 4180, N'The rate of disk reads per second is {1:F2} for the {2} drive of {0}', N'The rate of reads on the {2} drive of SQL Server instance {0} is {1:F2} reads per second.', N'Disk reads per second is {1:F2} for the {2} drive', N'The rate of disk reads per second is {1:F2} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (86, 0, 4185, N'The rate of disk transfers per second {1:F2} for the {2} drive of {0}', N'The rate of transfers on the {2} drive of SQL Server instance {0} is {1:F2} transfers per second.', N'Disk transfers per second is {1:F2} for the {2} drive', N'The rate of disk transfers per second {1:F2} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (87, 0, 4190, N'The rate of disk writes per second {1:F2} for the {2} drive of {0}', N'The rate of writes on the {2} drive of SQL Server instance {0} is {1:F2} writes per second.', N'Disk writes per second is {1:F2} for the {2} drive', N'The rate of disk writes per second {1:F2} for the {2} drive.')
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (88, 0, 3140, N'SQL Agent job {2} completed with a status of ''{3}''.', N'SQL Server Instance {0} - SQL Agent job {2} completed with a status of ''{3}'' at {4}.
	The most recent run of this job started at {5} and completed with the message ''{6}''.
	Since {7} this job {8}had the following statistics.
		Completed successfully {9} times,
		Retried {10} times,
		Failed {11} times,
		Canceled {12} times.', N'SQL Agent job {2} completed with a status of ''{3}''', N'SQL Agent job {2} completed with a status of ''{3}''.')
		
declare 
@MessageID int
,@EventID bigint -- For messages dll
,@HeaderTemplate nvarchar(256)
,@BodyTemplate nvarchar(512)
,@TodoTemplate nvarchar(512)
,@PulseTemplate nvarchar(256)	
--SQLdm 10.0 (Tarun Sapra)- Alert msg in case baseline alerts are enabled
,@HeaderTemplate_Baseline nvarchar(256)
,@BodyTemplate_Baseline nvarchar(512)
,@TodoTemplate_Baseline nvarchar(512)
,@PulseTemplate_Baseline nvarchar(256)		
--SQLdm 10.0 (Tarun Sapra)- Alert msg in case baseline alerts are enabled

-- 89 - Version Store Generation Rate
select
@Metric = 89
,@MessageID = 0
,@EventID = 5130
,@HeaderTemplate = N'Version store generation rate is {1:F1}% {6} than cleanup.'
,@BodyTemplate = N'The tempdb version store generation rate is {1:F1}% {6} than the cleanup rate on {0}.

The current generation rate is {2:F2} kilobytes per second and the current cleanup rate is {3:F2} kilobytes per second.  The version store size is {4:F0} MB and tempdb file size is {5:F0} MB.'
,@TodoTemplate = N'Version store generation rate is {1:F1}% {6} than cleanup on {0}.'
,@PulseTemplate = N'Version store generation rate is {1:F1}% {6} than cleanup.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 89
,@MessageID = 1
,@EventID = 5130
,@HeaderTemplate = N'Version store generation is occurring without cleanup.'
,@BodyTemplate = N'New version data is being generated in the tempdb version store but cleanup is not occurring.

The current generation rate is {2:F2} kilobytes per second and the current cleanup rate is {3:F2} kilobytes per second.  The version store size is {4:F0} MB and tempdb file size is {5:F0} MB.'
,@TodoTemplate = N'Version store generation is occurring without cleanup on {0}.'
,@PulseTemplate = N'Version store generation is occurring without cleanup.'
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
		
-- 90 - Version Store Size
select
@Metric = 90
,@MessageID = 0
,@EventID = 5131
,@HeaderTemplate = N'The tempdb version store is using {1:F1} MB'
,@BodyTemplate = N'The tempdb version store is using {1:F1} MB on {0}.

The current generation rate is {2:F2} kilobytes per second and the current cleanup rate is {3:F2} kilobytes per second.  The total tempdb file size is {5:F0} MB.'
,@TodoTemplate = N'The tempdb version store is using {1:F1} MB on {0}.'
,@PulseTemplate = N'The tempdb version store is using {1:F1} MB'
		
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 91 - Longest Running Version Store Transaction
select
@Metric = 91
,@MessageID = 0
,@EventID = 5135
,@HeaderTemplate = N'A transaction in session id {12} has been utilizing the version store for {1} minute{6}.'
,@BodyTemplate = N'A transaction has been utilizing the version store for {1} minute{6} on {0}. 

Long running version store transactions prevent cleanup of the version store. Left unresolved this can cause tempdb autogrowth or fill tempdb entirely. The current version generation rate is {2:F2} KB/sec and the cleanup rate is {3:F2} KB/sec.  The version store size is {4:F0} MB and tempdb file size is {5:F0} MB.

Session ID: {12}
Database: {7} 
Application Name: {8} 
User: {9}
Host: {10}
Last command issued: 

{11}'
,@TodoTemplate = N'A transaction in session id {12} has been utilizing the version store for {1} minute{6} on {0}.'
,@PulseTemplate = N'A transaction in session id {12} has been utilizing the version store for {1} minute{6}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

		
select
@Metric = 91
,@MessageID = 1
,@EventID = 5135
,@HeaderTemplate = N'No transactions are currently utilizing the version store.'
,@BodyTemplate = N'No transactions are currently utilizing the version store.

The current version generation rate is {2:F2} kilobytes per second and the current cleanup rate is {3:F2} kilobytes per second.  The version store size is {4:F0} MB and tempdb file size is {5:F0} MB.'
,@TodoTemplate = N'No transactions are currently utilizing the version store.'
,@PulseTemplate = N'No transactions are currently utilizing the version store.'
		
	
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 92 - Session Tempdb Space Usage

select
@Metric = 92
,@MessageID = 0
,@EventID = 5136
,@HeaderTemplate = N'Session id {19} on {2} is using {1} of space in tempdb.'
,@BodyTemplate = N'A session is using {1} of space in tempdb on {0}.

Session User Space: {7} (Allocated: {8}/ Deallocated: {9})
Session Internal Space: {10} (Allocated: {11}/ Deallocated: {12})

Task User Space: {13} (Allocated: {14}/ Deallocated: {15})
Task Internal Space: {16} (Allocated: {17}/ Deallocated: {18})

The session is being run on database [{2}] with application name ''{3}'' by user ''{4}'' on host ''{5}''.  The session id is {19}.

Last command issued: 

{6}'
,@TodoTemplate = N'Session id {19} on {2} is using {1} MB of space in tempdb.'
,@PulseTemplate = N'Session id {19} on {2} is using {1} MB of space in tempdb.'
		
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)



select
@Metric = 92
,@MessageID = 1
,@EventID = 5136
,@HeaderTemplate = N'Session id {19} is no longer using space in tempdb.'
,@BodyTemplate = N'Session id {19} is no longer using space in tempdb.'
,@TodoTemplate = N'Session id {19} is no longer using space in tempdb.'
,@PulseTemplate = N'Session id {19} is no longer using space in tempdb.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 93 - Tempdb Contention

select
@Metric = 93
,@MessageID = 0
,@EventID = 5132
,@HeaderTemplate = N'Tempdb contention has been detected: wait time is {1} ms.'
,@BodyTemplate = N'Tempdb latch contention has been detected on {0}.  The total wait time detected is {1} milliseconds.  This is an indication that performance is being impacted by contention on allocation maps in tempdb. If this is a regular problem it may be alleviated by following best practices with respect to tempdb file count, size, and IO subsystem.

PFS Wait Time: {2} ms
GAM Wait Time: {3} ms
SGAM Wait Time: {4} ms'
,@TodoTemplate = N'Tempdb contention has been detected: wait time is {1} ms.'
,@PulseTemplate = N'Tempdb contention has been detected: wait time is {1} ms.'
		
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 93
,@MessageID = 1
,@EventID = 5132
,@HeaderTemplate = N'No tempdb contention detected.

PFS Wait Time: {2} ms
GAM Wait Time: {3} ms
SGAM Wait Time: {4} ms'
,@BodyTemplate = N'No tempdb contention detected.'
,@TodoTemplate = N'No tempdb contention detected.'
,@PulseTemplate = N'No tempdb contention detected.'
		
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 94 - Log Autogrow
select
@Metric = 94
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Log file autogrow occurred on database {1}.'
,@BodyTemplate = N'Log file autogrow occurred on database {1}.'
,@TodoTemplate = N'Log file autogrow occurred on database {1}.'
,@PulseTemplate = N'Log file autogrow occurred on database {1}.'
		
		
INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 95 - Data Autogrow
select
@Metric = 95
,@MessageID = 0
,@EventID = 1116
,@HeaderTemplate = N'Data file autogrow occurred on database {1}.'
,@BodyTemplate = N'Data file autogrow occurred on database {1}.'
,@TodoTemplate = N'Data file autogrow occurred on database {1}.'
,@PulseTemplate = N'Data file autogrow occurred on database {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 96 - VM Config Change

select
@Metric = 96
,@MessageID = 0
,@EventID = 5200
,@HeaderTemplate = N'A configuration change occurred on the virtual machine hosting {0}.'
,@BodyTemplate = N'A configuration change occurred on the virtual machine hosting {0}.  

Configuration (Previous --> Current):
CPU Count: {1} --> {2}
CPU Limit (MHz): {3} --> {4}
CPU Reservation (MHz): {5} --> {6}
Memory (MB): {7} --> {8} 
Memory Limit (MB): {9} --> {10}
Memory Reservation (MB): {11} --> {12}'
,@TodoTemplate = N'A configuration change occurred on the virtual machine hosting {0}.'
,@PulseTemplate = N'A configuration change occurred on the virtual machine hosting {0}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 97 - VM Host Server Change

select
@Metric = 97
,@MessageID = 0
,@EventID = 5201
,@HeaderTemplate = N'The virtual machine hosting {0} has been moved to {1}.'
,@BodyTemplate = N'The virtual machine hosting {0} was moved from {2} to {1}.  

Configuration of the new host:
# of Physical CPUs: {3}
CPU Speed (MHz): {4}
Memory (GB): {5}
CPU Utilization %: {6}
Memory Utilization %: {7}'
,@TodoTemplate = N'The virtual machine hosting {0} has been moved to {1}.'
,@PulseTemplate = N'The virtual machine hosting {0} has been moved to {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

--START: SQLdm 10.0 (Tarun Sapra)- Alert messaging in case alerts are configured on alerts
-- 98 - VM CPU Utilization
select
@Metric = 98
,@MessageID = 0
,@EventID = 5202
,@HeaderTemplate = N'vCPU usage is {1:F2}%'
,@BodyTemplate = N'SQL Server instance {0} is currently using {1:F2}% of the virtual CPU for its VM.'
,@TodoTemplate = N'vCPU usage is {1:F2}%'
,@PulseTemplate = N'vCPU usage is {1:F2}%'
,@HeaderTemplate_Baseline = N'Percentage of baseline of vCPU usage is {1:F2}%'
,@BodyTemplate_Baseline = N'SQL Server instance {0} is currently using {1:F2}% of baseline of vCPU usage.'
,@TodoTemplate_Baseline = N'Percentage of baseline of vCPU usage is {1:F2}%'
,@PulseTemplate_Baseline = N'Percentage of baseline of vCPU usage is {1:F2}%'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)
--END: SQLdm 10.0 (Tarun Sapra)- Alert messaging in case alerts are configured on alerts

-- 99 - ESX CPU Utilization

select
@Metric = 99
,@MessageID = 0
,@EventID = 5250
,@HeaderTemplate = N'CPU usage for Host server {2} is {1:F2}%'
,@BodyTemplate = N'CPU Usage for the Host hosting the VM for {0} is currently at {1:F2}%.'
,@TodoTemplate = N'CPU usage for Host server {2} is {1:F2}%'
,@PulseTemplate = N'CPU usage for Host server {2} is {1:F2}%'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 100 - VM Memory Utilization

select
@Metric = 100
,@MessageID = 0
,@EventID = 5203
,@HeaderTemplate = N'Memory usage for the VM hosting {0} is at {1:F2}%'
,@BodyTemplate = N'Memory usage for the VM hosting {0} is currently at {1:F2}%.'
,@TodoTemplate = N'Memory usage for the VM hosting {0} is at {1:F2}%'
,@PulseTemplate = N'Memory usage for the VM hosting {0} is at {1:F2}%'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 101 - ESX Memory Usage (Percent)

select
@Metric = 101
,@MessageID = 0
,@EventID = 5251
,@HeaderTemplate = N'Memory usage for host server {2} is at {1:F2}%'
,@BodyTemplate = N'Memory usage for the Host hosting the VM for {0} is currently at {1:F2}%.'
,@TodoTemplate = N'Memory usage for host server {2} is at {1:F2}%'
,@PulseTemplate = N'Memory usage for host server {2} is at {1:F2}%'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 102 - VM CPU Ready Wait Time

select
@Metric = 102
,@MessageID = 0
,@EventID = 5204
,@HeaderTemplate = N'vCPU Ready Time for the VM hosting {0} is at {1} ms'
,@BodyTemplate = N'The virtual CPU for the VM hosting {0} has been waiting for {1} ms for a physical processor on {2} to become available.  This could be an indicator that the CPU for {2} is over committed.'
,@TodoTemplate = N'vCPU Ready Time for the VM hosting {0} is at {1} ms'
,@PulseTemplate = N'vCPU Ready Time for the VM hosting {0} is at {1} ms'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 103 - VM Reclaimed/Ballooned Memory (KB)

select
@Metric = 103
,@MessageID = 0
,@EventID = 5205
,@HeaderTemplate = N'Ballooned Memory for the VM hosting {0} is at {1} KB'
,@BodyTemplate = N'The Host ({2}) has reclaimed {1} KB of available memory from the VM hosting {0}.  This generally indicates that {2} is under memory pressure and this could ultimately impact the performance of {0}.'
,@TodoTemplate = N'Ballooned Memory for the VM hosting {0} is at {1} KB'
,@PulseTemplate = N'Ballooned Memory for the VM hosting {0} is at {1} KB'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 104 - VM Memory Swap Delay Detected

select
@Metric = 104
,@MessageID = 0
,@EventID = 5206
,@HeaderTemplate = N'VM hosting {0} is actively swapping memory'
,@BodyTemplate = N'The VM hosting {0} is actively swapping memory.  Memory swapping impacts performance for the VM because processing halts as data is swapped from disk to active memory.'
,@TodoTemplate = N'VM hosting {0} is actively swapping memory'
,@PulseTemplate = N'VM hosting {0} is actively swapping memory'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 105 - ESX Memory Swap Detected

select
@Metric = 105
,@MessageID = 0
,@EventID = 5252
,@HeaderTemplate = N'Host {1} is actively swapping memory'
,@BodyTemplate = N'The Host server that hosts the VM that is hosting {0} is actively swapping memory.  The VM hosting {0} may not actually be actively swapping memory, but other VMs on {1} are, which could tie up resources needed by the VM hosting {0}.'
,@TodoTemplate = N'Host {1} is actively swapping memory'
,@PulseTemplate = N'Host {1} is actively swapping memory'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 106 - VM Resource Limits Detected

select
@Metric = 106
,@MessageID = 0
,@EventID = 5207
,@HeaderTemplate = N'Resource limits detected in the VM configuration'
,@BodyTemplate = N'Resource limits have been detected within the configuration of the VM running {0}.  

Resource limits are often used to throttle CPU or Memory resources using soft limits on the amount of memory or CPU processing power a VM can consume.

The CPU Limit is {1} MHz
The Memory Limit is {2} MB'
,@TodoTemplate = N'Resource limits detected in the VM configuration'
,@PulseTemplate = N'Resource limits detected in the VM configuration'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 107 - VM Overall State

select
@Metric = 107
,@MessageID = 0
,@EventID = 5208
,@HeaderTemplate = N'The VM running {0} is {1}.'
,@BodyTemplate = N'The virtual machine that {0} is running on is {1}.  Check your vCenter or HyperV host servers or contact your VM Administrator for further action if necessary.'
,@TodoTemplate = N'The VM running {0} is {1}.'
,@PulseTemplate = N'The VM running {0} is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 108 - ESX Overall State

select
@Metric = 108
,@MessageID = 0
,@EventID = 5253
,@HeaderTemplate = N'The Host server hosting the VM for {0} is {1}.'
,@BodyTemplate = N'The Host server that hosts the VM for {0} is {1}.  Check your vCenter or HyperV host servers or contact your VM Administrator for further action if necessary.'
,@TodoTemplate = N'The Host server hosting the VM for {0} is {1}.'
,@PulseTemplate = N'The Host server hosting the VM for {0} is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 109 - Database Size
select
@Metric = 109
,@MessageID = 0
,@EventID = 1113
,@HeaderTemplate = N'The {2} database has grown to {1:F2} {3}.'
,@BodyTemplate = N'SQL Server Instance {0} - Database {2} has data files that have grown to {1:F2} {3} in size.

- If this size appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information for this database.'
,@TodoTemplate = N'The {2} database has grown to {1:F2} {3}.'
,@PulseTemplate = N'The {2} database has grown to {1:F2} {3}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 110 - Log File Size
select
@Metric = 110
,@MessageID = 0
,@EventID = 1214
,@HeaderTemplate = N'The log file for the {2} database has grown to {1:F2} {3}.'
,@BodyTemplate = N'SQL Server Instance {0} - Database {2} has transaction log files that have grown to {1:F2} {3} in size.

- If this size appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information for this database.'
,@TodoTemplate = N'The log file for the {2} database has grown to {1:F2} {3}.'
,@PulseTemplate = N'The log file for the {2} database has grown to {1:F2} {3}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 111 - OS Disk Used
select
@Metric = 111
,@MessageID = 0
,@EventID = 4101
,@HeaderTemplate = N'Disk {2} has {1:F2} {3} of unused space remaining.'
,@BodyTemplate = N'SQL Server instance {0} - Disk {2} contains {4:F2} {5} of data and has {1:F2} {3} of unused disk space remaining.'
,@TodoTemplate = N'Disk {2} has {1:F2} {3} of unused space remaining.'
,@PulseTemplate = N'Disk {2} has {1:F2} {3} of unused space remaining.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

---- 112 - SQLsafe Backup Operation Status
--select
--@Metric = 112
--,@MessageID = 0
--,@EventID = 4101
--,@HeaderTemplate = N'SQLsafe Backup Operation for {1} has {2}'
--,@BodyTemplate = N'A SQLsafe backup operation for database {1} on SQL Server instance {0} completed with a status of {2}.

--The SQLsafe result text is ''{3}'''
--,@TodoTemplate = N'SQLsafe Backup Operation for {1} has {2}'
--,@PulseTemplate = N'SQLsafe Backup Operation for {1} has {2}'

--INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

---- 113 - SQLsafe Restore Operation Status
--select
--@Metric = 113
--,@MessageID = 0
--,@EventID = 4101
--,@HeaderTemplate = N'SQLsafe Restore Operation for {1} has {2}'
--,@BodyTemplate = N'A SQLsafe restore operation for database {1} on SQL Server instance {0} completed with a status of {2}.

--The SQLsafe result text is ''{3}'''
--,@TodoTemplate = N'SQLsafe Restore Operation for {1} has {2}'
--,@PulseTemplate = N'SQLsafe Restore Operation for {1} has {2}'

--INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

---- 114 - SQLsafe Defrag Operation Status
--select
--@Metric = 114
--,@MessageID = 0
--,@EventID = 4101
--,@HeaderTemplate = N'SQLsafe Defragmentation Operation for {1} has {2}'
--,@BodyTemplate = N'A SQLsafe Defragmention operation on index/partition {3} in database {1} has {2}. 
--Listed below are the stats of the objects included in this options
--{4}'
--,@TodoTemplate = N'SQLsafe Defragmentation Operation for {1} has {2}'
--,@PulseTemplate = N'SQLsafe Defragmentation Operation for {1} has {2}'

--INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

---- 115 - SQLsafe Connection Status
--select
--@Metric = 115
--,@MessageID = 0
--,@EventID = 4101
--,@HeaderTemplate = N'A connection to the SQLsafe repository could not be made'
--,@BodyTemplate = N'A connection attempt was made to connect to the SQLsafe repository on {1} at {2}.  The connection attempt failed with the following error:
--{3}'
--,@TodoTemplate =N'A connection to the SQLsafe repository could not be made'
--,@PulseTemplate = N'A connection to the SQLsafe repository could not be made'

--INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)



-- 116 - Availability Group Role Change 
select
@Metric = 116
,@MessageID = 0
,@EventID = 5301
,@HeaderTemplate = N'Role changed for replica {0} from {1} to {2}.'
,@BodyTemplate = N'Role changed for replica {0} from {1} to {2}. Affected database(s): {3}'
,@TodoTemplate = N'Role changed for replica {0} from {1} to {2}.'
,@PulseTemplate = N'Role changed for replica {0} from {1} to {2}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


--START: SQLdm 10.0 (Tarun Sapra)- Alert messaging if baseline alerts are enabled
-- 117 - Availability Group Estimated Data Loss (Seconds)
select
@Metric = 117
,@MessageID = 0
,@EventID = 5302
,@HeaderTemplate = N'The data is not synchronized to the secondary replica since {0} seconds'
,@BodyTemplate = N'The data is not synchronized to the secondary replica since {0} seconds. Affected database(s): {1}'
,@TodoTemplate = N'The data is not synchronized to the secondary replica since {0} seconds'
,@PulseTemplate = N'The data is not synchronized to the secondary replica since {0} seconds'
,@HeaderTemplate_Baseline = N'Percentage of baseline of Availability Group Estimated Data Loss is {0}%'
,@BodyTemplate_Baseline = N'Percentage of baseline of Availability Group Estimated Data Loss is {0}%. Affected database(s): {1}'
,@TodoTemplate_Baseline = N'Percentage of baseline of Availability Group Estimated Data Loss is {0}%'
,@PulseTemplate_Baseline = N'Percentage of baseline of Availability Group Estimated Data Loss is {0}%'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)
--END: SQLdm 10.0 (Tarun Sapra)- Alert messaging if baseline alerts are enabled

-- 118 - Availability Group Synchronization Health 
select
@Metric = 118
,@MessageID = 0
,@EventID = 5303
,@HeaderTemplate = N'The synchronization state of the database {2} in the availability group {0} for replica {3} is {1} healthy.'
,@BodyTemplate = N'The synchronization state of the database {2} in the availability group {0} for replica {3} is {1} healthy.'
,@TodoTemplate = N'The synchronization state of the database {2} in the availability group {0} for replica {3} is {1} healthy.'
,@PulseTemplate = N'The synchronization state of the database {2} in the availability group {0} for replica {3} is {1} healthy.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)


-- 119 - Availability Group Estimated Recovery Time (Seconds)
select
@Metric = 119
,@MessageID = 0
,@EventID = 5304
,@HeaderTemplate = N'{0} seconds required to recover the estimated data loss.'
,@BodyTemplate = N'{0} seconds required to recover the estimated data loss. Affected database(s): {1}'
,@TodoTemplate = N'{0} seconds required to recover the estimated data loss.'
,@PulseTemplate = N'{0} seconds required to recover the estimated data loss.'
,@HeaderTemplate_Baseline = N'Percentage of baseline Availability Group Estimated Recovery Time is {0}%.'
,@BodyTemplate_Baseline = N'Percentage of baseline Availability Group Estimated Recovery Time is {0}%. Affected database(s): {1}'
,@TodoTemplate_Baseline = N'Percentage of baseline Availability Group Estimated Recovery Time is {0}%.'
,@PulseTemplate_Baseline = N'Percentage of baseline Availability Group Estimated Recovery Time is {0}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)

-- 120 - Availability Group Synchronization Performance (seconds)
select
@Metric = 120
,@MessageID = 0
,@EventID = 5305
,@HeaderTemplate = N'{0} seconds required to synchronize the database {1} in replica {2}.'
,@BodyTemplate = N'{0} seconds required to synchronize the database {1} in replica {2}.'
,@TodoTemplate = N'{0} seconds required to synchronize the database {1} in replica {2}.'
,@PulseTemplate = N'{0} seconds required to synchronize the database {1} in replica {2}.'
,@HeaderTemplate_Baseline = N'Percentage of baseline of Availability Group Synchronization Performance is {0}%, while synchronizing the database {1} in replica {2}.'
,@BodyTemplate_Baseline = N'Percentage of baseline of Availability Group Synchronization Performance is {0}%, while synchronizing the database {1} in replica {2}.'
,@TodoTemplate_Baseline = N'Percentage of baseline of Availability Group Synchronization Performance is {0}%, while synchronizing the database {1} in replica {2}.'
,@PulseTemplate_Baseline = N'Percentage of baseline of Availability Group Synchronization Performance is {0}%, while synchronizing the database {1} in replica {2}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)

-- 121 - Availability Group Log Send Queue Size (KB)
select
@Metric = 121
,@MessageID = 0
,@EventID = 5306
,@HeaderTemplate = N'The log send queue size for the {0} replica has grown to {1} KB.'
,@BodyTemplate = N'The log send queue size for the {0} replica has grown to {1} KB. Affected database(s): {2}'
,@TodoTemplate = N'The log send queue size for the {0} replica has grown to {1} KB.'
,@PulseTemplate = N'The log send queue size for the {0} replica has grown to {1} KB.'
,@HeaderTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Log Send Queue Size is {1}%.'
,@BodyTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Log Send Queue Size is {1}%. Affected database(s): {2}'
,@TodoTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Log Send Queue Size is {1}%.'
,@PulseTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Log Send Queue Size is {1}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)


-- 122 - Availability Group Redo Queue Size (KB) 
select
@Metric = 122
,@MessageID = 0
,@EventID = 5307
,@HeaderTemplate = N'The redo queue size for the {0} replica has grown to {1} KB.'
,@BodyTemplate = N'The redo queue size for the {0} replica has grown to {1} KB. Affected database(s): {2}'
,@TodoTemplate = N'The redo queue size for the {0} replica has grown to {1} KB.'
,@PulseTemplate = N'The redo queue size for the {0} replica has grown to {1} KB.'
,@HeaderTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Redo Queue Size is {1}%.'
,@BodyTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Redo Queue Size is {1}%. Affected database(s): {2}'
,@TodoTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Redo Queue Size is {1}%.'
,@PulseTemplate_Baseline = N'For the {0} replica, Percentage of baseline of Availability Group Redo Queue Size is {1}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)


-- 123 - Availability Group Redo Rate (KB/sec) 
select
@Metric = 123
,@MessageID = 0
,@EventID = 5308
,@HeaderTemplate = N'The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.'
,@BodyTemplate = N'The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s. Affected database(s): {2}'
,@TodoTemplate = N'The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.'
,@PulseTemplate = N'The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.'
,@HeaderTemplate_Baseline = N'For the {0} replica , Percentage of baseline of Availability Group Redo Rate is {1}%.'
,@BodyTemplate_Baseline = N'For the {0} replica , Percentage of baseline of Availability Group Redo Rate is {1}%. Affected database(s): {2}'
,@TodoTemplate_Baseline = N'For the {0} replica , Percentage of baseline of Availability Group Redo Rate is {1}%.'
,@PulseTemplate_Baseline = N'For the {0} replica , Percentage of baseline of Availability Group Redo Rate is {1}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate], [HeaderTemplate_Baseline], [BodyTemplate_Baseline], [TodoTemplate_Baseline], [PulseTemplate_Baseline]) 
VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate,@HeaderTemplate_Baseline,@BodyTemplate_Baseline,@TodoTemplate_Baseline,@PulseTemplate_Baseline)

-- 124 - Preferred Node Unavailability
select
@Metric = 124
,@MessageID = 0
,@EventID = 5320
,@HeaderTemplate = N'Database [{2}] is no longer on the preferred replica.'
,@BodyTemplate =   N'Database [{2}] is no longer on the preferred replica, [{0}] .' -- SQLdm 8.6 (Ankit Srivastava) - fixed defect DE43718
,@TodoTemplate =   N'Database [{2}] is no longer on the preferred replica, [{0}] .'
,@PulseTemplate =  N'Database [{2}] is no longer on the preferred replica, [{0}] .'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

--SQLdm 8.6 (Ankit Srivastava) - Preferred Node Feature -- added another message  for available  scenario
select
@Metric = 124
,@MessageID = 1
,@EventID = 5322
,@HeaderTemplate = N'Database [{2}] is back on the preferred replica.' -- SQLdm 8.6 (Ankit Srivastava) - fixed defect DE43718
,@BodyTemplate =   N'Preferred Replica Server [{0}] for database [{2}] is back as the primary replica now.'
,@TodoTemplate =   N'Preferred Replica Server [{0}] for database [{2}] is back as the primary replica now.'
,@PulseTemplate =  N'Preferred Replica Server [{0}] for database [{2}] is back as the primary replica now.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- start- SQLdm 9.0 (Ankit Srivastava) -- Added messages for new metric  Grooming Timed Out
select
@Metric =125
,@MessageID = 0
,@EventID = 5324
,@HeaderTemplate = N'SQLdm Repository grooming for [{0}] timed out.'
,@BodyTemplate =   N'SQLdm Repository grooming for [{0}] timed out.{1:Therefore the instances could not be groomed are:;; } {2}'
,@TodoTemplate =   N'SQLdm Repository grooming for [{0}] timed out.{1:Therefore the instances could not be groomed are:;; } {2}'
,@PulseTemplate =  N'SQLdm Repository grooming for [{0}] timed out.{1:Therefore the instances could not be groomed are:;; } {2}'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric =125
,@MessageID = 1
,@EventID = 5326
,@HeaderTemplate = N'SQLdm Repository grooming for [{0}] Completed successfully.'
,@BodyTemplate =   N'SQLdm Repository grooming for [{0}] Completed successfully.'
,@TodoTemplate =   N'SQLdm Repository grooming for [{0}] Completed successfully.'
,@PulseTemplate =  N'SQLdm Repository grooming for [{0}] Completed successfully.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
-- end- SQLdm 9.0 (Ankit Srivastava) -- Added messages for new metric  Grooming Timed Out

--START: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added alert messages for new metrices for filegroup space full alerts

-- 126 - Filegroup Space Full (Percent)
select
@Metric = 126
,@MessageID = 0
,@EventID = 5328
,@HeaderTemplate = N'File group is {1:F2}% full for database {2}'
,@BodyTemplate = N'SQL Server instance {0} - Database [{2}] has a file group [{4}] that is {1:F2}% full.

If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.'
,@TodoTemplate = N'File group is {1:F2}% full for database [{2}] on {0}'
,@PulseTemplate = N'File group is {1:F2}% full for database [{2}]'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 127 - Filegroup Space Full (Size)
select
@Metric = 127
,@MessageID = 0
,@EventID = 5330
,@HeaderTemplate = N'The {2} database has grown to {1:F2} {3}'
,@BodyTemplate = N'SQL Server Instance {0} - Database {2} has a file group [{4}] that has grown to {1:F2} {3} in size.

If this size appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information for this database.'
,@TodoTemplate = N'The {2} database has grown to {1:F2} {3}.'
,@PulseTemplate = N'The {2} database has grown to {1:F2} {3}'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

--END: SQLdm 9.1 (Abhishek Joshi) -Filegroup and Mount Point Monitoring improvements --Added alert messages for new metrices for filegroup space full alerts

-- START: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add messages for the new service alerts

-- 128 - SQL Browser Service Status
select
@Metric = 128
,@MessageID = 0
,@EventID = 5332
,@HeaderTemplate = N'SQL Server Browser running'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Server Browser service is running.'
,@TodoTemplate = N'SQL Browser running on {0}'
,@PulseTemplate = N'SQL Browser is running.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 128
,@MessageID = 1
,@EventID = 5334
,@HeaderTemplate = N'SQL Server Browser paused'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Server Browser service is paused.'
,@TodoTemplate = N'SQL Server Browser paused on {0}'
,@PulseTemplate = N'SQL Server Browser is paused.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 128
,@MessageID = 2
,@EventID = 5336
,@HeaderTemplate = N'SQL Server Browser stopped'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Browser service is stopped.'
,@TodoTemplate = N'SQL Server Browser stopped on {0}'
,@PulseTemplate = N'SQL Server Browser is stopped.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 128
,@MessageID = 3
,@EventID = 5338
,@HeaderTemplate = N'SQL Browser is {1}'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Browser service has a status of {1}.'
,@TodoTemplate = N'SQL Browser is {1} on {0}'
,@PulseTemplate = N'SQL Browser is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 128
,@MessageID = 4
,@EventID = 5340
,@HeaderTemplate = N'SQL Browser status: {1}'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Browser service status is: {1}. 

{3}'
,@TodoTemplate = N'SQL Browser is: {1} on {0}'
,@PulseTemplate = N'SQL Browser status is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

-- 129 - SQL Active Directory Helper Service Status
select
@Metric = 129
,@MessageID = 0
,@EventID = 5342
,@HeaderTemplate = N'SQL Server Active Directory Helper running'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Active Directory Helper service is running.'
,@TodoTemplate = N'SQL Server Active Directory Helper running on {0}'
,@PulseTemplate = N'SQL Server Active Directory Helper is running.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 129
,@MessageID = 1
,@EventID = 5344
,@HeaderTemplate = N'SQL Server  Active Directory Helper paused'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Active Directory Helper service is paused.'
,@TodoTemplate = N'SQL Server  Active Directory Helper paused on {0}'
,@PulseTemplate = N'SQL Server  Active Directory Helper is paused.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 129
,@MessageID = 2
,@EventID = 5346
,@HeaderTemplate = N'SQL Active Directory Helper stopped'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Active Directory Helper service is stopped.'
,@TodoTemplate = N'SQL Active Directory Helper stopped on {0}'
,@PulseTemplate = N'SQL Active Directory Helper is stopped.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 129
,@MessageID = 3
,@EventID = 5348
,@HeaderTemplate = N'SQL Server Active Directory Helper is {1}'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Active Directory Helper service has a status of {1}.'
,@TodoTemplate = N'SQL Server  Active Directory Helper is {1} on {0}'
,@PulseTemplate = N'SQL Server  Active Directory Helper is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)

select
@Metric = 129
,@MessageID = 4
,@EventID = 5350
,@HeaderTemplate = N'SQL Active Directory Helper status: {1}'
,@BodyTemplate = N'SQL Server instance {0} - The SQL Active Directory Helper service status is: {1}. 

{3}'
,@TodoTemplate = N'SQL Active Directory Helper is: {1} on {0}'
,@PulseTemplate = N'SQL Active Directory Helper status is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
-- END: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add messages for the new service alerts

--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
-- 130 - Database not backed up since
select
@Metric = 130
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Database {2} is not backed up for {1} days.'
,@BodyTemplate = N'Database {2} is not backed up for {1} days.'
,@TodoTemplate = N'Database {2} is not backed up for {1} days.'
,@PulseTemplate = N'Database {2} is not backed up for {1} days.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts


--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Data IO Percent
select
@Metric = 131
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N' Average Data IO usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} is currently an Average Data IO of {1:F2}%.: If this metric is consistently low, consider lowering the service tier of the database. If this metric is consistently high, check to see if the workload queries can be tuned to use less IO, or consider raising the service tier.'
,@TodoTemplate =   N'Average Data IO usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Average Data IO usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Data IO Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Log Write Percent
select
@Metric = 132
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Average Log Write usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has an Average Log Write of {1:F2}%. n: If this metric is consistently low, consider reducing the service tier of the database. If the metric is consistently high, check to see if the workload can be tuned for less log writes, or raise the service tier. '
,@TodoTemplate =   N'Average Log Write usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Average Log Write usage is {1:F2}%. '

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Log Write Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Worker Percent
select
@Metric = 133
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Max Worker usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Max Worker usage of {1:F2}%. : If this value is consistently low, consider lowering the service tier. If this value is consistently high, check to see if fewer processes can be run simultaneously on the database, or consider raising the service tier. '
,@TodoTemplate =   N'Max Worker usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Max Worker usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Worker Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Session Percent
select
@Metric = 134
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Max Session usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Max Session usage of {1:F2}%.: If this value is consistently low, consider lowering the service tier. If this value is consistently high, check to see if fewer sessions are required for the database workload, or consider raising the service tier.'
,@TodoTemplate =   N'Max Session usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Max Session usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Session Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Service Tier Changes
select
@Metric = 135
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Service Tier Has Changed.'
,@BodyTemplate =   N'The SQL Server instance {0} Service Tier Has Changed.'
,@TodoTemplate =   N'Service Tier Has Changed on {0}'
,@PulseTemplate =  N' Service Tier Has Changed .'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Service Tier Changes

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Database Average Memory Usage Percent
select
@Metric = 136
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Database Average Memory usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Database Average Memory usage of {1:F2}%. If this value is consistently low, consider lowering the service tier for the database. If this value is consistently high, consider tuning the queries being run against the database to be more selective, or use less memory. Otherwise, consider raising the service tier.'
,@TodoTemplate =   N'Database Average Memory usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Database Average Memory usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Database Average Memory Usage Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - In-Memory Storage Usage Percent
select
@Metric = 137
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'In-Memory Storage usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has an  In-Memory Storage  usage of {1:F2}%. If this value is consistently low, consider lowering the service tier for the database. If this value is consistently high, consider tuning the in-memory queries being run against the database to be more selective, or use less storage. Otherwise, consider raising the service tier.'
,@TodoTemplate =   N'In-Memory Storage usage is {1:F2}% on {0}'
,@PulseTemplate =  N'In-Memory Storage usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - In-Memory Storage Usage Percent

--START 5.4.2
select
@Metric = 175
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N' Average Data IO usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} is currently an Average Data IO of {1:F2}%.: If this metric is consistently low, consider lowering the service tier of the database. If this metric is consistently high, check to see if the workload queries can be tuned to use less IO, or consider raising the service tier.'
,@TodoTemplate =   N'Average Data IO usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Average Data IO usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Data IO Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Log Write Percent
select
@Metric = 176
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Average Log Write usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has an Average Log Write of {1:F2}%. n: If this metric is consistently low, consider reducing the service tier of the database. If the metric is consistently high, check to see if the workload can be tuned for less log writes, or raise the service tier. '
,@TodoTemplate =   N'Average Log Write usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Average Log Write usage is {1:F2}%. '

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Average Log Write Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Worker Percent
select
@Metric = 177
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Max Worker usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Max Worker usage of {1:F2}%. : If this value is consistently low, consider lowering the service tier. If this value is consistently high, check to see if fewer processes can be run simultaneously on the database, or consider raising the service tier. '
,@TodoTemplate =   N'Max Worker usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Max Worker usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Worker Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Session Percent
select
@Metric = 178
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Max Session usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Max Session usage of {1:F2}%.: If this value is consistently low, consider lowering the service tier. If this value is consistently high, check to see if fewer sessions are required for the database workload, or consider raising the service tier.'
,@TodoTemplate =   N'Max Session usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Max Session usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Max Session Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Database Average Memory Usage Percent
select
@Metric = 179
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Database Average Memory usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has a Database Average Memory usage of {1:F2}%. If this value is consistently low, consider lowering the service tier for the database. If this value is consistently high, consider tuning the queries being run against the database to be more selective, or use less memory. Otherwise, consider raising the service tier.'
,@TodoTemplate =   N'Database Average Memory usage is {1:F2}% on {0}'
,@PulseTemplate =  N'Database Average Memory usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - Database Average Memory Usage Percent

--START SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - In-Memory Storage Usage Percent
select
@Metric = 180
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'In-Memory Storage usage is {1:F2}%'
,@BodyTemplate =   N'SQL Server instance {0} currently has an  In-Memory Storage  usage of {1:F2}%. If this value is consistently low, consider lowering the service tier for the database. If this value is consistently high, consider tuning the in-memory queries being run against the database to be more selective, or use less storage. Otherwise, consider raising the service tier.'
,@TodoTemplate =   N'In-Memory Storage usage is {1:F2}% on {0}'
,@PulseTemplate =  N'In-Memory Storage usage is {1:F2}%.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - Azure SQL Server Metric - In-Memory Storage Usage Percent

--END 5.4.2

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Balance
select
@Metric = 138
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'CPU Credit Balance is {1}'
,@BodyTemplate =   N'SQL Server instance {0} has a  CPU Credit Balance of {1}'
,@TodoTemplate =   N'CPU Credit Balance is {1} on {0}'
,@PulseTemplate =  N'CPU Credit Balance is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Balance

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Balance High
select
@Metric = 181
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'CPU Credit Balance is High {1}'
,@BodyTemplate =   N'SQL Server instance {0} has a  CPU Credit Balance High of {1}'
,@TodoTemplate =   N'CPU Credit Balance High is {1} on {0}'
,@PulseTemplate =  N'CPU Credit Balance High is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Balance High


--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Usage
select
@Metric = 139
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'CPU Credit Usage is {1}'
,@BodyTemplate =   N'SQL Server instance {0} has a  CPU Credit Usage of {1}'
,@TodoTemplate =   N'CPU Credit Usage is {1} on {0}'
,@PulseTemplate =  N'CPU Credit Usage is {1}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - CPU Credit Usage

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Disk Queue Depth
select
@Metric = 140
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Disk Queue Depth is {0:F2}'
,@BodyTemplate =   N'SQL Server instance {0} - The Disk Queue Depth is {1:F2}.'
,@TodoTemplate =   N'Disk Queue Depth is {1:F2} on {0}'
,@PulseTemplate =  N'Disk Queue Depth is {0:F2}.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Disk Queue Depth

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Latency
select
@Metric = 141
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Read Latency is {1}ms'
,@BodyTemplate =   N'SQL Server instance {0} - The Read Latency is {1}ms.'
,@TodoTemplate =   N'Read Latency is {1}ms on {0}'
,@PulseTemplate =  N'Read Latency  is {1}ms.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Latency

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Latency Low
select
@Metric = 182
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Read Latency Low is {1}ms'
,@BodyTemplate =   N'SQL Server instance {0} - The Read Latency Low is {1}ms.'
,@TodoTemplate =   N'Read Latency Low is {1}ms on {0}'
,@PulseTemplate =  N'Read Latency Low  is {1}ms.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Latency Low

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Throughput
select
@Metric = 142
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Read Throughput is {1}MB/sec'
,@BodyTemplate =   N'SQL Server instance {0} - The Read Throughput is {1} MB/sec .'
,@TodoTemplate =   N'Read Throughput is {1} MB/sec on {0}'
,@PulseTemplate =  N'Read Throughput is {1} MB/sec .'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Read Throughput


--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Swap Usage
select
@Metric = 143
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Swap Usage  is {1}'
,@BodyTemplate =   N'SQL Server instance {0} - The  Swap Usage  is {1}.'
,@TodoTemplate =   N'Swap Usage is {1} on {0}'
,@PulseTemplate =  N'Swap Usage  is {1} .'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Swap Usage

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Latency
select
@Metric = 144
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Write Latency is {1}ms'
,@BodyTemplate =   N'SQL Server instance {0} - The  Write Latency is {1}ms.'
,@TodoTemplate =   N'Write Latency is {1}ms on {0}'
,@PulseTemplate =  N'Write Latency  is {1}ms.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Latency

--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Latency Low
select
@Metric = 183
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Write Latency Low is {1}ms'
,@BodyTemplate =   N'SQL Server instance {0} - The  Write Latency Low is {1}ms.'
,@TodoTemplate =   N'Write Latency Low is {1}ms on {0}'
,@PulseTemplate =  N'Write Latency Low  is {1}ms.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Latency Low




--START SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Throughput
select
@Metric = 145
,@MessageID = 0
,@EventID = 1115
,@HeaderTemplate = N'Write Throughput is {1}MB/sec.'
,@BodyTemplate =   N'SQL Server instance {0} - The  Write Throughput is {1} MB/sec.'
,@TodoTemplate =   N'Write Throughput is {1} MB/sec on {0}'
,@PulseTemplate =  N'Write Throughput is {1} MB/sec.'

INSERT [MetricMetaDataMessages] ([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES (@Metric,@MessageID,@EventID,@HeaderTemplate,@BodyTemplate,@TodoTemplate,@PulseTemplate)
--END SQLdm 10.5 Nitor Dev - AWS RDS CloudWatch - Write Throughput
-- New records for Baseline Alerts
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(146,0,101,'SQL Server CPU usage is {1:F2}%','SQL Server instance {0} is currently using {1:F2}% of the CPU.','SQL Server CPU usage is {1:F2}% on {0}','SQL Server CPU usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(147,0,202,'User connections are at {1:F2}%','SQL Server instance {0} has {2} user connections and is at {1:F2}% of the maximum connections allowed.','User connections are at {1:F2}% on {0}','User connections are at {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(148,0,708,'Latent replication transaction count is {1}','SQL Server instance {0} has {1} replication transactions published by the Publisher but not received by the Distributor.','Latent replication transaction count is {1} on {0}','Latent replication transaction count is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(149,0,809,'Unsubscribed transaction count is {1}','SQL Server instance {0} has {1} unsubscribed replication transactions received by the Distributor and not received by a Subscriber.','Unsubscribed transaction count is {1} on {0}','Unsubscribed transaction count is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(150,0,910,'A transaction in session {6} has been active for {1} minute(s) and running since {8}','SQL Server instance {0} - A transaction in session {6} has been active for {1} minute(s) and running since {8}. The transaction is being run on database [{2}] with application name ''{3}'' by user ''{5}'' on host ''{4}''. Last command issued: {7}','A transaction in session {6} has been active for {1} minute(s) and running since {8} on {0}','A transaction in session {6} has been active for {1} minute(s) and running since {8}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(151,0,1624,'SQL Server memory is {1:F2}%','SQL Server instance {0} is currently using {1:F2}% of the server memory.','SQL Server memory is {1:F2}% on {0}','SQL Server memory usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(152,0,2028,'Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1} total seconds)','SQL Server instance {0} has unsubscribed replication transactions that have been holding at the Distributor for {3} hours {4} minutes {5} seconds ({1} total seconds).','Unsubscribed transaction time is {3} hours {4} minutes {5} seconds ({1} total seconds) on {0}','Unsubscribed transaction time is {1} seconds.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(153,0,2534,'Server response time is {1} ms','SQL Server instance {0} has a response time of {1} ms.','Server response time is {1} ms on {0}','Server response time is {1} ms.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(154,0,4020,'OS memory used is {1:F2}%','SQL Server instance {0} - The operating system has {1:F2}% of memory in use.','OS memory used is {1:F2}% on {0}','OS memory usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(155,0,4030,'OS paging is {1:F2} pages/second','SQL Server instance {0} - The operating system is paging at {1:F2} pages/second.','OS paging is {1:F2} pages/second on {0}','OS paging is {1:F2} pages/second.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(156,0,4040,'OS CPU usage is {1:F2}%','SQL Server instance {0} - The operating system CPU usage is {1:F2}%.','OS CPU usage is {1:F2}% on {0}','OS CPU usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(157,0,4050,'OS privileged CPU usage is {1:F2}%','SQL Server instance {0} - The operating system privileged CPU usage is {1:F2}%.','OS privileged CPU usage is {1:F2}% on {0}','OS privileged CPU usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(158,0,4060,'OS user CPU usage is {1:F2}%','SQL Server instance {0} - The operating system user CPU usage is {1:F2}%.','OS user CPU usage is {1:F2}% on {0}','OS user CPU usage is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(159,0,4070,'OS processor queue length is {1}','SQL Server instance {0} - The operating system processor queue length is {1}.','OS processor queue length is {1} on {0}','OS processor queue length is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(160,0,4080,'OS disk time is currently {1:F2}%','SQL Server instance {0} - The operating system physical disks are {1:F2}% busy.','OS disk time is currently {1:F2}% on {0}','OS disk time is currently {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(161,0,4090,'OS average disk queue length is {1:F2}','SQL Server instance {0} - The operating system average disk queue length is {1:F2}.','OS average disk queue length is {1:F2} on {0}','OS average disk queue length is {1:F2}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(162,0,4310,'Client computers is {1}','SQL Server instance {0} has {1} client computers connected.','Client computers is {1} on {0}','Client computers is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(163,0,4320,'Blocked sessions count is {1}','SQL Server instance {0} has {1} sessions which are blocked by other sessions.','Blocked sessions count is {1} on {0}','Blocked sessions count is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(164,0,4330,'SQL Server Data used is {1:F2}%','SQL Server instance {0} has {1:F2}% of the total allocated database file space in use.    If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.','SQL Server Data used is {1:F2}% on {0}','SQL Server Data used is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(165,0,4340,'SQL Server Log used is {1:F2}%','SQL Server instance {0} has {1:F2}% of the total allocated database transaction log file space in use.    If this percentage appears incorrect, you may need to run DBCC UPDATEUSAGE to have SQL Server update the information.','SQL Server Log used is {1:F2}% on {0}','SQL Server Log used is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(166,0,4130,'Page life expectancy for {0} is currently {1}.','Page life expectancy for {0} is currently {1}.','Page life expectancy for {0} is currently {1}.','Page Life Expectancy is {1}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(167,0,4140,'SQL Server procedure cache hit ratio is {1:F2}%','The ratio of procedure cache hits to lookups is {1:F2}% for SQL Server instance {0}.','Procedure cache hit ratio is {1:F2}% on {0}','SQL Server procedure cache hit ratio is {1:F2}%.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(168,0,5202,'vCPU usage is {1:F2}%','SQL Server instance {0} is currently using {1:F2}% of the virtual CPU for its VM.','vCPU usage is {1:F2}%','vCPU usage is {1:F2}%')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(169,0,5302,'The data is not synchronized to the secondary replica since {0} seconds','The data is not synchronized to the secondary replica since {0} seconds. Affected database(s): {1}','The data is not synchronized to the secondary replica since {0} seconds','The data is not synchronized to the secondary replica since {0} seconds')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(170,0,5304,'{0} seconds required to recover the estimated data loss.','{0} seconds required to recover the estimated data loss. Affected database(s): {1}','{0} seconds required to recover the estimated data loss.','{0} seconds required to recover the estimated data loss.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(171,0,5305,'{0} seconds required to synchronize the database {1} in replica {2}.','{0} seconds required to synchronize the database {1} in replica {2}.','{0} seconds required to synchronize the database {1} in replica {2}.','{0} seconds required to synchronize the database {1} in replica {2}.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(172,0,5306,'The log send queue size for the {0} replica has grown to {1} KB.','The log send queue size for the {0} replica has grown to {1} KB. Affected database(s): {2}','The log send queue size for the {0} replica has grown to {1} KB.','The log send queue size for the {0} replica has grown to {1} KB.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(173,0,5307,'The redo queue size for the {0} replica has grown to {1} KB.','The redo queue size for the {0} replica has grown to {1} KB. Affected database(s): {2}','The redo queue size for the {0} replica has grown to {1} KB.','The redo queue size for the {0} replica has grown to {1} KB.')
INSERT MetricMetaDataMessages([Metric], [MessageID], [EventID], [HeaderTemplate], [BodyTemplate], [TodoTemplate], [PulseTemplate]) VALUES(174,0,5308,'The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.','The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s. Affected database(s): {2}','The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.','The redo logs synchronization rate for the {0} replica has reduced to {1} KB/s.')
--

DELETE FROM MetricMetaDataMessageMap
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,10,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,10,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,10,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,10,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,10,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,12,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,12,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,12,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (3,12,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,12,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,5)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,6)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,7)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,8)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,9)
--SQLDM 10.1 Barkha khatri Adding message type for TrunactedFunctionalityAvailbale Service State
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) values (4,12,10)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,18,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,18,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,18,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,18,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,18,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,19,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,19,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,19,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,19,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,19,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,23,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,23,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,23,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (3,23,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (3,23,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,48,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,48,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,35,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,35,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,35,4)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,100)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,101)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,102)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,103)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,104)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,52,105)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,52,200)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,89,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,89,9999)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,91,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,91,0)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,92,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,92,0)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,93,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,93,0)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,66,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,66,-1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,67,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,67,-1)

--SQLdm 8.6 (Ankit Srivastava) - Preferred Node Feature -- added two message mapping for different scenario
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,124,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,124,0)

--START: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the message transition details for new service alerts
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,128,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,128,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,128,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (3,128,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,5)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,6)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,7)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,8)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,128,9)

INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,129,0)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (1,129,1)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (2,129,2)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (3,129,3)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,4)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,5)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,6)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,7)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,8)
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (4,129,9)
--END: SQLdm 9.1 (Abhishek Joshi) -Monitor additonal SQL Server services --add the message transition details for new service alerts
--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
INSERT INTO [dbo].[MetricMetaDataMessageMap] ([MessageID],[Metric],[Value]) VALUES (0,130,0)
--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts

drop table #upgrade_metric_info
drop table #upgrade_metric_metadata


truncate table [BaselineMetaData]
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (4,'Available Memory',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-1000,'[OSStatistics] S','OSAvailableMemoryInKilobytes',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (5,'OS Memory Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',24,'[OSStatistics] S','1 - (convert(dec(15,4),OSAvailableMemoryInKilobytes )/ nullif(OSTotalPhysicalMemoryInKilobytes,0))',1,NULL,100,100.0000000000)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (7,'Batches Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-7,'[ServerStatistics] S','Transactions/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (8,'Blocked Sessions',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',58,'[ServerStatistics] S','BlockedProcesses',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (9,'Buffer Cache Hit Ratio',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-9,'[ServerStatistics] S','BufferCacheHitRatioPercentage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (10,'Buffer Cache Size',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-10,'[ServerStatistics] S','BufferCacheSizeInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (12,'Checkpoint Writes Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','CheckpointWrites/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (13,'Client Computers',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',57,'[ServerStatistics] S','ClientComputers',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (16,'SQL Server CPU Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',0,'[ServerStatistics] S','CPUActivityPercentage',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (17,'Database Count',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','DatabaseCount',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (18,'Data File Count',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','DataFileCount',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (19,'Data File Space Allocated',NULL,NULL,'MB','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','DataFileSpaceAllocatedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (20,'Data File Space Used',NULL,NULL,'MB','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','DataFileSpaceUsedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (21,'OS Average Disk Queue Length',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',31,'[OSStatistics] S','DiskQueueLength',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (22,'OS Disk Time',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',30,'[OSStatistics] S','DiskTimePercent',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (23,'Full Scans Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','FullScans/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (26,'Lazy Writer Writes Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LazyWriterWrites/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (29,'Lock Waits Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LockWaits/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (30,'Log File Count',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LogFileCount',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (31,'Log File Space Allocated',NULL,NULL,'MB','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LogFileSpaceAllocatedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (32,'Log File Space Used',NULL,NULL,'MB','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LogFileSpaceUsedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (34,'Log Flushes Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','LogFlushes/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (37,'Open Transactions',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','OpenTransactions',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (39,'OS Privileged Time',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',27,'[OSStatistics] S','PrivilegedTimePercent',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (40,'OS User Time',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',28,'[OSStatistics] S','UserTimePercent',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (41,'OS Processor Time',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',26,'[OSStatistics] S','ProcessorTimePercent',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (43,'Packet Errors Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-43,'[ServerStatistics] S','PacketErrors/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (45,'Packets Received Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-45,'[ServerStatistics] S','PacketsReceived/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (47,'Packets Sent Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-47,'[ServerStatistics] S','PacketsSent/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (48,'Page Life Expectancy',NULL,NULL,'Seconds','{0:G;0} - {1:G;0} {2}','0 {2}',76,'[ServerStatistics] S','PageLifeExpectancy',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (50,'Page Lookups Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-50,'[ServerStatistics] S','PageLookups/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (52,'Page Reads Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-52,'[ServerStatistics] S','PageReads/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (53,'OS Paging',NULL,NULL,'Per Second','{0:G;0} - {1:G;0} {2}','0 {2}',25,'[OSStatistics] S','PagesPerSecond',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (55,'Page Splits Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-55,'[ServerStatistics] S','PageSplits/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (57,'Page Writes Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-1001,'[ServerStatistics] S','PageWrites/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (58,'Physical Memory',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-1002,'[OSStatistics] S','OSTotalPhysicalMemoryInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (59,'Procedure Cache Hit Ratio',NULL,NULL,'Ratio / %','{0:G;0} - {1:G;0} {2}','0 {2}',81,'[ServerStatistics] S','ProcedureCacheHitRatioPercentage',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (60,'Procedure Cache Size',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-1003,'[ServerStatistics] S','ProcedureCacheSizeInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (61,'OS Processor Queue Length',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',29,'[OSStatistics] S','ProcessorQueueLength',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (63,'Read Ahead Pages Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-63,'[ServerStatistics] S','ReadAheadPages/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (65,'SQL Server Response Time',NULL,NULL,'Milliseconds','{0:G;0} - {1:G;0} {2}','0 {2}',22,'[ServerStatistics] S','ResponseTimeInMilliseconds',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (69,'Sql Compilations Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','SqlCompilations/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (70,'Sql Memory Allocated',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-70,'[ServerStatistics] S','SqlMemoryAllocatedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (71,'Sql Memory Used',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-71,'[ServerStatistics] S','SqlMemoryUsedInKilobytes',1,NULL,NULL,0.0009765625)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (72,'SQL Server Memory Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',13,'[ServerStatistics] S','convert(dec(15,4),SqlMemoryUsedInKilobytes)/nullif(PhysicalMemoryInKilobytes,0)',1,NULL,100,100.0000000000)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (74,'Sql Recompilations Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','SqlRecompilations/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (75,'System Processes',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','SystemProcesses',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (76,'System Processes Consuming CPU',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','SystemProcessesConsumingCPU',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (78,'User Processes',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-78,'[ServerStatistics] S','UserProcesses',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (79,'User Processes Consuming CPU',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','UserProcessesConsumingCPU',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (82,'Workfiles Created Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-82,'[ServerStatistics] S','WorkFilesCreated/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (84,'Worktables Created Per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-84,'[ServerStatistics] S','WorkTablesCreated/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (85,'Non-Distributed Transactions',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',4,'[ServerStatistics] S','ReplicationUndistributed',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (86,'Unsubscribed Transactions',NULL,NULL,'Count','{0:G;0} - {1:G;0} {2}','0 {2}',5,'[ServerStatistics] S','ReplicationUnsubscribed',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (87,'User Connections',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',1,'[ServerStatistics] S','convert(dec(15,4),UserProcesses)/MaxConnections',1,NULL,100,100.0000000000)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (88,'Oldest Open Transaction',NULL,NULL,'Minutes','{0:G;0} - {1:G;0} {2}','0 {2}',6,'[ServerStatistics] S','OldestOpenTransactionsInMinutes',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (89,'SQL Server Data Used',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',59,'[ServerStatistics] S','convert(dec(15,4),DataFileSpaceUsedInKilobytes)/DataFileSpaceAllocatedInKilobytes',1,NULL,100,100.0000000000)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (90,'SQL Server Log Used',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',60,'[ServerStatistics] S','convert(dec(15,4),LogFileSpaceUsedInKilobytes)/LogFileSpaceAllocatedInKilobytes',1,NULL,100,100.0000000000)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (91,'Unsubscribed Transactions',NULL,NULL,'Seconds','{0:G;0} - {1:G;0} {2}','0 {2}',17,'[ServerStatistics] S','ReplicationLatencyInSeconds',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (114,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','IdleTimePercentage',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (115,'IOActivityPercentage','Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-135,'[ServerStatistics] S','IOActivityPercentage',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (122,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','Logins/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (130,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','PageErrors/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (140,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','ProcedureCacheSizePercent',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (145,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','ReplicationSubscribed',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (155,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TableLockEscalations/nullif(TimeDeltaInSeconds,0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (156,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempDBSizeInKilobytes',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (157,NULL,'Not currently used',NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempDBSizePercent',1,NULL,100,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (158,'Version Store Size',NULL,NULL,'Milliseconds','{0:G;0} - {1:G;0} {2}','0 {2}',-93,'[ServerStatistics] S','(TempdbPFSWaitTimeMilliseconds + TempdbGAMWaitTimeMilliseconds + TempdbSGAMWaitTimeMilliseconds)',1,0,NULL,NULL)

insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (159,'VM CPU Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',98,'[VMStatistics] S','CPUUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (160,'VM CPU Usage',NULL,NULL,'MHz','{0:G;0} - {1:G;0} {2}','0 {2}',-99,'[VMStatistics] S','CPUUsageMHz',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (161,'VM CPU Ready',NULL,NULL,'Milliseconds','{0:G;0} - {1:G;0} {2}','0 {2}',-100,'[VMStatistics] S','CPUReady',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (162,'VM CPU Swap Wait',NULL,NULL,'Milliseconds','{0:G;0} - {1:G;0} {2}','0 {2}',-101,'[VMStatistics] S','CPUSwapWait',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (163,'VM Memory Swap In Wait',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-102,'[VMStatistics] S','MemSwapInRate',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (164,'VM Memory Swap Out Rate',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-103,'[VMStatistics] S','MemSwapOutRate',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (165,'VM Memory Swapped',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-104,'[VMStatistics] S','MemSwapped',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (166,'VM Memory Active',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-105,'[VMStatistics] S','MemActive',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (167,'VM Memory Consumed',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-106,'[VMStatistics] S','MemConsumed',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (168,'VM Memory Granted',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-107,'[VMStatistics] S','MemGranted',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (169,'VM Memory Ballooned',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-108,'[VMStatistics] S','MemBalooned',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (170,'VM Memory Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',-109,'[VMStatistics] S','MemUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (171,'VM Disk Read',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-110,'[VMStatistics] S','DiskRead',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (172,'VM Disk Write',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-111,'[VMStatistics] S','DiskWrite',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (173,'VM Disk Usage',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-112,'[VMStatistics] S','DiskUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (174,'VM Net Usage',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-113,'[VMStatistics] S','NetUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (175,'VM Net Received',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-115,'[VMStatistics] S','NetReceived',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (176,'VM Net Transmitted',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-114,'[VMStatistics] S','NetTransmitted',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (177,'Host CPU Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',-116,'[ESXStatistics] S','CPUUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (178,'Host CPU UsageMHz',NULL,NULL,'MHz','{0:G;0} - {1:G;0} {2}','0 {2}',-117,'[ESXStatistics] S','CPUUsageMHz',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (179,'Host Memory Swap In Rate',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-118,'[ESXStatistics] S','MemSwapInRate',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (180,'Host Memory Swap Out Rate',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-119,'[ESXStatistics] S','MemSwapOutRate',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (181,'Host Memory Active',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-120,'[ESXStatistics] S','MemActive',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (182,'Host Memory Consumed',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-121,'[ESXStatistics] S','MemConsumed',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (183,'Host Memory Granted',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-122,'[ESXStatistics] S','MemGranted',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (184,'Host Memory Ballooned',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-123,'[ESXStatistics] S','MemBalooned',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (185,'Host Memory Usage',NULL,NULL,'Percent','{0:G;0} - {1:G;0} {2}','0 {2}',-124,'[ESXStatistics] S','MemUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (186,'Host Disk Read',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-125,'[ESXStatistics] S','DiskRead',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (187,'Host Disk Write',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-126,'[ESXStatistics] S','DiskWrite',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (188,'Host Disk Device Latency',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ESXStatistics] S','DiskDeviceLatency',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (189,'Host Disk Kernel Latency',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ESXStatistics] S','DiskKernelLatency',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (190,'Host Disk Queue Latency',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ESXStatistics] S','DiskQueueLatency',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (191,'Host Disk Total Latency',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ESXStatistics] S','DiskTotalLatency',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (192,'Host Disk Usage',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-127,'[ESXStatistics] S','DiskUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (193,'Host Net Usage',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-132,'[ESXStatistics] S','NetUsage',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (194,'Host Net Received',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-134,'[ESXStatistics] S','NetReceived',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (195,'Host Net Transmitted',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',-133,'[ESXStatistics] S','NetTransmitted',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (196,'Logins per Second',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-137,'[ServerStatistics] S','Logins',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (197,'Distribution Latency',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','DistributionLatencyInSeconds',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (198,'Replication Subscribed',NULL,NULL,'/s','{0:G;0} - {1:G;0} {2}','0 {2}',-1005,'[ServerStatistics] S','ReplicationSubscribed/nullif(TimeDeltaInSeconds, 0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (199,'Table Lock Escalations',NULL,NULL,'/s','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TableLockEscalations/nullif(TimeDeltaInSeconds, 0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (200,'TempDB Size',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',-136,'[ServerStatistics] S','TempDBSizeInKilobytes',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (201,'TempDB Size Percent',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempDBSizePercent',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (203,'Version Store Generation',NULL,NULL,'/s','{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','VersionStoreGenerationKilobytes/nullif(TimeDeltaInSeconds, 0)',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (204,'Tempdb PFS Wait Time Milliseconds',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempdbPFSWaitTimeMilliseconds',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (205,'Tempdb GAM Wait Time Milliseconds',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempdbGAMWaitTimeMilliseconds',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (206,'Tempdb SGAM Wait Time Milliseconds',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',NULL,'[ServerStatistics] S','TempdbSGAMWaitTimeMilliseconds',1,NULL,NULL,NULL)

--AlwaysOn metrics
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (207,'Availability Group Role Change',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-1006,'[AlwaysOnStatistics] S','ReplicaRole',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (208,'Availability Group Estimated Data Loss',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',117,'[AlwaysOnStatistics] S','EstimatedDataLossTime',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (209,'Availability Group Synchronization Health',NULL,NULL,NULL,'{0:G;0} - {1:G;0} {2}','0 {2}',-1008,'[AlwaysOnStatistics] S','SynchronizationHealth',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (210,'Availability Group Estimated Recovery Time',NULL,NULL,'Seconds','{0:G;0} - {1:G;0} {2}','0 {2}',119,'[AlwaysOnStatistics] S','EstimatedRecoveryTime',1,NULL,NULL,NULL)
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (211,'Availability Group Synchronization Performance',NULL,NULL,'Seconds','{0:G;0} - {1:G;0} {2}','0 {2}',120,'[AlwaysOnStatistics] S','SynchronizationPerformance',1,NULL,NULL,NULL)  
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (212,'Availability Group Log Send Queue Size',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',121,'[AlwaysOnStatistics] S','LogSedQueueSize',1,NULL,NULL,NULL)  
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (213,'Availability Group Redo Queue Size',NULL,NULL,'KB','{0:G;0} - {1:G;0} {2}','0 {2}',122,'[AlwaysOnStatistics] S','RedoQueueSize',1,NULL,NULL,NULL)  
insert into [BaselineMetaData]([ItemID],[Name],[Description],[Category],[Unit],[Format],[NullFormat],[MetricID],[StatisticTable],[MetricValue],[Decimals],[LLimit],[ULimit],[Scale]) Values (214,'Availability Group Redo Rate',NULL,NULL,'KB/s','{0:G;0} - {1:G;0} {2}','0 {2}',123,'[AlwaysOnStatistics] S','RedoRate',1,NULL,NULL,NULL)  

----------------------------------------------------------------------------------------------------------------
--- AuditableActions
TRUNCATE TABLE AuditableActions

INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (1, 'Server Added to Monitor', 'Added "{0}" server for monitoring', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (2, 'Monitored Server Deleted', 'Deleted "{0}" server from monitoring', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (3, 'Server Properties Changed', 'Changed server properties', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (4, 'Alert Configuration Changed', 'Changed alert configuration', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (5, 'Alert Configuration Copied from One Server to Servers', 'Copied alert configuration from "{0}" server to servers', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (6, 'Maintenance Mode Manually Enabled', 'Enabled maintenance mode manually', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (7, 'Maintenance Mode Manually Disabled', 'Disabled maintenance mode manually', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (8, 'Maintenance Mode Schedule Changed', 'Changed maintenance mode schedule', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (9, 'Alert template Applied to Servers', 'Applied "{0}" alert template to servers', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (10, 'Single Alert Snoozed', 'Repository user "{0}" snoozed a single alert', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (11, 'Multiple Alerts Snoozed', 'Repository user "{0}" snoozed multiple alerts', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (12, 'Tag Added', 'Repository user "{0}" added tag', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (13, 'Tag Removed', 'Repository user "{0}" removed tag', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (14, 'Session Killed', 'Repository user "{0}" killed session "{1}" from workstation "{2}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (15, 'License Updated', 'Updated License', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (16, 'Multiple Alerts Resumed', 'Repository user "{0}" resumed alerts on server', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (17, 'Alert Configuration Copied from Server', 'Alert configuration copied from "{0}" server', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (18, 'Maintenance Mode Schedule Started', 'Started maintenance mode according to schedule', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (19, 'Maintenance Mode Schedule Stopped', 'Stopped maintenance mode according to schedule', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (20, 'Alert Response Added', 'Added "{0}" alert response', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (21, 'Alert Response Edited', 'Edited "{0}" alert response', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (22, 'Alert Response Removed', 'Removed "{0}" alert response', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (23, 'Alert Response Copied', 'Copied "{0}" alert response from "{1}" alert response', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (24, 'Predictive Analytics Enabled', 'Enabled predictive analytics for alert forecasting', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (25, 'Predictive Analytics Disabled', 'Disabled predictive analytics for alert forecasting', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (26, 'Alert Template Added', 'Added "{0}" alert template', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (27, 'Alert Template Deleted', 'Deleted "{0}" alert template', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (28, 'Default Alert Template Set', 'Set default alert template', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (29, 'Alert Template Edited', 'Edited "{0}" alert template', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (30, 'Baseline Configuration Changed', 'Changed performance baseline configuration', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (31, 'vCenter Added', 'Added vCenter "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (32, 'vCenter Edited', 'Edited vCenter "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (33, 'vCenter Removed', 'Removed vCenter "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (34, 'Grooming Configuration Changed', 'Changed grooming configuration', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (35, 'Custom Counter Linked to Tag', 'Linked custom counter "{0}" to tag "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (36, 'Aggregate Now Triggered', 'Repository user "{0}" triggered Aggregate Now event', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (37, 'Groom Now Triggered', 'Repository user "{0}" triggered Groom Now event', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (38, 'Server Added to Tag', 'Added "{0}" server to tag', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (39, 'Server Deleted from Tag', 'Deleted "{0}" server from tag', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (40, 'Action Provider Added', 'Added "{0}" action provider', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (41, 'Action Provider Edited', 'Edited "{0}" action provider', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (42, 'Action Provider Removed', 'Removed "{0}" action provider', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (43, 'Server Linked to vCenter', 'Linked server to vCenter', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (44, 'Server Unlinked from vCenter', 'Unlinked server from vCenter', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (45, 'Server Link Configuration to vCenter Changed', 'Changed server link configuration to vCenter', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (46, 'Full-Text Search Optimized', 'Repository user "{0}" optimized Full-Text search', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (47, 'Full-Text Search Rebuilt', 'Repository user "{0}" rebuilt Full-Text search', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (48, 'Clear Procedure Cache Triggered', 'Repository user "{0}" triggered Clear Procedure Cache', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (49, 'Blocked Process Threshold Edited', 'Repository user "{0}" edited Blocked Process Threshold', 2 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (50, 'SQL Server Agent Service Started', 'Repository user "{0}" started "SQL Server Agent" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (51, 'SQL Server Agent Service Stopped', 'Repository user "{0}" stopped "SQL Server Agent" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (52, 'SQL Job Started', 'Repository user "{0}" started SQL Job "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (53, 'SQL Job Stopped', 'Repository user "{0}" stopped SQL Job "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (54, 'Application Security Enabled', 'Application Security Enabled', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (55, 'Application Security Disabled', 'Application Security Disabled', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (56, 'User Account Deleted', 'Deleted "{0}" user account', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (57, 'User Account Edited', 'Edited "{0}" user account', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (58, 'User Account Added', 'Added "{0}" user account', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (59, 'Distributed Transaction Coordinator Service Started', 'Repository user "{0}" started "Distributed Transaction Coordinator" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (60, 'Distributed Transaction Coordinator Service Stopped', 'Repository user "{0}" stopped "Distributed Transaction Coordinator" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (61, 'Full-Text Search Service Started', 'Repository user "{0}" started "Full-Text Search" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (62, 'Full-Text Search Service Stopped', 'Repository user "{0}" stopped "Full-Text Search" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (63, 'SQL Server Service Started', 'Repository user "{0}" started "SQL Server" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (64, 'SQL Server Service Stopped', 'Repository user "{0}" stopped "SQL Server" Service', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (65, 'SQL Server Logs Recycling Triggered', 'Repository user "{0}" triggered SQL server logs recycling', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (66, 'SQL Server Agent Logs Recycling Triggered', 'Repository user "{0}" triggered SQL server agent logs recycling', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (67, 'Query Executed', 'Executed query on "{0}" server', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (68, 'All Server Alerts Snoozed', 'Repository user "{0}" snoozed on multiple servers all alerts', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (69, 'All Server Alerts Resumed', 'Repository user "{0}" resumed alerts on multiple servers', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (70, 'Statistics Updated', 'Repository user "{0}" Updated Statistics', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (71, 'Configuration Value Changed', 'Configuration Value "{0}" Changed', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (72, 'Mirroring Session Resumed', 'Resumed mirroring session for database "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (73, 'Mirroring Fail Over Triggered', 'Triggered mirroring fail over for database "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (74, 'Mirroring Session Suspended', 'Suspended mirroring session for database "{0}"', 1)
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (75, 'Session Traced', 'Repository user "{0}" traced session', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (76, 'Custom Counter Unlinked from Tag', 'Unlinked custom counter "{0}" from tag "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (77, 'Application Security User linked to Tag', 'Linked application security user "{0}" to "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (78, 'Application Security User unlinked from Tag', 'Unlinked application security user "{0}" from "{1}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (79, 'HyperV Added', 'Added HyperV "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (80, 'HyperV Edited', 'Edited HyperV "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate], [SecurityRequired]) VALUES (81, 'HyperV Removed', 'Removed HyperV "{0}"', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (82, 'Server Linked to HyperV', 'Linked server to HyperV', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (83, 'Server Unlinked from HyperV', 'Unlinked server from HyperV', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (84, 'Server Link Configuration to HyperV Changed', 'Changed server link configuration to HyperV', 1 )
INSERT INTO [AuditableActions] ([ActionID], [Name], [HeaderTemplate] ,[SecurityRequired]) VALUES (89, 'Analysis Configuration Changed', 'Changed Analysis Configurations', 1 )
----------------------------------------------------------------------------------------------------------------
---Report interval dropdowns
delete from ReportIntervals
insert into ReportIntervals values (0, 'Minutes')
insert into ReportIntervals values (1, 'Hours')
insert into ReportIntervals values (2, 'Days')
insert into ReportIntervals values (3, 'Months')
insert into ReportIntervals values (4, 'Years')

delete from ReportPeriods
insert into ReportPeriods values (0, 'Today')
insert into ReportPeriods values (1, 'Last 7 Days')
insert into ReportPeriods values (2, 'Last 30 Days')
insert into ReportPeriods values (3, 'Last 365 Days')
insert into ReportPeriods values (4, 'Custom')

delete from ReportPeriodIntervals
--Insert default period intervals
insert into ReportPeriodIntervals values(-1, 0,0)
insert into ReportPeriodIntervals values(-1, 0,1)
insert into ReportPeriodIntervals values(-1, 1,1)
insert into ReportPeriodIntervals values(-1, 1,2)
insert into ReportPeriodIntervals values(-1, 2,2)
insert into ReportPeriodIntervals values(-1, 3,2)
insert into ReportPeriodIntervals values(-1, 3,3)
insert into ReportPeriodIntervals values(-1, 4,0)
insert into ReportPeriodIntervals values(-1, 4,1)
insert into ReportPeriodIntervals values(-1, 4,2)
insert into ReportPeriodIntervals values(-1, 4,3)
insert into ReportPeriodIntervals values(-1, 4,4)
--Top Tables by Fragmentation
insert into ReportPeriodIntervals values(16, 1, 2)
insert into ReportPeriodIntervals values(16, 2, 2)
insert into ReportPeriodIntervals values(16, 3, 2)
insert into ReportPeriodIntervals values(16, 3, 3)
insert into ReportPeriodIntervals values(16, 4, 1)
insert into ReportPeriodIntervals values(16, 4, 2)
insert into ReportPeriodIntervals values(16, 4, 3)
insert into ReportPeriodIntervals values(16, 4, 4)
----------------------------------------------------------------------------------------------------------------------
--CounterMasterList for custom reports
----------------------------------------------------------------------------------------------------------------------
print 'CounterMasterList'
truncate table [CounterMasterList]
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ActiveProcesses','Active Processes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('AgentServiceStatus','AgentServiceStatus',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('BlockedProcesses','Blocked Processes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('BufferCacheHitRatioPercentage','Buffer Cache Hit Ratio (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('BufferCacheSizeInKilobytes','Buffer Cache Size (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CachePagesInKilobytes','Cached Pages (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CheckpointWrites','Checkpoint Writes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ClientComputers','Client Computers',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ClusterNodeName','ClusterNodeName',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CommittedInKilobytes','Committed (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ConnectionMemoryInKilobytes','ConnectionMemory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CPUActivityPercentage','CPU Activity (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CPUTimeDelta','CPUTimeDelta',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('CPUTimeRaw','CPUTimeRaw',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DatabaseCount','Databases',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DataFileCount','Data Files',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DataFileSpaceAllocatedInKilobytes','Data File Space Allocated (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DataFileSpaceUsedInKilobytes','Data File Space Used (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DistributionLatencyInSeconds','Distribution Latency (s)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DTCServiceStatus','DTCServiceStatus',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('FreeCachePagesInKilobytes','Free Cache Pages (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('FreePagesInKilobytes','Free Pages (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('FullScans','Full Scans',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('FullTextSearchStatus','FullTextSearchStatus',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('GrantedWorkspaceMemoryInKilobytes','Granted Workspace Memory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IdleTimeDelta','IdleTimeDelta',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IdleTimePercentage','Idle Time (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IdleTimeRaw','IdleTimeRaw',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IOActivityPercentage','IO Activity (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IOTimeDelta','IOTimeDelta',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IOTimeRaw','IOTimeRaw',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('IsClustered','IsClustered',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LazyWriterWrites','Lazy Writer Writes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LeadBlockers','Lead Blockers',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LockMemoryInKilobytes','Lock Memory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LockWaits','Lock Waits',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LogFileCount','Log File Count',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LogFileSpaceAllocatedInKilobytes','Log File Space Allocated (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LogFileSpaceUsedInKilobytes','Log File Space Used (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('LogFlushes','Log Flushes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('Logins','Logins',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('MaxConnections','Max Connections',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OldestOpenTransactionsInMinutes','Oldest Open Transactions (minutes)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OpenTransactions','Open Transactions',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OptimizerMemoryInKilobytes','Optimizer Memory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OsStatisticAvailability','OsStatisticAvailability',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PacketErrors','Packet Errors',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PacketsReceived','Packets Received',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PacketsSent','Packets Sent',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageErrors','Page Errors',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageLifeExpectancy','Page Life Expectancy',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageLookups','Page Lookups',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageReads','Page Reads',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageSplits','Page Splits',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PageWrites','Page Writes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PhysicalMemoryInKilobytes','Physical Memory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcedureCacheHitRatioPercentage','Procedure Cache Hit Ratio (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcedureCacheSizeInKilobytes','Procedure Cache Size (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcedureCacheSizePercent','Procedure Cache Size (%)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcessorCount','Processor Count',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcessorsUsed','Processors Used',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcessorType','ProcessorType',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ReadAheadPages','Read Ahead Pages',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('RealServerName','RealServerName',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ReplicationLatencyInSeconds','Subscription Latency (s)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ReplicationSubscribed','Subscribed Trans',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ReplicationUndistributed','Undistributed Trans',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ReplicationUnsubscribed','Unsubscribed Trans',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ResponseTimeInMilliseconds','Response Time (ms)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('RunningSince','RunningSince',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ServerHostName','ServerHostName',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ServerVersion','ServerVersion',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlCompilations','Sql Compilations',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlMemoryAllocatedInKilobytes','Sql Memory Allocated (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlMemoryUsedInKilobytes','Sql Memory Used (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlRecompilations','Sql Recompilations',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlServerEdition','SqlServerEdition',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SQLServerID','SQLServerID',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SqlServerServiceStatus','SqlServerServiceStatus',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SystemProcesses','System Processes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SystemProcessesConsumingCPU','System Processes Consuming CPU',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TableLockEscalations','Table Lock Escalations',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TempDBSizeInKilobytes','Tempdb Size (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TempDBSizePercent','Tempdb Size Percent',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TimeDeltaInSeconds','TimeDeltaInSeconds',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TotalLocks','Total Locks',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('TotalServerMemoryInKilobytes','Total Server Memory (KB)',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('Transactions','Batches',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('UserProcesses','User Processes',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('UserProcessesConsumingCPU','User Processes Consuming CPU',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('UTCCollectionDateTime','UTCCollectionDateTime',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('WindowsVersion','WindowsVersion',0,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('WorkFilesCreated','Work Files Created',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('WorkTablesCreated','Work Tables Created',0,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DiskQueueLength','Disk Queue Length',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('DiskTimePercent','Disk Time Percent',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OSAvailableMemoryInKilobytes','OS Available Memory (KB)',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('OSTotalPhysicalMemoryInKilobytes','OS Total Physical Memory (KB)',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PagesPerSecond','Pages/s',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('PrivilegedTimePercent','Privileged Time (%)',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcessorQueueLength','Processor Queue Length',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('ProcessorTimePercent','Processor Time (%)',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SQLServerID','SQLServerID',1,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('UserTimePercent','User Time (%)',1,1)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('UTCCollectionDateTime','UTCCollectionDateTime',1,0)
INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES('SQLMemoryUsagePercent','Sql Memory Usage Percent',0,1)

--SQLdm 8.5 (Ankit Srivastava): for Virtualization Counters -New Master data starts here
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('CPUUsage','CPU Usage',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('CPUUsageMHz','CPU Usage(MHz)',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('CPUReady','CPU Ready',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('CPUSwapWait','CPU Swap Wait',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemSwapInRate','Memory Swap In Rate',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemSwapOutRate','Memory Swap Out Rate',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemSwapped','Memory Swapped',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemActive','Memory Active',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemConsumed','Memory Consumed',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemGranted','Memory Granted',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemBalooned','Memory Balooned',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('MemUsage','Memory Usage',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('DiskRead','Disk Read',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('DiskWrite','Disk Write',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('DiskUsage','Disk Usage',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('NetUsage','Net Usage',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('NetReceived','Net Received',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('NetTransmitted','Net Transmitted',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('PagePerSecVM','Pages/s -VM',3,1)
Insert Into CounterMasterList (CounterName,CounterFriendlyName,CounterType,AvailableInCustomReport) Values('AvailableByteVm','Available Byte VM',3,1)
--SQLdm 8.5 (Ankit Srivastava): for Virtualization Counters -New Master data ends here
--

declare
@CounterName nvarchar(255)
,@CounterFriendlyName nvarchar(255)
,@CounterType nvarchar(255)
,@AvailableInCustomReport bit

-- 89 - Version Store Generation Rate
select
@CounterName = 'VersionStoreGenerationKilobytes'
,@CounterFriendlyName = 'Version Store Generation Rate (KB)'
,@CounterType = 0
,@AvailableInCustomReport = 1

INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES(@CounterName,@CounterFriendlyName,@CounterType,@AvailableInCustomReport)

select
@CounterName = 'VersionStoreCleanupKilobytes'
,@CounterFriendlyName = 'Version Store Cleanup Rate (KB)'
,@CounterType = 0
,@AvailableInCustomReport = 1

INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES(@CounterName,@CounterFriendlyName,@CounterType,@AvailableInCustomReport)


-- 93 - Tempdb Contention

select
@CounterName = 'TempdbPFSWaitTimeMilliseconds'
,@CounterFriendlyName = 'Tempdb PFS Wait Time (ms)'
,@CounterType = 0
,@AvailableInCustomReport = 1

INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES(@CounterName,@CounterFriendlyName,@CounterType,@AvailableInCustomReport)


select
@CounterName = 'TempdbGAMWaitTimeMilliseconds'
,@CounterFriendlyName = 'Tempdb GAM Wait Time (ms)'
,@CounterType = 0
,@AvailableInCustomReport = 1

INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES(@CounterName,@CounterFriendlyName,@CounterType,@AvailableInCustomReport)


select
@CounterName = 'TempdbSGAMWaitTimeMilliseconds'
,@CounterFriendlyName = 'Tempdb SGAM Wait Time (ms)'
,@CounterType = 0
,@AvailableInCustomReport = 1

INSERT INTO [CounterMasterList] ([CounterName],[CounterFriendlyName],[CounterType],[AvailableInCustomReport])VALUES(@CounterName,@CounterFriendlyName,@CounterType,@AvailableInCustomReport)

/*
DM 10.3 Reporting Patch
Adding counters
counter type = 0: Sql server conters
counter type = 1: operating system counters
counter type = 2: Custom counters
counter type = 3: Virtualization counters
*/

INSERT [dbo].[CounterMasterList] ([CounterName], [CounterFriendlyName], [CounterType], [AvailableInCustomReport]) VALUES (N'AvailableByteVm', N'Available Byte VM', 1, 1)
GO
INSERT [dbo].[CounterMasterList] ([CounterName], [CounterFriendlyName], [CounterType], [AvailableInCustomReport]) VALUES (N'UsedByteVm', N'Used Byte VM', 1, 1)
GO
INSERT [dbo].[CounterMasterList] ([CounterName], [CounterFriendlyName], [CounterType], [AvailableInCustomReport]) VALUES (N'TotalByteVm', N'Total Byte VM', 1, 1) 
GO

--SQLDM 10.5 Changes.   The CloudProviders Table completely changed in this version.  The first check is to remove a constraint, then truncate table.

IF (EXISTS(SELECT * FROM sys.foreign_keys WHERE parent_object_id=OBJECT_ID('MonitoredSQLServers') AND name='fk_cloudProviderId' COLLATE database_default))
BEGIN
ALTER TABLE [dbo].[MonitoredSQLServers]
	DROP CONSTRAINT [fk_cloudProviderId] 
END

TRUNCATE TABLE [CloudProviders]

IF (OBJECT_ID('CloudProviders') IS NOT NULL)
BEGIN 
	DECLARE @CloudProviderId INT;
			
	SELECT @CloudProviderId = 1;
			
	IF((SELECT COUNT(0) FROM CloudProviders WHERE CloudProviderId = @CloudProviderId) = 0)
	BEGIN
		INSERT INTO CloudProviders(CloudProviderId,CloudProviderName) VALUES (@CloudProviderId,'Amazon RDS SQL Server (RDS SQL)');
	END

	SELECT @CloudProviderId = 2;
			
	-- SQLdm 10.3 (Varun Chopra) - Populating the master table for cloud providers with Linux option
	IF((SELECT COUNT(0) FROM CloudProviders WHERE CloudProviderId = @CloudProviderId) = 0)
	BEGIN
		INSERT INTO CloudProviders(CloudProviderId,CloudProviderName) VALUES (@CloudProviderId,'Microsoft Azure SQL Database (AzureDB)');
	END

	SELECT @CloudProviderId = 3;
			
	-- SQLdm 10.3 (Varun Chopra) - Populating the master table for cloud providers with Linux option
	IF((SELECT COUNT(0) FROM CloudProviders WHERE CloudProviderId = @CloudProviderId) = 0)
	BEGIN
		INSERT INTO CloudProviders(CloudProviderId,CloudProviderName) VALUES (@CloudProviderId,'Linux');
	END

	SELECT @CloudProviderId = 5;

	-- SQLdm 11 (Varun Chopra) - Populating the master table for cloud providers with Microsoft Azure SQL Managed Instance option
	IF((SELECT COUNT(0) FROM CloudProviders WHERE CloudProviderId = @CloudProviderId) = 0)
	BEGIN
		INSERT INTO CloudProviders(CloudProviderId,CloudProviderName) VALUES (@CloudProviderId,'Microsoft Azure SQL Managed Instance');
	END

	SELECT @CloudProviderId = 4;

	IF((SELECT COUNT(0) FROM CloudProviders WHERE CloudProviderId = @CloudProviderId) = 0)
	BEGIN
		INSERT INTO CloudProviders(CloudProviderId,CloudProviderName) VALUES (@CloudProviderId,'Windows');
	END
	
	--Updating CloudProvider Id's for Windows Provider with Newly Created Id's
	UPDATE MonitoredSQLServers
	SET CloudProviderId = @CloudProviderId
	WHERE CloudProviderId IS NULL
END

IF ((SELECT COUNT(CloudProviderId) FROM CloudProviders) > 0)
BEGIN
ALTER TABLE [dbo].[MonitoredSQLServers] WITH CHECK 
ADD CONSTRAINT [fk_cloudProviderId]
	FOREIGN KEY([CloudProviderId])
	REFERENCES [dbo].[CloudProviders]([CloudProviderId]) 
	
ALTER TABLE [dbo].[MonitoredSQLServers]
	CHECK CONSTRAINT [fk_cloudProviderId] 
END


---------------------------------------------------------------------------------------------------------------------------------------
-- Upgrade
---------------------------------------------------------------------------------------------------------------------------------------
if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo5.6') = 0
begin

	declare @warningThreshold nvarchar(4000),
			@criticalThreshold nvarchar(4000),
			@SQLServerID int, 
			@MetricID int,
			@WarningThresholdXML nvarchar(256),
			@CriticalThresholdXML nvarchar(256),
			@ComparisonText nvarchar(16),
			@DefaultWarningValue bigint,
			@DefaultCriticalValue bigint,
			@AlertEnabledDefault bit,
			@InfoThresholdXML nvarchar(256),
			@DefaultInfoValue bigint,
			@BaselineWarningThresholdXML nvarchar(256),
			@BaselineCriticalThresholdXML nvarchar(256),
			@BaselineInfoThresholdXML nvarchar(256)

	declare @LoopMetrics table(MetricID int, GroupCode int)
	
	--Update the Default Metric Thresholds

	insert into @LoopMetrics select 65,1
	insert into @LoopMetrics select 64,1
	insert into @LoopMetrics select 62,1
	insert into @LoopMetrics select 63,1
	insert into @LoopMetrics select 10,2
	insert into @LoopMetrics select 12,2
	insert into @LoopMetrics select 18,2
	insert into @LoopMetrics select 19,2

	
	if (select count(*) from [DefaultMetricThresholds]) > 0 
	begin
			
		select @MetricID = min(MetricID) from @LoopMetrics where GroupCode = 1

		while isnull(@MetricID,0) > 0
		begin

			-- insert default alert configuration row
			set @WarningThresholdXML = 
				'<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="' 
			set @CriticalThresholdXML = @WarningThresholdXML
			set @InfoThresholdXML = @WarningThresholdXML

			set @ComparisonText = 'GE'
			
			set @WarningThresholdXML = @WarningThresholdXML + @ComparisonText + '" Enabled="true"><Value xsi:type="xsd:float">'
			set @CriticalThresholdXML = @CriticalThresholdXML + @ComparisonText + '" Enabled="true"><Value xsi:type="xsd:float">'
			set @InfoThresholdXML = @InfoThresholdXML + @ComparisonText + '" Enabled="false"><Value xsi:type="xsd:float">'

			-- append value
			select 
				@DefaultWarningValue = [DefaultWarningValue],
				@DefaultCriticalValue = [DefaultCriticalValue],
				@AlertEnabledDefault = [AlertEnabledDefault],
				@DefaultInfoValue = 0
			from [MetricMetaData]
				where Metric = @MetricID

			set @WarningThresholdXML = @WarningThresholdXML + CAST(@DefaultWarningValue AS nvarchar(32)) + '</Value></Threshold>'
			set @CriticalThresholdXML = @CriticalThresholdXML + CAST(@DefaultCriticalValue AS nvarchar(32)) + '</Value></Threshold>'
			set @InfoThresholdXML = @InfoThresholdXML + CAST(@DefaultInfoValue AS nvarchar(32)) + '</Value></Threshold>'

			exec p_AddDefaultMetricThreshold 
				0, 
				@MetricID, 
				@AlertEnabledDefault, 
				@WarningThresholdXML, 
				@CriticalThresholdXML, 
				null,
				@InfoThresholdXML

			select @MetricID = min(MetricID) from @LoopMetrics where MetricID > @MetricID and GroupCode = 1
		end


		select @MetricID = min(MetricID) from @LoopMetrics where GroupCode = 2
			
		while isnull(@MetricID,0) > 0
		begin
			select @warningThreshold = [WarningThreshold],
				   @criticalThreshold = [CriticalThreshold] from [dbo].[DefaultMetricThresholds] where Metric = @MetricID

			exec p_RemoveFromMetricThreshold @warningThreshold, 'UnableToMonitor', 'ServiceState', @warningThreshold OUTPUT
			exec p_RemoveFromMetricThreshold @criticalThreshold, 'UnableToMonitor', 'ServiceState', @criticalThreshold OUTPUT
			exec p_RemoveFromMetricThreshold @warningThreshold, 'Undetermined', 'ServiceState', @warningThreshold OUTPUT
			exec p_RemoveFromMetricThreshold @criticalThreshold, 'Undetermined', 'ServiceState', @criticalThreshold OUTPUT
			exec p_AppendToMetricThreshold @criticalThreshold, 'UnableToConnect', 'ServiceState', @criticalThreshold OUTPUT
			exec p_AppendToMetricThreshold @criticalThreshold, 'UnableToMonitor', 'ServiceState', @criticalThreshold OUTPUT

			update [dbo].[DefaultMetricThresholds]
				set WarningThreshold = @warningThreshold, CriticalThreshold = @criticalThreshold where Metric = @MetricID

			select @MetricID = min(MetricID) from @LoopMetrics where MetricID > @MetricID and GroupCode = 2
		end

		select @warningThreshold = [WarningThreshold],
			   @criticalThreshold = [CriticalThreshold] from [dbo].[DefaultMetricThresholds] where Metric = 14

		exec p_RemoveFromMetricThreshold @warningThreshold, 'Undetermined', 'DBStatus', @warningThreshold OUTPUT
		exec p_RemoveFromMetricThreshold @criticalThreshold, 'Undetermined', 'DBStatus', @criticalThreshold OUTPUT
		exec p_AppendToMetricThreshold @warningThreshold, 'PreRecovery', 'DBStatus', @warningThreshold OUTPUT
		exec p_AppendToMetricThreshold @criticalThreshold, 'EmergencyMode', 'DBStatus', @criticalThreshold OUTPUT

		update [dbo].[DefaultMetricThresholds]
			set WarningThreshold = @warningThreshold, CriticalThreshold = @criticalThreshold where Metric = 14
	end

	select @SQLServerID = min(SQLServerID) from MonitoredSQLServers

	while isnull(@SQLServerID,0) > 0
	begin

		--Update the Service Thresholds
		select @MetricID = min(MetricID) from @LoopMetrics
		
		while isnull(@MetricID,0) > 0
		begin
	
			if ((select GroupCode from @LoopMetrics where MetricID = @MetricID) = 1) 
			begin
				select @warningThreshold = [WarningThreshold],
					   @criticalThreshold = [CriticalThreshold] 
				from [dbo].[DefaultMetricThresholds] 
				where Metric = @MetricID 
			end
			else
			begin
				select @warningThreshold = [WarningThreshold],
					   @criticalThreshold = [CriticalThreshold] from [dbo].[MetricThresholds] where Metric = @MetricID and SQLServerID = @SQLServerID

				exec p_RemoveFromMetricThreshold @warningThreshold, 'UnableToMonitor', 'ServiceState', @warningThreshold OUTPUT
				exec p_RemoveFromMetricThreshold @criticalThreshold, 'UnableToMonitor', 'ServiceState', @criticalThreshold OUTPUT
				exec p_RemoveFromMetricThreshold @warningThreshold, 'Undetermined', 'ServiceState', @warningThreshold OUTPUT
				exec p_RemoveFromMetricThreshold @criticalThreshold, 'Undetermined', 'ServiceState', @criticalThreshold OUTPUT
				exec p_AppendToMetricThreshold @criticalThreshold, 'UnableToConnect', 'ServiceState', @criticalThreshold OUTPUT
				exec p_AppendToMetricThreshold @criticalThreshold, 'UnableToMonitor', 'ServiceState', @criticalThreshold OUTPUT
			end

			if (select count(*) from [dbo].[MetricThresholds] where Metric = @MetricID and SQLServerID = @SQLServerID) > 0
			begin
				update [dbo].[MetricThresholds]
						set WarningThreshold = @warningThreshold, 
						CriticalThreshold = @criticalThreshold 
				where Metric = @MetricID and SQLServerID = @SQLServerID				
			end
			else
			begin
				insert into  [dbo].[MetricThresholds] (SQLServerID, Metric, Enabled, WarningThreshold,CriticalThreshold)
					select @SQLServerID, @MetricID, 1, @warningThreshold, @criticalThreshold
			end

			select @MetricID = min(MetricID) from @LoopMetrics where MetricID > @MetricID
		end

		--Update the Database Thresholds
		select @warningThreshold = [WarningThreshold],
			   @criticalThreshold = [CriticalThreshold] from [dbo].[MetricThresholds] where Metric = 14 and SQLServerID = @SQLServerID

		exec p_RemoveFromMetricThreshold @warningThreshold, 'Undetermined', 'DBStatus', @warningThreshold OUTPUT
		exec p_RemoveFromMetricThreshold @criticalThreshold, 'Undetermined', 'DBStatus', @criticalThreshold OUTPUT
		exec p_AppendToMetricThreshold @warningThreshold, 'PreRecovery', 'DBStatus', @warningThreshold OUTPUT
		exec p_AppendToMetricThreshold @criticalThreshold, 'EmergencyMode', 'DBStatus', @criticalThreshold OUTPUT

		update [dbo].[MetricThresholds]
			set WarningThreshold = @warningThreshold, CriticalThreshold = @criticalThreshold where Metric = 14 and SQLServerID = @SQLServerID

		select @SQLServerID = min(SQLServerID) from MonitoredSQLServers where SQLServerID > @SQLServerID
	end
		
	-- if server is in maintenance mode during the upgrade, set the type to MaintnanceModeAlways
	update [dbo].[MonitoredSQLServers] set MaintenanceModeType = 1 where MaintenanceModeEnabled = 1

	-- Ensure the last scheduled collection time stored in the server table matches the time of the last alerts stored				
	if (select isnull(object_id('tempdb..#upgrade_last_collection_time'), 0)) <> 0 
	begin 
		truncate table #upgrade_last_collection_time
	end 
	else	
	begin
		CREATE TABLE #upgrade_last_collection_time (
			[SQLServerID] [int] NOT NULL,
			[LastScheduledCollectionTime] datetime
		)
		CREATE INDEX #IX_upgrade_last_collection_time 
			ON #upgrade_last_collection_time(SQLServerID, LastScheduledCollectionTime DESC)
	end

	insert into #upgrade_last_collection_time
		select SQLServerID, max(A.UTCOccurrenceDateTime)		
			from MonitoredSQLServers MS
			left outer join Alerts A on A.Active=1 and ServerName = [InstanceName]
			group by MS.SQLServerID
	
	insert into #upgrade_last_collection_time
		select MS.SQLServerID, max(UTCCollectionDateTime)
			from MonitoredSQLServers MS
			left outer join ServerStatistics S on MS.SQLServerID = S.SQLServerID
			group by MS.SQLServerID

	update MonitoredSQLServers 
		set LastScheduledCollectionTime = 
			COALESCE(
				(select max(LastScheduledCollectionTime) from #upgrade_last_collection_time S where MS.SQLServerID = S.SQLServerID),
				MS.LastScheduledCollectionTime)
		from MonitoredSQLServers MS

	drop table #upgrade_last_collection_time

	-- add the upgrade info to the RepositoryInfo so the upgrade will not happen again
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo5.6', 1, '')
end

-- get rid of objects that are no longer used
if (OBJECT_ID('OutstandingEvents') IS NOT NULL)
begin
	drop table [OutstandingEvents]
end
if (object_id('p_InsertOutstandingEvent') is not null)
begin
	drop procedure [p_InsertOutstandingEvent]
end
if (object_id('p_GetOutstandingEvents') is not null)
begin
	drop procedure [p_GetOutstandingEvents]
end
if (object_id('p_DeleteOutstandingEvents') is not null)
begin
	drop procedure [p_DeleteOutstandingEvents]
end

if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo6.1') = 0
begin
	-- INSERT 6.1 UPGRADE STUFF HERE
	delete from NotificationProviders where ProviderId in
		( '75B6B4A9-CB0F-4B81-A72C-219C78C520BB', '24263D39-D8D7-475B-ABF6-97841A5E4772' )	

	-- if the field is still part of query monitor
	-- enable deadlock collection if query monitor is enabled
	IF (not exists(select id from syscolumns where id = OBJECT_ID('MonitoredSQLServers') and name = 'QueryMonitorDeadlockEventsEnabled' collate database_default))
		exec('UPDATE [MonitoredSQLServers] SET [ActivityMonitorDeadlockEventsEnabled]=1')
	else
		exec('UPDATE [MonitoredSQLServers] SET [QueryMonitorDeadlockEventsEnabled]=1')
	
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo6.1', 1, '')
end

if not exists (select [Internal_Value] from RepositoryInfo where [Name] = 'GroomingMaxNumberMinutes')
begin
	insert into [RepositoryInfo] ([Name],[Internal_Value]) values ('GroomingMaxNumberMinutes',180);
end

-- INSERT 6.6 UPGRADE STUFF HERE
if (select count([SQLServerID]) from [dbo].[MetricThresholds]) > 0
begin
	if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo6.6') = 0
	begin
		
		declare @SQLServerID66 int, 
				@MetricID66 int,
				@WarningThresholdXML66 nvarchar(512),
				@CriticalThresholdXML66 nvarchar(512),
				@InfoThresholdXML66 nvarchar(512),
				@ComparisonText66 nvarchar(16),
				@DefaultWarningValue66 nvarchar(256),
				@DefaultCriticalValue66 nvarchar(256),
				@AlertEnabledDefault66 bit

			-- Add metric threshold for the Job Completion metric (disable during upgrade)
			set @MetricID66 = 88

			-- insert default alert configuration row
			set @WarningThresholdXML66 = 
				'<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="' 
			set @CriticalThresholdXML66 = @WarningThresholdXML66
			set @InfoThresholdXML66 = @WarningThresholdXML66

			set @ComparisonText66 = 'EQ'
			
			set @WarningThresholdXML66 = @WarningThresholdXML66 + @ComparisonText66 + '" Enabled="true"><Value xsi:type="ArrayOfAnyType">'
			set @CriticalThresholdXML66 = @CriticalThresholdXML66 + @ComparisonText66 + '" Enabled="true"><Value xsi:type="ArrayOfAnyType">'
			set @InfoThresholdXML66 = @InfoThresholdXML66 + @ComparisonText66 + '" Enabled="false"><Value xsi:type="ArrayOfAnyType">'

			-- append value
			set @DefaultWarningValue66 = '<anyType xsi:type="JobStepCompletionStatus">Cancelled</anyType><anyType xsi:type="JobStepCompletionStatus">Retry</anyType>'
			set	@DefaultCriticalValue66 = '<anyType xsi:type="JobStepCompletionStatus">Failed</anyType><anyType xsi:type="JobStepCompletionStatus">Unknown</anyType>'
			-- Intensionally left the Info value out here because Informational settings are left disabled and blank by default

			set @WarningThresholdXML66 = @WarningThresholdXML66 + @DefaultWarningValue66 + '</Value></Threshold>'
			set @CriticalThresholdXML66 = @CriticalThresholdXML66 + @DefaultCriticalValue66 + '</Value></Threshold>'
			set @InfoThresholdXML66 = @InfoThresholdXML66 + '</Value></Threshold>'
			exec p_AddDefaultMetricThreshold 
				0, 
				@MetricID66, 
				0, 
				@WarningThresholdXML66, 
				@CriticalThresholdXML66, 
				null,
				@InfoThresholdXML66

		insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo6.6', 1, '')
		
	end
end

-- INSERT 7.0 UPGRADE STUFF HERE
if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo7.0') = 0
begin

	-- Set the Default Info Value for Custom Counters to half of the default warning value
    update [MetricMetaData] set [DefaultInfoValue] = ([DefaultWarningValue]/2) where [Metric] >= 1000 and [DefaultInfoValue] is null

	-- DefaultMetricThresholds
	select [Metric], cast([WarningThreshold] as XML) as [WarningThreshold], cast(null as nvarchar(1024)) as [InfoThreshold] into #MetricTable from [dbo].[DefaultMetricThresholds]

	set ansi_warnings on
	update #MetricTable set InfoThreshold = 
		'<Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="' +
		Convert(varchar(20), WarningThreshold.query('data(//@Op)')) +
		'" Enabled="false"><Value xsi:type="' +
		Convert(varchar(20), WarningThreshold.query('data(/Threshold/Value/@xsi:type)')) + '"' + 
		case Convert(varchar(20), WarningThreshold.query('data(/Threshold/Value/@xsi:type)')) 
					when 'ArrayOfAnyType' then ' /></Threshold>'
					when 'OptionStatus' then 
											case b.Metric
												when 49 then '>Enabled</Value></Threshold>'
												else '>Disabled</Value></Threshold>'
											end
					else '>'+ Convert(varchar(20), b.[DefaultInfoValue]) + '</Value></Threshold>'
				end
	from #MetricTable a inner join [dbo].[MetricMetaData] b on a.Metric = b.[Metric]
	
	update [dbo].[DefaultMetricThresholds] set [DefaultMetricThresholds].[InfoThreshold] = b.[InfoThreshold] from #MetricTable b where [DefaultMetricThresholds].[Metric] = b.[Metric] and [DefaultMetricThresholds].InfoThreshold is null

	drop table #MetricTable

	-- Metric Thresholds
	select SQLServerID, Metric, CAST(WarningThreshold as XML) as WarningThreshold, CAST(null as varchar(1024)) as InfoThreshold, cast(CriticalThreshold as XML) as CriticalThreshold into #NewThresholds from MetricThresholds

	update #NewThresholds set InfoThreshold = 
            '<Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="' +
            Convert(varchar(2), WarningThreshold.query('data(//@Op)')) +
            '" Enabled="false"><Value xsi:type="' +
            Convert(varchar(15), WarningThreshold.query('data(/Threshold/Value/@xsi:type)')) + '"' + 
            case Convert(varchar(15), WarningThreshold.query('data(/Threshold/Value/@xsi:type)')) 
                              when 'ArrayOfAnyType' then ' /></Threshold>'
                              when 'OptionStatus' then 
													case b.Metric
														when 49 then '>Enabled</Value></Threshold>'
														else '>Disabled</Value></Threshold>'
													end
                              else '>'+ case CONVERT(char(2), WarningThreshold.query('data(//@Op)'))
                                                when 'GE' then case when CAST(convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) as bigint) = b.DefaultWarningValue
                                                                              then CONVERT(varchar(20), b.DefaultInfoValue)
                                                                              else Convert(varchar(20),(CAST(convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) as bigint)- b.MinValue) / 2)
                                                                        end
                                                when 'LE' then case when CAST(convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) as bigint) = b.DefaultWarningValue
                                                                              then CONVERT(varchar(20), b.DefaultInfoValue)
                                                                              else Convert(varchar(20), (abs((CAST(convert(varchar(20), CriticalThreshold.query('data(/Threshold/Value)')) as bigint) - CAST(convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) as bigint)) / 2 ) + CAST(convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) as bigint)))
                                                                        end
                                                else Convert(varchar(20), WarningThreshold.query('data(/Threshold/Value)')) 
                                            end
                                                + '</Value></Threshold>'
                        end
            from #NewThresholds a left join MetricMetaData b on a.Metric = b.Metric
	
	
	update [dbo].[MetricThresholds] set [MetricThresholds].[InfoThreshold] = b.[InfoThreshold] from #NewThresholds b where [MetricThresholds].[SQLServerID] = b.SQLServerID and [MetricThresholds].[Metric] = b.[Metric] and [MetricThresholds].InfoThreshold is null

	drop table #NewThresholds

	-- Notification Rules
	declare @RuleTable table
	(
		RuleID uniqueidentifier,
		RuleObj xml
	)

	insert into @RuleTable (RuleID, RuleObj) select RuleID, Convert(xml, SerializedObject) from [dbo].[NotificationRules]

	update @RuleTable set RuleObj.modify('
			insert (
				attribute IsInformational {"false"}
				) as last into (/NotificationRule/StateValue)[1]')
			where RuleObj.exist('/NotificationRule/StateValue/@IsInformational[1]') = 0

	update [dbo].[NotificationRules] set [SerializedObject] = Convert(nvarchar(max), [RuleObj]) from @RuleTable b where [NotificationRules].[RuleID] = b.[RuleID] 

	-- Predictive Forcasts (breaking these updates into two separate statements seems to be much faster
	update [dbo].[PredictiveForecasts] set [Severity] = 8 where [Severity] = 4
	update [dbo].[PredictiveForecasts] set [Severity] = 4 where [Severity] = 2

	-- Predictive Models
	update [dbo].[PredictiveModels] set [Severity] = 8 where [Severity] = 4
	update [dbo].[PredictiveModels] set [Severity] = 4 where [Severity] = 2

	--------------------------------------------------------------------------------
	-- Set up Files below get migrated in another process
	--------------------------------------------------------------------------------	
	declare @LeftToDo int
	declare @Today datetime
	
	set @Today = GETDATE()
	
	-- Alerts Table
	Select @LeftToDo = COUNT(AlertID) from Alerts where Severity in (2,4)
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value], [Character_Value]) values ('AlertsLeftToDo', @LeftToDo,'')
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('AlertsLastDateUpgraded', 1, Convert(nvarchar(30), @Today, 121))
	-- Server Activity
	Select @LeftToDo = Count(*) from ServerActivity
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value], [Character_Value]) values ('SALeftToDo', @LeftToDo,'')
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('SALastDateUpgraded', 1, Convert(nvarchar(30), @Today, 121))
	-- Tasks
	Select @LeftToDo = Count(TaskID) from Tasks where Severity in (2,4)
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value], [Character_Value]) values ('TasksLeftToDo', @LeftToDo,'')
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('TasksLastDateUpgraded', 1, Convert(nvarchar(30), @Today, 121))


    -- Update SMTP and SNMP Notification Providers to stick the ID in the Serialized Object
	declare @Providers table (
		id uniqueidentifier,
		obj xml)
	
	insert into @Providers 
		Select 
			ProviderId, 
			cast(SerializedObject as xml)
		from 
			[dbo].[NotificationProviders]
		where 
			SerializedType in ('SmtpNotificationProviderInfo','SnmpNotificationProviderInfo')

	update @Providers
		set obj.modify('replace value of (//@Id)[1] with sql:column("id")')
		
	update [dbo].[NotificationProviders]
		set SerializedObject = cast(obj as nvarchar(max)) from @Providers where ProviderId = id
		
	declare @sampleRunQuery nvarchar(1000)

	set @sampleRunQuery =
	'select 
		[Database Name] = d.name,
		[Most Recent Backup Date] = isnull(convert(nvarchar(20),max(s.backup_finish_date),20),''Never''),
		[Days Since Most Recent Backup] = isnull(cast(datediff(dd,max(s.backup_finish_date),getdate()) as nvarchar(20)),''Never'')
	from 
		master..sysdatabases d
		left join msdb..backupset s
		on d.name = s.database_name
	group by
		d.name
	order by
		d.name'
		
	exec [p_InsertRunQueryScript] @Name = 'Backup History',@ScriptText = @sampleRunQuery
		
	-- Finished 7.0 Upgrade
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo7.0', 1, Convert(nvarchar(30), @Today, 121))
end

-- Remove all alerting in xp_cmdshell 
DELETE FROM DefaultMetricThresholds where Metric = 55
DELETE FROM MetricInfo where Metric = 55
DELETE FROM MetricMetaData where Metric = 55
DELETE FROM MetricMetaDataMessageMap where Metric = 55
DELETE FROM MetricMetaDataMessages where Metric = 55
DELETE FROM MetricThresholds where Metric = 55
	
if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo7.5') = 0
begin
	update [DefaultMetricThresholds] set [ThresholdEnabled] = [Enabled]
	update [MetricThresholds] set [ThresholdEnabled] = [Enabled]
		
	-- Finished 7.5 Upgrade
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo7.5', 1, Convert(nvarchar(30), @Today, 121))
end

--START SQLdm 10.0 (Vandana Gogna) - Database backup alerts
-- INSERT 10.0 UPGRADE STUFF HERE

if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo10.0') = 0
begin
	if (select count([SQLServerID]) from [dbo].[MetricThresholds]) > 0
	begin		
		declare @SQLServerID10 int, 
				@MetricID10 int,
				@WarningThresholdXML10 nvarchar(512),
				@CriticalThresholdXML10 nvarchar(512),
				@InfoThresholdXML10 nvarchar(512),
				@ComparisonText10 nvarchar(16),
				@DefaultWarningValue10 nvarchar(256),
				@DefaultCriticalValue10 nvarchar(256),
				@DefaultInfoValue10 nvarchar(256),
				@AlertEnabledDefault10 bit

		-- Add metric threshold for the Job Completion metric (disable during upgrade)
		set @MetricID10 = 130

		select @SQLServerID10 = min(SQLServerID) from MonitoredSQLServers
		
		while isnull(@SQLServerID10,0) > 0
		begin
				-- insert default alert configuration row
				set @WarningThresholdXML10 = 
					'<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="' 
				set @CriticalThresholdXML10 = @WarningThresholdXML10
				set @InfoThresholdXML10 = @WarningThresholdXML10

				set @ComparisonText10 = 'GE'
			
				set @WarningThresholdXML10 = @WarningThresholdXML10 + @ComparisonText10 + '" Enabled="true"><Value xsi:type="xsd:int">'
				set @CriticalThresholdXML10 = @CriticalThresholdXML10 + @ComparisonText10 + '" Enabled="true"><Value xsi:type="xsd:int">'
				set @InfoThresholdXML10 = @InfoThresholdXML10 + @ComparisonText10 + '" Enabled="true"><Value xsi:type="xsd:int">'

				-- append value			
				select @DefaultWarningValue10 = [DefaultWarningValue],
					   @DefaultCriticalValue10 = [DefaultCriticalValue],
					   @DefaultInfoValue10 = [DefaultInfoValue],
					   @AlertEnabledDefault10 = [AlertEnabledDefault]
				from [dbo].[MetricMetaData] 
				where Metric = @MetricID10

				set @WarningThresholdXML10 = @WarningThresholdXML10 + @DefaultWarningValue10 + '</Value></Threshold>'
				set @CriticalThresholdXML10 = @CriticalThresholdXML10 + @DefaultCriticalValue10 + '</Value></Threshold>'
				set @InfoThresholdXML10 =  @InfoThresholdXML10 + @DefaultInfoValue10 + '</Value></Threshold>'
				exec p_AddDefaultMetricThreshold 
					0, 
					@MetricID10, 
					@AlertEnabledDefault10, 
					@WarningThresholdXML10, 
					@CriticalThresholdXML10, 
					null,
					@InfoThresholdXML10
							
			select @SQLServerID10 = min(SQLServerID) from MonitoredSQLServers where SQLServerID > @SQLServerID10
		end
	
		--END SQLdm 10.0 (Vandana Gogna) - Database backup alerts
				
	end
	
	-- START --Srishti Purohit -- To accomadate baseline alert feature -- Adding thresholds values for baseline for all metrics
				DECLARE 	-- START --Srishti Purohit -- To accomadate baseline alert feature
				@BaselineWarningThresholdXML10 nvarchar(512),
				@BaselineCriticalThresholdXML10 nvarchar(512),
				@BaselineInfoThresholdXML10 nvarchar(512),
				@BaselineDefaultWarningValue10 nvarchar(256),
				@BaselineDefaultCriticalValue10 nvarchar(256),
				@BaselineDefaultInfoValue10 nvarchar(256),
				@xmSignature nvarchar(256),
				@xmlValueForBaselineToCastWarning xml,
				@xmlValueForBaselineToCastCritical xml,
				@xmlValueForBaselineToCastInfo xml
				-- END --Srishti Purohit -- To accomadate baseline alert feature
				DECLARE @MetricIDFor10Up INT	
				select @MetricIDFor10Up = min(Metric) from DefaultMetricThresholds
				set ansi_warnings on
	
		while isnull(@MetricIDFor10Up,-1) > -1
		begin
			-- append value			
				select @BaselineDefaultWarningValue10 = [BaselineDefaultWarningValue],
						@BaselineDefaultCriticalValue10 = [BaselineDefaultCriticalValue],
						@BaselineDefaultInfoValue10 = [BaselineDefaultInfoValue]
				from [dbo].[MetricMetaData] 
				where Metric = @MetricIDFor10Up

				--To get operation type from xml of thresholds
				select @xmlValueForBaselineToCastWarning = CAST(WarningThreshold as XML) ,
				 @xmlValueForBaselineToCastCritical = CAST(CriticalThreshold as XML) ,
				@xmlValueForBaselineToCastInfo = CAST(InfoThreshold as XML) FROM DefaultMetricThresholds where Metric = @MetricIDFor10Up
				
			--ANSI_WARNINGS is not honored when passing parameters in a stored procedure , so setting it on	
				SET @WarningThresholdXML10 = CONVERT( nvarchar(512), @xmlValueForBaselineToCastWarning.query('data(//@Op)'))
				SET @CriticalThresholdXML10 = CONVERT(nvarchar(512), @xmlValueForBaselineToCastCritical.query('data(//@Op)'))
				SET @InfoThresholdXML10 = CONVERT(nvarchar(512), @xmlValueForBaselineToCastInfo.query('data(//@Op)'))
	
				-- START --Srishti Purohit -- To accomadate baseline alert feature
				
				SET @xmSignature ='<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="'

				SET @xmSignature = @xmSignature 
			
				set	@BaselineWarningThresholdXML10 = @xmSignature + @WarningThresholdXML10 + '" Enabled="true"><Value xsi:type="xsd:float">' + @BaselineDefaultWarningValue10 + '</Value></Threshold>'
				set	@BaselineCriticalThresholdXML10 = @xmSignature + @CriticalThresholdXML10 + '" Enabled="true"><Value xsi:type="xsd:float">' +  @BaselineDefaultCriticalValue10 + '</Value></Threshold>'
				set	@BaselineInfoThresholdXML10 = @xmSignature + @InfoThresholdXML10 + '" Enabled="true"><Value xsi:type="xsd:float">' +  @BaselineDefaultInfoValue10 + '</Value></Threshold>'
				-- END --Srishti Purohit -- To accomadate baseline alert feature
				
			update [dbo].[DefaultMetricThresholds]
				set [IsBaselineEnabled] = 0, [BaselineWarningThreshold] = @BaselineWarningThresholdXML10, [BaselineCriticalThreshold] = @BaselineCriticalThresholdXML10, [BaselineInfoThreshold] = @BaselineInfoThresholdXML10 where Metric = @MetricIDFor10Up

			update [dbo].[MetricThresholds]
				set [IsBaselineEnabled] = 0, [BaselineWarningThreshold] = @BaselineWarningThresholdXML10, [BaselineCriticalThreshold] = @BaselineCriticalThresholdXML10, [BaselineInfoThreshold] = @BaselineInfoThresholdXML10 where Metric = @MetricIDFor10Up

			
			select @MetricIDFor10Up = min(Metric) from DefaultMetricThresholds where Metric > @MetricIDFor10Up
		end
		
		-- END --Srishti Purohit -- To accomadate baseline alert feature -- Adding thresholds values for baseline for all metrics
		-- START SQLdm 10.0 (Gaurav Karwal) - Populating the master table for cloud providers
		
		-- END SQLdm 10.0 (Gaurav Karwal) - Populating the master table for cloud providers
	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo10.0', 1, '')
end

--START SQLdm SQLdm 10.1 (srisht purohit) - Upgrade to 10.1
-- INSERT 10.1 UPGRADE STUFF HERE

if (select count([Internal_Value]) from [dbo].[RepositoryInfo] where [Name] = 'UpgradedTo10.1') = 0
begin

	

	--START SQLDM 10.1 Barkha Khatri -Adding "TruncatedFunctionalityAvailable" to warning threshold for metric 12	
	if (select count(UserViewID) from [DefaultMetricThresholds]) > 0 
	begin
		select @warningThreshold = [WarningThreshold]
			   from [dbo].[DefaultMetricThresholds] where Metric = 12
		exec p_AppendToMetricThreshold @warningThreshold, 'TruncatedFunctionalityAvailable', 'ServiceState', @warningThreshold OUTPUT
		update [dbo].[DefaultMetricThresholds]
			set WarningThreshold = @warningThreshold where Metric = 12
	end
	select @SQLServerID = min(SQLServerID) from MonitoredSQLServers

	while isnull(@SQLServerID,0) > 0
	begin
	
		select @warningThreshold = [WarningThreshold]
			   from [dbo].[MetricThresholds] where Metric = 12 and SQLServerID = @SQLServerID

		exec p_AppendToMetricThreshold @warningThreshold, 'TruncatedFunctionalityAvailable', 'ServiceState', @warningThreshold OUTPUT
		update [dbo].[MetricThresholds]
			set WarningThreshold = @warningThreshold where Metric = 12 and SQLServerID = @SQLServerID
		
		select @SQLServerID = min(SQLServerID) from MonitoredSQLServers where SQLServerID > @SQLServerID
	end
	--END SQLDM 10.1 Barkha Khatri -Adding "TruncatedFunctionalityAvailable" to warning threshold for metric 12	

	insert into [dbo].[RepositoryInfo] ([Name], [Internal_Value],[Character_Value]) values ('UpgradedTo10.1', 1, '')
end	
--END SQLdm SQLdm 10.1 (srisht purohit) - Upgrade to 10.1

--------------------------------------------------------------------------------------------
--- Wait Stats
--
set identity_insert WaitCategories on

if (select count(1) from WaitCategories) = 0 
begin
	insert into WaitCategories(CategoryID,Category,ExcludeFromCollection)
	select 1, 'Excluded', 1
	union select 2, 'Backup', 0
	union select 3, 'I/O', 0
	union select 4, 'Lock', 0
	union select 5, 'Memory', 0
	union select 6, 'Non-I/O Page Latch', 0
	union select 7, 'Non-Page Latch', 0
	union select 8, 'Other', 0
	union select 9, 'Transaction Log', 0
end


set identity_insert WaitCategories off

declare @ReturnID int, @ReturnMessage nvarchar(128)
exec p_InsertWaitTypes @WaitType= 'ABR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ASSEMBLY_LOAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ASYNC_DISKPOOL_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ASYNC_IO_COMPLETION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ASYNC_NETWORK_IO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'AUDIT_GROUPCACHE_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'AUDIT_LOGINCACHE_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'AUDIT_ON_DEMAND_TARGET_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'AUDIT_XE_SESSION_MGR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUP_CLIENTLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUP_OPERATOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUPBUFFER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUPIO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BACKUPTHREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BAD_PAGE_PROCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_CONNECTION_RECEIVE_TASK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_ENDPOINT_STATE_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_EVENTHANDLER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_INIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_MASTERSTART',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_RECEIVE_WAITFOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_REGISTERALLENDPOINTS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_SERVICE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_TASK_STOP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_TO_FLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_TRANSMITTER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_XMIT_SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_XMIT_START',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BROKER_XMIT_TABLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'BUILTIN_HASHKEY_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CHECK_PRINT_RECORD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CHECKPOINT_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CHKPT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLEAR_DB',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_AUTO_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_CRST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_JOIN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_MANUAL_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_MEMORY_SPY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_MONITOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_RWLOCK_READER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_RWLOCK_WRITER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_SEMAPHORE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLR_TASK_START',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CLRHOST_STATE_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CMEMTHREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'COMMIT_TABLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CURSOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CURSOR_ASYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CXPACKET',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'CXROWSET_SYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DAC_INIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRROR_DBM_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRROR_DBM_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRROR_EVENTS_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRROR_SEND',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRROR_WORKER_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBMIRRORING_CMD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DBTABLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DEADLOCK_ENUM_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DEADLOCK_TASK_SEARCH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DEBUG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DISABLE_VERSIONING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DISKIO_SUSPEND',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DISPATCHER_QUEUE_SEMAPHORE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DLL_LOADING_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DROPTEMP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC_ABORT_REQUEST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC_RESOLVE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC_STATE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC_TMDOWN_REQUEST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DTC_WAITFOR_OUTCOME',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DUMP_LOG_COORDINATOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DUMP_LOG_COORDINATOR_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'DUMPTRIGGER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EE_PMOLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EE_SPECPROC_MAP_INIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ENABLE_VERSIONING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ERROR_REPORTING_MANAGER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EXCHANGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EXECSYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'EXECUTION_PIPE_EVENT_INTERNAL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FAILPOINT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FCB_REPLICA_READ',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FCB_REPLICA_START',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FCB_REPLICA_WRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FILESTREAM_WORKITEM_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FS_FC_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FS_GARBAGE_COLLECTOR_SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FS_HEADER_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FS_LOGTRUNC_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FSA_FORCE_OWN_XACT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FSAGENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FSTR_CONFIG_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FSTR_CONFIG_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_COMPROWSET_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_IFTS_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_IFTS_SCHEDULER_IDLE_WAIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_IFTSHC_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_IFTSISM_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_MASTER_MERGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_METADATA_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_RESTART_CRAWL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FT_RESUME_CRAWL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'FULLTEXT GATHERER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'GUARDIAN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'HTTP_ENDPOINT_COLLCREATE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'HTTP_ENUMERATION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'HTTP_START',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IMP_IMPORT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IMPPROV_IOWAIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'INDEX_USAGE_STATS_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'INTERNAL_TESTING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IO_AUDIT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IO_COMPLETION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IO_RETRY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'IOAFF_RANGE_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'KSOURCE_WAKEUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'KTM_ENLISTMENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'KTM_RECOVERY_MANAGER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'KTM_RECOVERY_RESOLUTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_DT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_EX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_KP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_NL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_SH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LATCH_UP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LAZYWRITER_SLEEP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_BU',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_IS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_IU',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_IX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RIn_NL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RIn_S',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RIn_U',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RIn_X',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RS_S',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RS_U',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RX_S',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RX_U',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_RX_X',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_S',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_SCH_M',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_SCH_S',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_SIU',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_SIX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_U',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_UIX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LCK_M_X',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGBUFFER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGGENERATION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGMGR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGMGR_FLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGMGR_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOGMGR_RESERVE_APPEND',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'LOWFAIL_MEMMGR_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'METADATA_LAZYCACHE_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MIRROR_SEND_MESSAGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MISCELLANEOUS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSQL_DQ',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSQL_SYNC_PIPE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSQL_XACT_MGR_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSQL_XACT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSQL_XP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'MSSEARCH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'NET_WAITFOR_PACKET',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'NODE_CACHE_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'OLEDB',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'ONDEMAND_TASK_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_DT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_EX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_KP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_NL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_SH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGEIOLATCH_UP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_DT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_EX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_KP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_NL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_SH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PAGELATCH_UP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PARALLEL_BACKUP_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PERFORMANCE_COUNTERS_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PLACEHOLDER1',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PLACEHOLDER2',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_ABR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_AUDIT_ACCESS_EVENTLOG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_AUDIT_ACCESS_SECLOG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CLOSEBACKUPMEDIA',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CLOSEBACKUPTAPE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CLOSEBACKUPVDIDEVICE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CLUSAPI_CLUSTERRESOURCECONTROL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_COCREATEINSTANCE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_COGETCLASSOBJECT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_CREATEACCESSOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_DELETEROWS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_GETCOMMANDTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_GETDATA',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_GETNEXTROWS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_GETRESULT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_GETROWSBYBOOKMARK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBFLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBLOCKREGION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBREADAT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBSETSIZE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBSTAT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBUNLOCKREGION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_LBWRITEAT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_QUERYINTERFACE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_RELEASE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_RELEASEACCESSOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_RELEASEROWS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_RELEASESESSION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_RESTARTPOSITION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_SEQSTRMREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_SEQSTRMREADANDWRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_SETDATAFAILURE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_SETPARAMETERINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_SETPARAMETERPROPERTIES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMLOCKREGION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMSEEKANDREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMSEEKANDWRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMSETSIZE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMSTAT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_COM_STRMUNLOCKREGION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CONSOLEWRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_CREATEPARAM',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DEBUG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSADDLINK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSLINKEXISTCHECK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSLINKHEALTHCHECK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSREMOVELINK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSREMOVEROOT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSROOTFOLDERCHECK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSROOTINIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DFSROOTSHARECHECK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_ABORT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_ABORTREQUESTDONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_BEGINTRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_COMMITREQUESTDONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_ENLIST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_DTC_PREPAREREQUESTDONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_FILESIZEGET',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_FSAOLEDB_ABORTTRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_FSAOLEDB_COMMITTRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_FSAOLEDB_STARTTRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_FSRECOVER_UNCONDITIONALUNDO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_GETRMINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_LOCKMONITOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_MSS_RELEASE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_ODBCOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLE_UNINIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_ABORTORCOMMITTRAN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_ABORTTRAN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_GETDATASOURCE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_GETLITERALINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_GETPROPERTIES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_GETPROPERTYINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_GETSCHEMALOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_JOINTRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_RELEASE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDB_SETPROPERTIES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OLEDBOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_ACCEPTSECURITYCONTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_ACQUIRECREDENTIALSHANDLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_AUTHENTICATIONOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_AUTHORIZATIONOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_AUTHZGETINFORMATIONFROMCONTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_AUTHZINITIALIZECONTEXTFROMSID',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_AUTHZINITIALIZERESOURCEMANAGER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_BACKUPREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CLOSEHANDLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CLUSTEROPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_COMOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_COMPLETEAUTHTOKEN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_COPYFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CREATEDIRECTORY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CREATEFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CRYPTACQUIRECONTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CRYPTIMPORTKEY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_CRYPTOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DECRYPTMESSAGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DELETEFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DELETESECURITYCONTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DEVICEIOCONTROL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DEVICEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DIRSVC_NETWORKOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DISCONNECTNAMEDPIPE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DOMAINSERVICESOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DSGETDCNAME',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_DTCOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_ENCRYPTMESSAGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FILEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FINDFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FLUSHFILEBUFFERS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FORMATMESSAGE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FREECREDENTIALSHANDLE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_FREELIBRARY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GENERICOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETADDRINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETCOMPRESSEDFILESIZE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETDISKFREESPACE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETFILEATTRIBUTES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETFILESIZE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETLONGPATHNAME',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETPROCADDRESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETVOLUMENAMEFORVOLUMEMOUNTPOINT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_GETVOLUMEPATHNAME',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_INITIALIZESECURITYCONTEXT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_LIBRARYOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_LOADLIBRARY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_LOGONUSER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_LOOKUPACCOUNTSID',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_MESSAGEQUEUEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_MOVEFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETGROUPGETUSERS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETLOCALGROUPGETMEMBERS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETUSERGETGROUPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETUSERGETLOCALGROUPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETUSERMODALSGET',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICYFREE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_OPENDIRECTORY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_PIPEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_PROCESSOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_QUERYREGISTRY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_QUERYSECURITYCONTEXTTOKEN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_REMOVEDIRECTORY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_REPORTEVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_REVERTTOSELF',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_RSFXDEVICEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SECURITYOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SERVICEOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SETENDOFFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SETFILEPOINTER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SETFILEVALIDDATA',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SETNAMEDSECURITYINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SQLCLROPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_SQMLAUNCH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_VERIFYSIGNATURE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_VSSOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_WAITFORSINGLEOBJECT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_WINSOCKOPS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_WRITEFILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_WRITEFILEGATHER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_OS_WSASETLASTERROR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_REENLIST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_RESIZELOG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_ROLLFORWARDREDO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_ROLLFORWARDUNDO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SB_STOPENDPOINT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SERVER_STARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SETRMINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SHAREDMEM_GETDATA',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SNIOPEN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SOSHOST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_SOSTESTING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_STARTRM',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_STREAMFCB_CHECKPOINT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_STREAMFCB_RECOVER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_STRESSDRIVER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_TESTING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_TRANSIMPORT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_UNMARSHALPROPAGATIONTOKEN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_VSS_CREATESNAPSHOT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_VSS_CREATEVOLUMESNAPSHOT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_CALLBACKEXECUTE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_DISPATCHER',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_ENGINEINIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_GETTARGETSTATE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_SESSIONCOMMIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_TARGETFINALIZE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_TARGETINIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XE_TIMERRUN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PREEMPTIVE_XETESTING',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'PRINT_ROLLBACK_PROGRESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QNMANAGER_ACQUIRE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QPJOB_KILL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QPJOB_WAITFOR_ABORT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QRY_MEM_GRANT_INFO_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_ERRHDL_SERVICE_DONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_EXECUTION_INDEX_SORT_EVENT_OPEN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_NOTIFICATION_MGR_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_NOTIFICATION_SUBSCRIPTION_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_NOTIFICATION_TABLE_MGR_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_NOTIFICATION_UNITTEST_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_OPTIMIZER_PRINT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_TRACEOUT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'QUERY_WAIT_ERRHDL_SERVICE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RECOVER_CHANGEDB',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REPL_CACHE_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REPL_HISTORYCACHE_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REPL_SCHEMA_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REPL_TRANHASHTABLE_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REPLICA_WRITES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REQUEST_DISPENSER_PAUSE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'REQUEST_FOR_DEADLOCK_SEARCH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESMGR_THROTTLED',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESOURCE_QUEUE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESOURCE_SEMAPHORE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESOURCE_SEMAPHORE_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESOURCE_SEMAPHORE_QUERY_COMPILE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RESOURCE_SEMAPHORE_SMALL_QUERY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RFS_MSGPUMP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RFS_NOTIFYTHREAD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RFS_STARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'RG_RECONFIG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SEC_DROP_TEMP_KEY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SECURITY_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SEQUENTIAL_GUID',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SERVER_IDLE_CHECK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_BPOOL_FLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_DBSTARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_DCOMSTARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_MSDBSTARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_SYSTEMTASK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_TASK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SLEEP_TEMPDBSTARTUP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SNI_CRITICAL_SECTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SNI_HTTP_ACCEPT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SNI_HTTP_WAITFOR_0_DISCON',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SNI_LISTENER_ACCESS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SNI_TASK_COMPLETION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOAP_READ',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOAP_WRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_CALLBACK_REMOVAL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_DISPATCHER_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_LOCALALLOCATORLIST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_MEMORY_USAGE_ADJUSTMENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_OBJECT_STORE_DESTROY_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_PROCESS_AFFINITY_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_RESERVEDMEMBLOCKLIST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_SCHEDULER_YIELD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_SMALL_PAGE_ALLOC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_STACKSTORE_INIT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_SYNC_TASK_ENQUEUE_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOS_VIRTUALMEMORY_LOW',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_INTERNAL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_SEMAPHORE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_SLEEP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_TRACELOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SOSHOST_WAITFORDONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SP_SERVER_DIAGNOSTICS_SLEEP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLCLR_APPDOMAIN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLCLR_ASSEMBLY',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLCLR_DEADLOCK_DETECTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLCLR_QUANTUM_PUNISHMENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLSORT_NORMMUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLSORT_SORTMUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLTRACE_BUFFER_FLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLTRACE_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLTRACE_SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SQLTRACE_WAIT_ENTRIES',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'SRVPROC_SHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TEMPOBJ',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'THREADPOOL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TIMEPRIV_TIMEPERIOD',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRACE_EVTNOTIF',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRACEWRITE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_DT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_EX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_KP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_NL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_SH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRAN_MARKLATCH_UP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'TRANSACTION_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'UTIL_PAGE_ALLOC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'VIA_ACCEPT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'VIEW_DEFINITION_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WAIT_FOR_RESULTS',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WAITFOR',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WAITFOR_TASKSHUTDOWN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WAITSTAT_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WCC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WORKTBL_DROP',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WRITE_COMPLETION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'WRITELOG',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XACT_OWN_TRANSACTION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XACT_RECLAIM_SESSION',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XACTLOCKINFO',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XACTWORKSPACE_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_BUFFERMGR_ALLPROCESSED_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_BUFFERMGR_FREEBUF_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_DISPATCHER_CONFIG_SESSION_LIST',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_DISPATCHER_JOIN',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_DISPATCHER_WAIT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_MODULEMGR_SYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_OLS_LOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_PACKAGE_LOCK_BACKOFF',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SERVICES_EVENTMANUAL',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SERVICES_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SERVICES_RWLOCK',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SESSION_CREATE_SYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SESSION_FLUSH',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_SESSION_SYNC',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_STM_CREATE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_TIMER_EVENT',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_TIMER_MUTEX',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage
exec p_InsertWaitTypes @WaitType= 'XE_TIMER_TASK_DONE',@ReturnID=@ReturnID, @ReturnMessage=@ReturnMessage


-- add defintions for each wait type
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'ABR'
update WaitTypes set Description = 'Caused when there is exclusive access to assembly loading.' where WaitType = 'ASSEMBLY_LOAD'
update WaitTypes set Description = 'Caused when parallel threads that are executing tasks such as file creation or initialization are attempting to synchronize.' where WaitType = 'ASYNC_DISKPOOL_LOCK'
update WaitTypes set Description = 'Caused when a task is waiting for an asynchronous I/O operation to finish.' where WaitType = 'ASYNC_IO_COMPLETION'
update WaitTypes set Description = 'Caused when network writes are blocked behind the network. Ensure the client is processing server data.' where WaitType = 'ASYNC_NETWORK_IO'
update WaitTypes set Description = 'Caused when there is a wait on a lock that controls access to a special cache. This cache has information on the audits that are being used to audit each audit action group.' where WaitType = 'AUDIT_GROUPCACHE_LOCK'
update WaitTypes set Description = 'Caused when there is a wait on a lock that controls access to a special cache.  This cache has information on the audits that are being used to audit each audit action group.' where WaitType = 'AUDIT_LOGINCACHE_LOCK'
update WaitTypes set Description = 'Caused when there is a wait on a lock that ensures single initialization of audit related Extended Event targets.' where WaitType = 'AUDIT_ON_DEMAND_TARGET_LOCK'
update WaitTypes set Description = 'Caused when there is a wait on a lock that synchronizes the start and stop of audit related Extended Events sessions.' where WaitType = 'AUDIT_XE_SESSION_MGR'
update WaitTypes set Description = 'Caused when tasks are blocked as part of backup processing.' where WaitType = 'BACKUP'
update WaitTypes set Description = '' where WaitType = 'BACKUP_CLIENTLOCK'
update WaitTypes set Description = 'Caused when tasks are waiting for a tape mount. ' where WaitType = 'BACKUP_OPERATOR'
update WaitTypes set Description = 'Caused when a backup task is either waiting for data, or is waiting for a buffer to store data. This type is typically seen only when a task is waiting for a tape mount.' where WaitType = 'BACKUPBUFFER'
update WaitTypes set Description = 'Caused when a backup task is either waiting for data, or is waiting for a buffer to store data. This type is typically seen only when a task is waiting for a tape mount.' where WaitType = 'BACKUPIO'
update WaitTypes set Description = 'Caused when a task is waiting for a backup task to finish. Wait times may be long, from several minutes to several hours. If the task that is being waited on is in an I/O process, this type does not indicate a problem.' where WaitType = 'BACKUPTHREAD'
update WaitTypes set Description = 'Caused when the background suspect page logger is attempting to avoid running more than every five seconds. Excessive suspect pages cause the logger to run frequently.' where WaitType = 'BAD_PAGE_PROCESS'
update WaitTypes set Description = 'Caused when waiting for access to receive a message on a connection endpoint.' where WaitType = 'BROKER_CONNECTION_RECEIVE_TASK'
update WaitTypes set Description = 'Caused when contention exists to access the state of a Service Broker connection endpoint.' where WaitType = 'BROKER_ENDPOINT_STATE_MUTEX'
update WaitTypes set Description = 'Caused when a task is waiting in the primary event handler of the Service Broker.' where WaitType = 'BROKER_EVENTHANDLER'
update WaitTypes set Description = 'Caused when initializing Service Broker in each active database.' where WaitType = 'BROKER_INIT'
update WaitTypes set Description = 'Caused when a task is waiting for the primary event handler of the Service Broker to start. ' where WaitType = 'BROKER_MASTERSTART'
update WaitTypes set Description = 'Caused when RECEIVE WAITFOR is waiting. This happens when no messages are ready to be received.' where WaitType = 'BROKER_RECEIVE_WAITFOR'
update WaitTypes set Description = 'Caused during the initialization of a Service Broker connection endpoint.' where WaitType = 'BROKER_REGISTERALLENDPOINTS'
update WaitTypes set Description = 'Caused when the Service Broker destination list that is associated with a target service is updated or re-prioritized.' where WaitType = 'BROKER_SERVICE'
update WaitTypes set Description = 'Caused when there is a planned shutdown of Service Broker. ' where WaitType = 'BROKER_SHUTDOWN'
update WaitTypes set Description = 'Caused when the Service Broker queue task handler tries to shut down the task. The state check is serialized and must be in a running state beforehand.' where WaitType = 'BROKER_TASK_STOP'
update WaitTypes set Description = 'Caused when the Service Broker lazy flusher flushes the in-memory transmission objects to a work table.' where WaitType = 'BROKER_TO_FLUSH'
update WaitTypes set Description = 'Caused when the Service Broker transmitter is waiting for work.' where WaitType = 'BROKER_TRANSMITTER'
update WaitTypes set Description = '' where WaitType = 'BROKER_XMIT_SHUTDOWN'
update WaitTypes set Description = '' where WaitType = 'BROKER_XMIT_START'
update WaitTypes set Description = '' where WaitType = 'BROKER_XMIT_TABLE'
update WaitTypes set Description = 'Caused when when the instances is started while internal data structures are initializing. Will not occur once the data structures have initialized.' where WaitType = 'BUILTIN_HASHKEY_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'CHECK_PRINT_RECORD'
update WaitTypes set Description = 'Caused when the checkpoint task is waiting for the next checkpoint request.' where WaitType = 'CHECKPOINT_QUEUE'
update WaitTypes set Description = 'Caused when the checkpoint thread is told that it can start at server startup.' where WaitType = 'CHKPT'
update WaitTypes set Description = 'Caused when operations occur that change the state of a database, such as the opening or closing a database.' where WaitType = 'CLEAR_DB'
update WaitTypes set Description = 'Caused when a task is currently performing common language runtime (CLR) execution and is waiting for a particular autoevent to be initiated. Long waits are typical, and do not indicate a problem.' where WaitType = 'CLR_AUTO_EVENT'
update WaitTypes set Description = 'Caused when a task is currently performing a CLR execution and is waiting to enter a critical area that is currently being used by another task.' where WaitType = 'CLR_CRST'
update WaitTypes set Description = 'Caused when a task is currently performing a CLR execution and waiting for another task to end. This wait state occurs when there is a join between tasks.' where WaitType = 'CLR_JOIN'
update WaitTypes set Description = 'Caused when a task is currently performing a CLR execution and is waiting for a specific manual event to begin.' where WaitType = 'CLR_MANUAL_EVENT'
update WaitTypes set Description = 'Caused when waiting on lock acquisition for a data structure that is used to record all virtual memory allocations that come from CLR. The data structure is locked to maintain its integrity if there is parallel access.' where WaitType = 'CLR_MEMORY_SPY'
update WaitTypes set Description = 'Caused when a task is performing a CLR execution and is waiting to obtain a lock on the monitor.' where WaitType = 'CLR_MONITOR'
update WaitTypes set Description = 'Caused when a task is performing a CLR execution and is waiting for a reader lock.' where WaitType = 'CLR_RWLOCK_READER'
update WaitTypes set Description = 'Caused when a task is performing a CLR execution and is waiting for a writer lock.' where WaitType = 'CLR_RWLOCK_WRITER'
update WaitTypes set Description = 'Caused when a task is performing a CLR execution and is waiting for a semaphore.' where WaitType = 'CLR_SEMAPHORE'
update WaitTypes set Description = 'Caused when waiting for a CLR task to complete startup.' where WaitType = 'CLR_TASK_START'
update WaitTypes set Description = 'Caused when a task is waiting acquire exclusive access to the CLR-hosting data structures. This wait type occurs while setting up or tearing down the CLR runtime.' where WaitType = 'CLRHOST_STATE_ACCESS'
update WaitTypes set Description = 'Caused when a task is waiting on a thread-safe memory object. The wait time might increase when there is contention caused by multiple tasks trying to allocate memory from the same memory object.' where WaitType = 'CMEMTHREAD'
update WaitTypes set Description = '' where WaitType = 'COMMIT_TABLE'
update WaitTypes set Description = '' where WaitType = 'CURSOR'
update WaitTypes set Description = '' where WaitType = 'CURSOR_ASYNC'
update WaitTypes set Description = 'Caused when parallelized query threads have an unequal workload, causing a block on the entire query until the longest-running thread is complete. See help for further discussion.' where WaitType = 'CXPACKET'
update WaitTypes set Description = 'Caused when a parallel range scan is in progress.' where WaitType = 'CXROWSET_SYNC'
update WaitTypes set Description = 'Caused when the dedicated administrator connection is initializing.' where WaitType = 'DAC_INIT'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'DBMIRROR_DBM_EVENT'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'DBMIRROR_DBM_MUTEX'
update WaitTypes set Description = 'Caused when database mirroring is waiting for events to process.' where WaitType = 'DBMIRROR_EVENTS_QUEUE'
update WaitTypes set Description = 'Caused when a task is waiting for a communications backlog at the network layer to clear. This wait indicates that the communications layer is starting to become overloaded and is affecting the database mirroring data throughput.' where WaitType = 'DBMIRROR_SEND'
update WaitTypes set Description = 'Caused when the database mirroring worker task is waiting for more work.' where WaitType = 'DBMIRROR_WORKER_QUEUE'
update WaitTypes set Description = 'Caused when a task is waiting for log records to be flushed to disk. This wait is typically held for a long period of time.' where WaitType = 'DBMIRRORING_CMD'
update WaitTypes set Description = '' where WaitType = 'DBTABLE'
update WaitTypes set Description = 'Caused when the deadlock monitor and sys.dm_os_waiting_tasks try to make sure that SQL Server is not running multiple deadlock searches at the same time.' where WaitType = 'DEADLOCK_ENUM_MUTEX'
update WaitTypes set Description = 'Caused when the server is executing queries on top of sys.dm_os_waiting_tasks, and these queries are blocking the deadlock monitor from running deadlock searches. Queries on top of the sys.dm_os_waiting_tasks use DEADLOCK_ENUM_MUTEX and this wait type is only used by the deadlock monitor.' where WaitType = 'DEADLOCK_TASK_SEARCH'
update WaitTypes set Description = 'Caused when Transact-SQL and CLR are debugging for internal synchronization.' where WaitType = 'DEBUG'
update WaitTypes set Description = 'Caused when SQL Server polls the version transaction manager to see whether the timestamp of the earliest active transaction is later than the timestamp of when the state started changing. If the timestamp is later, all the snapshot transactions that were started before the ALTER DATABASE statement was run have finished. This wait state is used when SQL Server disables versioning by using the ALTER DATABASE statement.' where WaitType = 'DISABLE_VERSIONING'
update WaitTypes set Description = 'Caused when a task is waiting to access a file when an external backup is active. This is reported for each waiting user process. A count larger than five per user process may indicate that the SNAPSHOT BACKUP is taking too much time to finish.' where WaitType = 'DISKIO_SUSPEND'
update WaitTypes set Description = 'Caused when a thread from the dispatcher pool is waiting for more work to process. When the dispatcher is idle the wait time will increase.' where WaitType = 'DISPATCHER_QUEUE_SEMAPHORE'
update WaitTypes set Description = 'Caused once while waiting for the XML parser DLL to load.' where WaitType = 'DLL_LOADING_MUTEX'
update WaitTypes set Description = 'Caused between attempts to drop a temporary object if the previous attempt failed. The wait duration grows exponentially with each failed drop attempt.' where WaitType = 'DROPTEMP'
update WaitTypes set Description = 'Caused when tasks are waiting on an event that is used to manage state transition. The manage state transition controls when the recovery of Microsoft Distributed Transaction Coordinator (MS DTC) transactions occurs after SQL Server receives notification that the MS DTC service has become unavailable. This state also describes a task that is waiting when a commit of a MS DTC transaction is initiated by SQL Server and SQL Server is waiting for the MS DTC commit to finish.' where WaitType = 'DTC'
update WaitTypes set Description = 'Caused in a MS DTC worker session when the session is waiting to take ownership of a MS DTC transaction. After MS DTC owns the transaction, the session can roll back the transaction. Generally, the session will wait for another session that is using the transaction.' where WaitType = 'DTC_ABORT_REQUEST'
update WaitTypes set Description = 'Caused when a recovery task is waiting for the master database in a cross-database transaction so that the task can query the outcome of the transaction.' where WaitType = 'DTC_RESOLVE'
update WaitTypes set Description = 'Caused when a task is waiting for an event that protects changes to the internal MS DTC global state object. This wait should be very short.' where WaitType = 'DTC_STATE'
update WaitTypes set Description = 'Caused in a MS DTC worker session when SQL Server receives notification that the MS DTC service is not available. The worker waits for the MS DTC recovery process to start. Once the recovery process starts, the worker waits to obtain the outcome of the distributed transaction that the worker is working on. This continues until the connection with the MS DTC service has been reestablished.' where WaitType = 'DTC_TMDOWN_REQUEST'
update WaitTypes set Description = 'Caused when recovery tasks wait for MS DTC to become active to enable the resolution of prepared transactions.' where WaitType = 'DTC_WAITFOR_OUTCOME'
update WaitTypes set Description = 'Caused when a main task is waiting for a subtask to generate data. This state does not occur normally. A long wait time indicates an unexpected blockage. ' where WaitType = 'DUMP_LOG_COORDINATOR'
update WaitTypes set Description = '' where WaitType = 'DUMP_LOG_COORDINATOR_QUEUE'
update WaitTypes set Description = 'Caused  for informational purposes only. Not supported. Future compatibility is not guaranteed.' where WaitType = 'DUMPTRIGGER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'EC'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'EE_PMOLOCK'
update WaitTypes set Description = 'Caused during the synchronization of internal procedure hash table creation. This wait only occurs during the initial accessing of the hash table after the SQL Server instance starts.' where WaitType = 'EE_SPECPROC_MAP_INIT'
update WaitTypes set Description = 'Caused when SQL Server waits for all update transactions in this database to finish before declaring the database ready to transition to snapshot isolation allowed state. This state is used when SQL Server enables snapshot isolation by using the ALTER DATABASE statement.' where WaitType = 'ENABLE_VERSIONING'
update WaitTypes set Description = 'Caused during the synchronization of multiple concurrent error log initializations.' where WaitType = 'ERROR_REPORTING_MANAGER'
update WaitTypes set Description = 'Caused during the synchronization in the query processor exchange iterator during parallel queries.' where WaitType = 'EXCHANGE'
update WaitTypes set Description = 'Caused during parallel queries while synchronizing in query processor in areas not related to the exchange iterator. Examples of such areas are bitmaps, large binary objects (LOBs), and the spool iterator. LOBs may frequently use this wait state.' where WaitType = 'EXECSYNC'
update WaitTypes set Description = 'Caused during the synchronization between producer and consumer parts of batch execution that are submitted through the connection context.' where WaitType = 'EXECUTION_PIPE_EVENT_INTERNAL'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'FAILPOINT'
update WaitTypes set Description = 'Caused when snapshot reads(or a temporary snapshot created by DBCC) sparse file are synchronized.' where WaitType = 'FCB_REPLICA_READ'
update WaitTypes set Description = '' where WaitType = 'FCB_REPLICA_START'
update WaitTypes set Description = 'Caused when snapshot page pushing or pulling of a (or a temporary snapshot created by DBCC) sparse file is synchronized.' where WaitType = 'FCB_REPLICA_WRITE'
update WaitTypes set Description = 'Caused when a wait by the FILESTREAM garbage collector to do either of the following occurs: (1) Disable garbage collection (used by backup and restore). (2) Execute one cycle of the FILESTREAM garbage collector.' where WaitType = 'FS_FC_RWLOCK'
update WaitTypes set Description = 'Caused when the FILESTREAM garbage collector is waiting for cleanup tasks to be completed.' where WaitType = 'FS_GARBAGE_COLLECTOR_SHUTDOWN'
update WaitTypes set Description = 'Caused when there is a wait to acquire access to the FILESTREAM header of a FILESTREAM data container to either read or update contents in the FILESTREAM header file (Filestream.hdr).' where WaitType = 'FS_HEADER_RWLOCK'
update WaitTypes set Description = 'Caused when there is a wait to acquire access to the FILESTREAM log truncation to do either of the following: (1) Temporarily disable the FILESTREAM log (FSLOG) truncation (used by backup and restore). (2) Execute one cycle of FSLOG truncation.' where WaitType = 'FS_LOGTRUNC_RWLOCK'
update WaitTypes set Description = 'Caused when a FILESTREAM file I/O operation needs to bind to the associated transaction, but the transaction is currently owned by another session.' where WaitType = 'FSA_FORCE_OWN_XACT'
update WaitTypes set Description = 'Caused when a FILESTREAM file I/O operation is waiting for a FILESTREAM agent resource that is being used by another file I/O operation.' where WaitType = 'FSAGENT'
update WaitTypes set Description = 'Caused when there is a wait for another FILESTREAM feature reconfiguration to be completed.' where WaitType = 'FSTR_CONFIG_MUTEX'
update WaitTypes set Description = 'Caused when there is a wait to serialize access to the FILESTREAM configuration parameters.' where WaitType = 'FSTR_CONFIG_RWLOCK'
update WaitTypes set Description = '' where WaitType = 'FT_COMPROWSET_RWLOCK'
update WaitTypes set Description = '' where WaitType = 'FT_IFTS_RWLOCK'
update WaitTypes set Description = 'Caused when a background task processing full-text search requests indicates it is “waiting for work to do:” Unless unexplained FTS issues are occuring, you can safely ignore this wait.' where WaitType = 'FT_IFTS_SCHEDULER_IDLE_WAIT'
update WaitTypes set Description = '' where WaitType = 'FT_IFTSHC_MUTEX'
update WaitTypes set Description = '' where WaitType = 'FT_IFTSISM_MUTEX'
update WaitTypes set Description = '' where WaitType = 'FT_MASTER_MERGE'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'FT_METADATA_MUTEX'
update WaitTypes set Description = 'Caused when a full-text crawl needs to restart from a last known good point to recover from a transient failure. The wait allows worker tasks currently working on that population to complete or exit the current step.' where WaitType = 'FT_RESTART_CRAWL'
update WaitTypes set Description = '' where WaitType = 'FT_RESUME_CRAWL'
update WaitTypes set Description = 'Caused when synchronizing full-text operations.' where WaitType = 'FULLTEXT GATHERER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'GUARDIAN'
update WaitTypes set Description = '' where WaitType = 'HTTP_ENDPOINT_COLLCREATE'
update WaitTypes set Description = 'Caused when the enumeration of HTTP endpoints to start HTTP occurs at startup.' where WaitType = 'HTTP_ENUMERATION'
update WaitTypes set Description = 'Caused when a connection is waiting for HTTP to complete initialization.' where WaitType = 'HTTP_START'
update WaitTypes set Description = '' where WaitType = 'IMP_IMPORT_MUTEX'
update WaitTypes set Description = 'Caused when SQL Server waits for a bulkload I/O to finish.' where WaitType = 'IMPPROV_IOWAIT'
update WaitTypes set Description = '' where WaitType = 'INDEX_USAGE_STATS_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'INTERNAL_TESTING'
update WaitTypes set Description = 'Caused when synchronizing trace event buffers.' where WaitType = 'IO_AUDIT_MUTEX'
update WaitTypes set Description = 'Caused when waiting for I/O operations to complete. This wait type generally represents non-data page I/Os. Data page I/O completion waits appear as PAGEIOLATCH_* waits.' where WaitType = 'IO_COMPLETION'
update WaitTypes set Description = 'Caused when waiting for an I/O operation (read or a write to disk) fails due to insufficient resources. The operation has to try again.' where WaitType = 'IO_RETRY'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'IOAFF_RANGE_QUEUE'
update WaitTypes set Description = 'Caused when the service control task is waiting for requests from the Service Control Manager. Long waits are normal.' where WaitType = 'KSOURCE_WAKEUP'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'KTM_ENLISTMENT'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'KTM_RECOVERY_MANAGER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'KTM_RECOVERY_RESOLUTION'
update WaitTypes set Description = 'Caused when waiting for a DT (destroy) latch. This does not include buffer latches or transaction mark latches. A listing of LATCH_* waits is available in sys.dm_os_latch_stats. Note that sys.dm_os_latch_stats groups LATCH_NL, LATCH_SH, LATCH_UP, LATCH_EX, and LATCH_DT waits together.' where WaitType = 'LATCH_DT'
update WaitTypes set Description = '' where WaitType = 'LATCH_EX'
update WaitTypes set Description = 'Caused when waiting for a KP (keep) latch. This does not include buffer latches or transaction mark latches. A listing of LATCH_* waits is available in sys.dm_os_latch_stats. Note that sys.dm_os_latch_stats groups LATCH_NL, LATCH_SH, LATCH_UP, LATCH_EX, and LATCH_DT waits together.' where WaitType = 'LATCH_KP'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'LATCH_NL'
update WaitTypes set Description = 'Caused when waiting for an SH (share) latch. This does not include buffer latches or transaction mark latches. A listing of LATCH_* waits is available in sys.dm_os_latch_stats. Note that sys.dm_os_latch_stats groups LATCH_NL, LATCH_SH, LATCH_UP, LATCH_EX, and LATCH_DT waits together.' where WaitType = 'LATCH_SH'
update WaitTypes set Description = 'Caused when waiting for an UP (update) latch. This does not include buffer latches or transaction mark latches. A listing of LATCH_* waits is available in sys.dm_os_latch_stats. Note that sys.dm_os_latch_stats groups LATCH_NL, LATCH_SH, LATCH_UP, LATCH_EX, and LATCH_DT waits together.' where WaitType = 'LATCH_UP'
update WaitTypes set Description = 'Caused when lazywriter tasks are suspended. This is a measure of the time spent by background tasks that are waiting. This wait can be safely ignored as wait times will cycle as Lazywriter is designed to sleep and wake-up every 1 second.' where WaitType = 'LAZYWRITER_SLEEP'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Bulk Update (BU) lock.' where WaitType = 'LCK_M_BU'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Intent Shared (IS) lock.' where WaitType = 'LCK_M_IS'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Intent Update (IU) lock. ' where WaitType = 'LCK_M_IU'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Intent Exclusive (IX) lock. ' where WaitType = 'LCK_M_IX'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a NULL lock on the current key value, and an Insert Range lock between the current and previous key. ' where WaitType = 'LCK_M_RIn_NL'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a shared lock on the current key value, and an Insert Range lock between the current and previous key. ' where WaitType = 'LCK_M_RIn_S'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Update lock on the current key value, and an Insert Range lock between the current and previous key. ' where WaitType = 'LCK_M_RIn_U'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Exclusive lock on the current key value, and an Insert Range lock between the current and previous key. ' where WaitType = 'LCK_M_RIn_X'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Shared lock on the current key value, and a Shared Range lock between the current and previous key. ' where WaitType = 'LCK_M_RS_S'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Update lock on the current key value, and an Update Range lock between the current and previous key. ' where WaitType = 'LCK_M_RS_U'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Shared lock on the current key value, and an Exclusive Range lock between the current and previous key. ' where WaitType = 'LCK_M_RX_S'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Update lock on the current key value, and an Exclusive range lock between the current and previous key. ' where WaitType = 'LCK_M_RX_U'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Exclusive lock on the current key value, and an Exclusive Range lock between the current and previous key. ' where WaitType = 'LCK_M_RX_X'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Shared lock. ' where WaitType = 'LCK_M_S'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Schema Modify lock. ' where WaitType = 'LCK_M_SCH_M'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Schema Share lock. ' where WaitType = 'LCK_M_SCH_S'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Shared With Intent Update lock. ' where WaitType = 'LCK_M_SIU'
update WaitTypes set Description = 'Caused when a task is waiting to acquire a Shared With Intent Exclusive lock. ' where WaitType = 'LCK_M_SIX'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Update lock. ' where WaitType = 'LCK_M_U'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Update With Intent Exclusive lock. ' where WaitType = 'LCK_M_UIX'
update WaitTypes set Description = 'Caused when a task is waiting to acquire an Exclusive lock. ' where WaitType = 'LCK_M_X'
update WaitTypes set Description = 'Caused when a task is waiting for space in the WRITELOG buffer to store a log record. This wait is typical when there is an I/O botteneck. Look for WRITERLOG waiters and if found the overall problem is an I/O bottleneck on the storage system associated with the transaction log.' where WaitType = 'LOGBUFFER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'LOGGENERATION'
update WaitTypes set Description = 'Caused when a task is waiting for any outstanding log I/Os to finish before shutting down the log while closing the database.' where WaitType = 'LOGMGR'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'LOGMGR_FLUSH'
update WaitTypes set Description = 'Caused when the log writer task is waiting for work requests. You should be able to safely ignore this wait type unless you believe a problem exists in processing log blocks to flush to the transaction log. ' where WaitType = 'LOGMGR_QUEUE'
update WaitTypes set Description = 'Caused when a task is waiting to see whether log truncation frees up log space to enable the task to write a new log record. ' where WaitType = 'LOGMGR_RESERVE_APPEND'
update WaitTypes set Description = 'Caused while waiting for memory to be available for use.' where WaitType = 'LOWFAIL_MEMMGR_QUEUE'
update WaitTypes set Description = '' where WaitType = 'METADATA_LAZYCACHE_RWLOCK'
update WaitTypes set Description = '' where WaitType = 'MIRROR_SEND_MESSAGE'
update WaitTypes set Description = 'Used for informational purposes only. This wait is only seen in SQL Server 2000 and is listed as the default wait in the list and isn''t used to indicate ay real waiting.' where WaitType = 'MISCELLANEOUS'
update WaitTypes set Description = 'Caused when a task is waiting for a distributed query operation to finish. This is used to detect potential Multiple Active Result Set (MARS) application deadlocks. The wait ends when the distributed query call finishes.' where WaitType = 'MSQL_DQ'
update WaitTypes set Description = '' where WaitType = 'MSQL_SYNC_PIPE'
update WaitTypes set Description = 'Caused when a task is waiting to obtain ownership of the session transaction manager to perform a session level transaction operation.' where WaitType = 'MSQL_XACT_MGR_MUTEX'
update WaitTypes set Description = 'Caused during the synchronization of transaction usage. Requests must acquire the mutex before it can use the transaction.' where WaitType = 'MSQL_XACT_MUTEX'
update WaitTypes set Description = 'Caused when a task is waiting for an extended stored procedure to end. SQL Server uses this wait state to detect potential MARS application deadlocks. The wait ends when the extended stored procedure call completes.' where WaitType = 'MSQL_XP'
update WaitTypes set Description = 'Caused during Full-Text Search calls. This wait ends when the full-text operation completes. It does not indicate contention, but rather the duration of full-text operations.' where WaitType = 'MSSEARCH'
update WaitTypes set Description = 'Caused when a connection is waiting for a network packet during a network read.' where WaitType = 'NET_WAITFOR_PACKET'
update WaitTypes set Description = '' where WaitType = 'NODE_CACHE_MUTEX'
update WaitTypes set Description = 'Caused when SQL Server calls the SQL Server Native Client OLE DB Provider. This wait type indicates the duration of calls to the OLE DB provider.' where WaitType = 'OLEDB'
update WaitTypes set Description = 'Caused when a background task waits for high priority system task requests. A long wait time indicates that there have been no high priority requests to process, and should not cause concern.' where WaitType = 'ONDEMAND_TASK_QUEUE'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is in an I/O request. The latch request is in Destroy mode. A long wait time may indicate problems with the disk subsystem.' where WaitType = 'PAGEIOLATCH_DT'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is in an I/O request. The latch request is in Exclusive mode. A long wait time may indicate problems with the disk subsystem.' where WaitType = 'PAGEIOLATCH_EX'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is in an I/O request. The latch request is in Keep mode. A long wait time may indicate problems with the disk subsystem.' where WaitType = 'PAGEIOLATCH_KP'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PAGEIOLATCH_NL'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is in an I/O request. The latch request is in Shared mode. A long wait time may indicate problems with the disk subsystem.' where WaitType = 'PAGEIOLATCH_SH'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is in an I/O request. The latch request is in Update mode. A long wait time may indicate problems with the disk subsystem.' where WaitType = 'PAGEIOLATCH_UP'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is not in an I/O request. The latch request is in Destroy mode.' where WaitType = 'PAGELATCH_DT'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is not in an I/O request. The latch request is in Exclusive mode.' where WaitType = 'PAGELATCH_EX'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is not in an I/O request. The latch request is in Keep mode.' where WaitType = 'PAGELATCH_KP'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PAGELATCH_NL'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is not in an I/O request. The latch request is in Shared mode.' where WaitType = 'PAGELATCH_SH'
update WaitTypes set Description = 'Caused when a task is waiting on a latch for a buffer that is not in an I/O request. The latch request is in Update mode.' where WaitType = 'PAGELATCH_UP'
update WaitTypes set Description = 'Caused when serializing output produced by RESTORE HEADERONLY, RESTORE FILELISTONLY, or RESTORE LABELONLY.' where WaitType = 'PARALLEL_BACKUP_QUEUE'
update WaitTypes set Description = '' where WaitType = 'PERFORMANCE_COUNTERS_RWLOCK'
update WaitTypes set Description = '' where WaitType = 'PLACEHOLDER1'
update WaitTypes set Description = '' where WaitType = 'PLACEHOLDER2'
update WaitTypes set Description = 'Caused when a worker is running coded in a non-SQLOS Sceduling Systems mode.' where WaitType = 'PREEMPTIVE_ABR'
update WaitTypes set Description = 'Caused when the SQL Server Operating System (SQLOS) scheduler switches to preemptive mode to write an audit event to the Windows event log.' where WaitType = 'PREEMPTIVE_AUDIT_ACCESS_EVENTLOG'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to write an audit event to the Windows Security log.' where WaitType = 'PREEMPTIVE_AUDIT_ACCESS_SECLOG'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to close backup media.' where WaitType = 'PREEMPTIVE_CLOSEBACKUPMEDIA'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to close a tape backup device.' where WaitType = 'PREEMPTIVE_CLOSEBACKUPTAPE'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to close a virtual backup device.' where WaitType = 'PREEMPTIVE_CLOSEBACKUPVDIDEVICE'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to perform Windows failover cluster operations.' where WaitType = 'PREEMPTIVE_CLUSAPI_CLUSTERRESOURCECONTROL'
update WaitTypes set Description = 'Caused when the SQLOS scheduler switches to preemptive mode to create a COM object.' where WaitType = 'PREEMPTIVE_COM_COCREATEINSTANCE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_COGETCLASSOBJECT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_CREATEACCESSOR'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_DELETEROWS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_GETCOMMANDTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_GETDATA'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_GETNEXTROWS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_GETRESULT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_GETROWSBYBOOKMARK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBFLUSH'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBLOCKREGION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBREADAT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBSETSIZE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBSTAT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBUNLOCKREGION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_LBWRITEAT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_QUERYINTERFACE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_RELEASE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_RELEASEACCESSOR'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_RELEASEROWS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_RELEASESESSION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_RESTARTPOSITION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_SEQSTRMREAD'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_SEQSTRMREADANDWRITE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_SETDATAFAILURE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_SETPARAMETERINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_SETPARAMETERPROPERTIES'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMLOCKREGION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMSEEKANDREAD'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMSEEKANDWRITE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMSETSIZE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMSTAT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_COM_STRMUNLOCKREGION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_CONSOLEWRITE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_CREATEPARAM'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DEBUG'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSADDLINK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSLINKEXISTCHECK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSLINKHEALTHCHECK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSREMOVELINK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSREMOVEROOT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSROOTFOLDERCHECK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSROOTINIT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DFSROOTSHARECHECK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_ABORT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_ABORTREQUESTDONE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_BEGINTRANSACTION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_COMMITREQUESTDONE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_ENLIST'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_DTC_PREPAREREQUESTDONE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_FILESIZEGET'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_ABORTTRANSACTION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_COMMITTRANSACTION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_STARTTRANSACTION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_FSRECOVER_UNCONDITIONALUNDO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_GETRMINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_LOCKMONITOR'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_MSS_RELEASE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_ODBCOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLE_UNINIT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_ABORTORCOMMITTRAN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_ABORTTRAN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_GETDATASOURCE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_GETLITERALINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_GETPROPERTIES'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_GETPROPERTYINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_GETSCHEMALOCK'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_JOINTRANSACTION'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_RELEASE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDB_SETPROPERTIES'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OLEDBOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_ACCEPTSECURITYCONTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_ACQUIRECREDENTIALSHANDLE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_AUTHENTICATIONOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_AUTHORIZATIONOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_AUTHZGETINFORMATIONFROMCONTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_AUTHZINITIALIZECONTEXTFROMSID'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_AUTHZINITIALIZERESOURCEMANAGER'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_BACKUPREAD'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CLOSEHANDLE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CLUSTEROPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_COMOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_COMPLETEAUTHTOKEN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_COPYFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CREATEDIRECTORY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CREATEFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CRYPTACQUIRECONTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CRYPTIMPORTKEY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_CRYPTOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DECRYPTMESSAGE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DELETEFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DELETESECURITYCONTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DEVICEIOCONTROL'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DEVICEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DIRSVC_NETWORKOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DISCONNECTNAMEDPIPE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DOMAINSERVICESOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DSGETDCNAME'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_DTCOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_ENCRYPTMESSAGE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FILEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FINDFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FLUSHFILEBUFFERS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FORMATMESSAGE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FREECREDENTIALSHANDLE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_FREELIBRARY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GENERICOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETADDRINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETCOMPRESSEDFILESIZE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETDISKFREESPACE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETFILEATTRIBUTES'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETFILESIZE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETLONGPATHNAME'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETPROCADDRESS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETVOLUMENAMEFORVOLUMEMOUNTPOINT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_GETVOLUMEPATHNAME'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_INITIALIZESECURITYCONTEXT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_LIBRARYOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_LOADLIBRARY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_LOGONUSER'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_LOOKUPACCOUNTSID'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_MESSAGEQUEUEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_MOVEFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETGROUPGETUSERS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETLOCALGROUPGETMEMBERS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETUSERGETGROUPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETUSERGETLOCALGROUPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETUSERMODALSGET'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICYFREE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_OPENDIRECTORY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_PIPEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_PROCESSOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_QUERYREGISTRY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_QUERYSECURITYCONTEXTTOKEN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_REMOVEDIRECTORY'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_REPORTEVENT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_REVERTTOSELF'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_RSFXDEVICEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SECURITYOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SERVICEOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SETENDOFFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SETFILEPOINTER'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SETFILEVALIDDATA'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SETNAMEDSECURITYINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SQLCLROPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_SQMLAUNCH'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_VERIFYSIGNATURE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_VSSOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_WAITFORSINGLEOBJECT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_WINSOCKOPS'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_WRITEFILE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_WRITEFILEGATHER'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_OS_WSASETLASTERROR'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_REENLIST'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_RESIZELOG'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_ROLLFORWARDREDO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_ROLLFORWARDUNDO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SB_STOPENDPOINT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SERVER_STARTUP'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SETRMINFO'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SHAREDMEM_GETDATA'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SNIOPEN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_SOSHOST'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PREEMPTIVE_SOSTESTING'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_STARTRM'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_STREAMFCB_CHECKPOINT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_STREAMFCB_RECOVER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PREEMPTIVE_STRESSDRIVER'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PREEMPTIVE_TESTING'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_TRANSIMPORT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_UNMARSHALPROPAGATIONTOKEN'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_VSS_CREATESNAPSHOT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_VSS_CREATEVOLUMESNAPSHOT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_CALLBACKEXECUTE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_DISPATCHER'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_ENGINEINIT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_GETTARGETSTATE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_SESSIONCOMMIT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_TARGETFINALIZE'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_TARGETINIT'
update WaitTypes set Description = '' where WaitType = 'PREEMPTIVE_XE_TIMERRUN'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'PREEMPTIVE_XETESTING'
update WaitTypes set Description = 'Caused while waiting for user processes to end in a database that has been transitioned by using the ALTER DATABASE termination clause. ' where WaitType = 'PRINT_ROLLBACK_PROGRESS'
update WaitTypes set Description = '' where WaitType = 'QNMANAGER_ACQUIRE'
update WaitTypes set Description = 'Caused when a asynchronous automatic statistics update is canceled by a call to KILL as the update was starting to run. The terminating thread is suspended, waiting for it to start listening for KILL commands. An acceptable value is less than one second.' where WaitType = 'QPJOB_KILL'
update WaitTypes set Description = 'Caused when an asynchronous automatic statistics update is canceled by a call to KILL when it was running. The update has now completed but is suspended until the terminating thread message coordination is complete. This is an ordinary but rare state, and should be very short. An acceptable value is less than one second.' where WaitType = 'QPJOB_WAITFOR_ABORT'
update WaitTypes set Description = 'Caused when Query Execution memory management tries to control access to a static grant information list. This state lists information about the current granted and waiting memory requests and is a simple access control state. There should never be a long wait on this state.' where WaitType = 'QRY_MEM_GRANT_INFO_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'QUERY_ERRHDL_SERVICE_DONE'
update WaitTypes set Description = 'Caused when offline create index builds are run in parallel, and the different worker threads that are sorting synchronize access to the sort files.' where WaitType = 'QUERY_EXECUTION_INDEX_SORT_EVENT_OPEN'
update WaitTypes set Description = 'Caused  during synchronization of the garbage collection queue in the Query Notification Manager.' where WaitType = 'QUERY_NOTIFICATION_MGR_MUTEX'
update WaitTypes set Description = 'Caused during state synchronization for transactions in Query Notifications.' where WaitType = 'QUERY_NOTIFICATION_SUBSCRIPTION_MUTEX'
update WaitTypes set Description = 'Caused during internal synchronization within the Query Notification Manager.' where WaitType = 'QUERY_NOTIFICATION_TABLE_MGR_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'QUERY_NOTIFICATION_UNITTEST_MUTEX'
update WaitTypes set Description = 'Caused during synchronization of query optimizer diagnostic output production. This wait type only occurs if diagnostic settings have been enabled under direction of Microsoft Product Support.' where WaitType = 'QUERY_OPTIMIZER_PRINT_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'QUERY_TRACEOUT'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'QUERY_WAIT_ERRHDL_SERVICE'
update WaitTypes set Description = 'Caused during synchronization of database status in warm standby database.' where WaitType = 'RECOVER_CHANGEDB'
update WaitTypes set Description = 'Caused during synchronization on a replication article cache. During these waits, the replication log reader stalls, and data definition language (DDL) statements on a published table are blocked.' where WaitType = 'REPL_CACHE_ACCESS'
update WaitTypes set Description = '' where WaitType = 'REPL_HISTORYCACHE_ACCESS'
update WaitTypes set Description = 'Caused during synchronization of replication schema version information. This state exists when DDL statements are executed on the replicated object, and when the log reader builds or consumes versioned schema based on DDL occurrence.' where WaitType = 'REPL_SCHEMA_ACCESS'
update WaitTypes set Description = '' where WaitType = 'REPL_TRANHASHTABLE_ACCESS'
update WaitTypes set Description = 'Caused when a task is waiting for completion of page writes to database snapshots or DBCC replicas.' where WaitType = 'REPLICA_WRITES'
update WaitTypes set Description = 'Caused when a task is waiting for all outstanding I/O to complete, so that I/O to a file can be frozen for snapshot backup.' where WaitType = 'REQUEST_DISPENSER_PAUSE'
update WaitTypes set Description = 'Caused when the deadlock monitor waits to start the next deadlock search. This wait is expected between deadlock detections, and lengthy total waiting time on this resource does not indicate a problem.' where WaitType = 'REQUEST_FOR_DEADLOCK_SEARCH'
update WaitTypes set Description = 'Caused when a new request comes in and is throttled based on the GROUP_MAX_REQUESTS setting.' where WaitType = 'RESMGR_THROTTLED'
update WaitTypes set Description = 'Caused during synchronization of various internal resource queues.' where WaitType = 'RESOURCE_QUEUE'
update WaitTypes set Description = 'Caused when a query memory request cannot be granted immediately due to other concurrent queries. Long waits and wait times may indicate excessive number of concurrent queries, or excessive memory request amounts.' where WaitType = 'RESOURCE_SEMAPHORE'
update WaitTypes set Description = 'Caused when a query waits for its request for a thread reservation to be fulfilled. The wait also occurs when synchronizing query compile and memory grant requests.' where WaitType = 'RESOURCE_SEMAPHORE_MUTEX'
update WaitTypes set Description = 'Caused when the number of concurrent query compilations reaches a throttling limit. High waits and wait times may indicate excessive compilations, recompiles, or uncachable plans.' where WaitType = 'RESOURCE_SEMAPHORE_QUERY_COMPILE'
update WaitTypes set Description = 'Caused when memory request by a small query cannot be granted immediately due to other concurrent queries. Wait time should not exceed more than a few seconds, because the server transfers the request to the main query memory pool if it fails to grant the requested memory within a few seconds. High waits may indicate an excessive number of concurrent small queries while the main memory pool is blocked by waiting queries.' where WaitType = 'RESOURCE_SEMAPHORE_SMALL_QUERY'
update WaitTypes set Description = '' where WaitType = 'RFS_MSGPUMP'
update WaitTypes set Description = '' where WaitType = 'RFS_NOTIFYTHREAD'
update WaitTypes set Description = '' where WaitType = 'RFS_STARTUP'
update WaitTypes set Description = '' where WaitType = 'RG_RECONFIG'
update WaitTypes set Description = 'Caused after a failed attempt to drop a temporary security key before a retry attempt.' where WaitType = 'SEC_DROP_TEMP_KEY'
update WaitTypes set Description = 'Caused when there is a wait for mutexes that control access to the global list of Extensible Key Management (EKM) cryptographic providers and the session-scoped list of EKM sessions.' where WaitType = 'SECURITY_MUTEX'
update WaitTypes set Description = 'Caused when a new sequential GUID is being obtained.' where WaitType = 'SEQUENTIAL_GUID'
update WaitTypes set Description = 'Caused when synchronization of SQL Server instance idle status when a resource monitor is attempting to declare a SQL Server instance as idle or trying to wake up.' where WaitType = 'SERVER_IDLE_CHECK'
update WaitTypes set Description = 'Caused when a shutdown statement waits for active connections to exit.' where WaitType = 'SHUTDOWN'
update WaitTypes set Description = 'Caused when a checkpoint is throttling the issuance of new I/Os in order to avoid flooding the disk subsystem.' where WaitType = 'SLEEP_BPOOL_FLUSH'
update WaitTypes set Description = 'Caused during database startup while waiting for all databases to recover.' where WaitType = 'SLEEP_DBSTARTUP'
update WaitTypes set Description = 'Caused once at most during SQL Server instance startup while waiting for DCOM initialization to complete.' where WaitType = 'SLEEP_DCOMSTARTUP'
update WaitTypes set Description = 'Caused when SQL Trace waits for the msdb database to complete startup.' where WaitType = 'SLEEP_MSDBSTARTUP'
update WaitTypes set Description = 'Caused during the start of a background task while waiting for tempdb to complete startup.' where WaitType = 'SLEEP_SYSTEMTASK'
update WaitTypes set Description = 'Caused when a task sleeps while waiting for a generic event to occur.' where WaitType = 'SLEEP_TASK'
update WaitTypes set Description = 'Caused when a task waits for tempdb to complete startup.' where WaitType = 'SLEEP_TEMPDBSTARTUP'
update WaitTypes set Description = 'Caused when internal synchronization within SQL Server networking components.' where WaitType = 'SNI_CRITICAL_SECTION'
update WaitTypes set Description = '' where WaitType = 'SNI_HTTP_ACCEPT'
update WaitTypes set Description = 'Caused when a SQL Server shutdown occurs while waiting for outstanding HTTP connections to exit.' where WaitType = 'SNI_HTTP_WAITFOR_0_DISCON'
update WaitTypes set Description = 'Caused when waiting for non-uniform memory access (NUMA) nodes to update state change. The access to state change is serialized.' where WaitType = 'SNI_LISTENER_ACCESS'
update WaitTypes set Description = 'Caused when there is a wait for all tasks to finish during a NUMA node state change.' where WaitType = 'SNI_TASK_COMPLETION'
update WaitTypes set Description = 'Caused when waiting for an HTTP network read to complete.' where WaitType = 'SOAP_READ'
update WaitTypes set Description = 'Caused when waiting for an HTTP network write to complete.' where WaitType = 'SOAP_WRITE'
update WaitTypes set Description = 'Caused when performing synchronization on a callback list in order to remove a callback. It is not expected for this counter to change after server initialization is completed.' where WaitType = 'SOS_CALLBACK_REMOVAL'
update WaitTypes set Description = 'Caused when internal synchronization of the dispatcher pool. This includes when the pool is being adjusted.' where WaitType = 'SOS_DISPATCHER_MUTEX'
update WaitTypes set Description = 'Caused when internal synchronization in the SQL Server memory manager occurs.' where WaitType = 'SOS_LOCALALLOCATORLIST'
update WaitTypes set Description = 'Caused when memory usage is being adjusted among pools.' where WaitType = 'SOS_MEMORY_USAGE_ADJUSTMENT'
update WaitTypes set Description = 'Caused when internal synchronization in memory pools destroys objects from the pool.' where WaitType = 'SOS_OBJECT_STORE_DESTROY_MUTEX'
update WaitTypes set Description = 'Caused when synchronizing access to process affinity settings.' where WaitType = 'SOS_PROCESS_AFFINITY_MUTEX'
update WaitTypes set Description = 'Caused when internal synchronization in the SQL Server memory manager occurs.' where WaitType = 'SOS_RESERVEDMEMBLOCKLIST'
update WaitTypes set Description = 'Caused when a task voluntarily yields the scheduler for other tasks to execute. During this wait the task is waiting for its quantum to be renewed.' where WaitType = 'SOS_SCHEDULER_YIELD'
update WaitTypes set Description = 'Caused when the allocation and freeing of memory that is managed by some memory objects. You can safely ignore this wait if there are no unexplained problems with SQLTrace files not getting written to the disk properly.' where WaitType = 'SOS_SMALL_PAGE_ALLOC'
update WaitTypes set Description = 'Caused during the synchronization of internal store initialization.' where WaitType = 'SOS_STACKSTORE_INIT_MUTEX'
update WaitTypes set Description = 'Caused when tasks are started in a synchronous manner. Most tasks in SQL Server are started in an asynchronous manner, in which control returns to the starter immediately after the task request has been placed on the work queue.' where WaitType = 'SOS_SYNC_TASK_ENQUEUE_EVENT'
update WaitTypes set Description = 'Caused when a memory allocation waits for a resource manager to free up virtual memory.' where WaitType = 'SOS_VIRTUALMEMORY_LOW'
update WaitTypes set Description = 'Caused when a hosted component, such as CLR, waits on a SQL Server event synchronization object.' where WaitType = 'SOSHOST_EVENT'
update WaitTypes set Description = 'Caused during synchronization of memory manager callbacks used by hosted components, such as the CLR.' where WaitType = 'SOSHOST_INTERNAL'
update WaitTypes set Description = 'Caused when a hosted component, such as the CLR, waits on a SQL Server mutex synchronization object.' where WaitType = 'SOSHOST_MUTEX'
update WaitTypes set Description = 'Caused when a hosted component, such as the CLR, waits on a SQL Server reader-writer synchronization object.' where WaitType = 'SOSHOST_RWLOCK'
update WaitTypes set Description = 'Caused when a hosted component, such as the CLR, waits on a SQL Server semaphore synchronization object.' where WaitType = 'SOSHOST_SEMAPHORE'
update WaitTypes set Description = 'Caused when a hosted task sleeps while waiting for a generic event to occur. Hosted tasks are used by hosted components such as the CLR.' where WaitType = 'SOSHOST_SLEEP'
update WaitTypes set Description = 'Caused during synchronization of access to trace streams.' where WaitType = 'SOSHOST_TRACELOCK'
update WaitTypes set Description = 'Caused when a hosted component, such as the CLR, waits for a task to complete.' where WaitType = 'SOSHOST_WAITFORDONE'
update WaitTypes set Description = 'Caused when the CLR waits for an application domain to complete startup.' where WaitType = 'SQLCLR_APPDOMAIN'
update WaitTypes set Description = 'Caused when waiting for access to the loaded assembly list in the appdomain.' where WaitType = 'SQLCLR_ASSEMBLY'
update WaitTypes set Description = 'Caused when the CLR waits for deadlock detection to complete.' where WaitType = 'SQLCLR_DEADLOCK_DETECTION'
update WaitTypes set Description = 'Caused when a CLR task is throttled because it has exceeded its execution quantum. This throttling is done in order to reduce the effect of this resource-intensive task on other tasks.' where WaitType = 'SQLCLR_QUANTUM_PUNISHMENT'
update WaitTypes set Description = 'Caused during internal synchronization, while initializing internal sorting structures.' where WaitType = 'SQLSORT_NORMMUTEX'
update WaitTypes set Description = 'Caused during internal synchronization, while initializing internal sorting structures.' where WaitType = 'SQLSORT_SORTMUTEX'
update WaitTypes set Description = 'Caused when a task is waiting for a background task to flush trace buffers to disk every four seconds.' where WaitType = 'SQLTRACE_BUFFER_FLUSH'
update WaitTypes set Description = 'Caused during synchronization on trace buffers during a file trace.' where WaitType = 'SQLTRACE_LOCK'
update WaitTypes set Description = 'Caused when trace shutdown waits for outstanding trace events to complete.' where WaitType = 'SQLTRACE_SHUTDOWN'
update WaitTypes set Description = 'Caused when a SQL Trace event queue waits for packets to arrive on the queue.' where WaitType = 'SQLTRACE_WAIT_ENTRIES'
update WaitTypes set Description = 'Caused when the shutdown process waits for internal resources to be released to shutdown cleanly.' where WaitType = 'SRVPROC_SHUTDOWN'
update WaitTypes set Description = 'Caused when temporary object drops are synchronized. This wait is rare, and only occurs if a task has requested exclusive access for temp table drops.' where WaitType = 'TEMPOBJ'
update WaitTypes set Description = 'Caused when a task is waiting for a worker to run on. This can indicate that the maximum worker setting is too low, or that batch executions are taking unusually long, thus reducing the number of workers available to satisfy other batches.' where WaitType = 'THREADPOOL'
update WaitTypes set Description = 'Caused during internal synchronization of the Extended Events timer.' where WaitType = 'TIMEPRIV_TIMEPERIOD'
update WaitTypes set Description = '' where WaitType = 'TRACE_EVTNOTIF'
update WaitTypes set Description = 'Caused when the SQL Trace rowset trace provider waits for either a free buffer or a buffer with events to process.' where WaitType = 'TRACEWRITE'
update WaitTypes set Description = 'Caused when waiting for a destroy mode latch on a transaction mark latch. Transaction mark latches are used for synchronization of commits with marked transactions.' where WaitType = 'TRAN_MARKLATCH_DT'
update WaitTypes set Description = 'Caused when waiting for an exclusive mode latch on a marked transaction. Transaction mark latches are used for synchronization of commits with marked transactions.' where WaitType = 'TRAN_MARKLATCH_EX'
update WaitTypes set Description = 'Caused when waiting for a keep mode latch on a marked transaction. Transaction mark latches are used for synchronization of commits with marked transactions.' where WaitType = 'TRAN_MARKLATCH_KP'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'TRAN_MARKLATCH_NL'
update WaitTypes set Description = 'Caused when waiting for a shared mode latch on a marked transaction. Transaction mark latches are used for synchronization of commits with marked transactions.' where WaitType = 'TRAN_MARKLATCH_SH'
update WaitTypes set Description = 'Caused when waiting for an update mode latch on a marked transaction. Transaction mark latches are used for synchronization of commits with marked transactions.' where WaitType = 'TRAN_MARKLATCH_UP'
update WaitTypes set Description = 'Caused during synchronization of access to a transaction by multiple batches.' where WaitType = 'TRANSACTION_MUTEX'
update WaitTypes set Description = 'Caused when transaction log scans wait for memory to be available during memory pressure.' where WaitType = 'UTIL_PAGE_ALLOC'
update WaitTypes set Description = 'Caused when a Virtual Interface Adapter (VIA) provider connection is completed during startup.' where WaitType = 'VIA_ACCEPT'
update WaitTypes set Description = 'Caused during synchronization on access to cached view definitions.' where WaitType = 'VIEW_DEFINITION_MUTEX'
update WaitTypes set Description = 'Caused when waiting for a query notification to be triggered.' where WaitType = 'WAIT_FOR_RESULTS'
update WaitTypes set Description = 'Caused as a result of a WAITFOR Transact-SQL statement. The duration of the wait is determined by the parameters to the statement. This is a user-initiated wait.' where WaitType = 'WAITFOR'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'WAITFOR_TASKSHUTDOWN'
update WaitTypes set Description = 'Caused during synchronization of access to the collection of statistics used to populate sys.dm_os_wait_stats.' where WaitType = 'WAITSTAT_MUTEX'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'WCC'
update WaitTypes set Description = 'Caused when pausing before retrying, after a failed worktable drop.' where WaitType = 'WORKTBL_DROP'
update WaitTypes set Description = 'Caused when a write operation is in progress.' where WaitType = 'WRITE_COMPLETION'
update WaitTypes set Description = 'Caused when waiting for a log flush to complete. Common operations that cause log flushes are checkpoints and transaction commits.' where WaitType = 'WRITELOG'
update WaitTypes set Description = 'Caused when waiting to acquire ownership of a transaction.' where WaitType = 'XACT_OWN_TRANSACTION'
update WaitTypes set Description = 'Caused when waiting for the current owner of a session to release ownership of the session.' where WaitType = 'XACT_RECLAIM_SESSION'
update WaitTypes set Description = 'Caused during synchronization of access to the list of locks for a transaction. In addition to the transaction itself, the list of locks is accessed by operations such as deadlock detection and lock migration during page splits.' where WaitType = 'XACTLOCKINFO'
update WaitTypes set Description = 'Caused during synchronization of defections from a transaction, as well as the number of database locks between enlist members of a transaction.' where WaitType = 'XACTWORKSPACE_MUTEX'
update WaitTypes set Description = 'Caused when Extended Events session buffers are flushed to targets. This wait occurs on a background thread.' where WaitType = 'XE_BUFFERMGR_ALLPROCESSED_EVENT'
update WaitTypes set Description = 'Caused when either of the following conditions is true: (1) An Extended Events session is configured for no event loss, and all buffers in the session are currently full. This can indicate that the buffers for an Extended Events session are too small, or should be partitioned. (2) Audits experience a delay. This can indicate a disk bottleneck on the drive where the audits are written.' where WaitType = 'XE_BUFFERMGR_FREEBUF_EVENT'
update WaitTypes set Description = 'Caused when an Extended Events session that is using asynchronous targets is started or stopped. This wait indicates either of the following: (1) An Extended Events session is registering with a background thread pool. (2) The background thread pool is calculating the required number of threads based on current load.' where WaitType = 'XE_DISPATCHER_CONFIG_SESSION_LIST'
update WaitTypes set Description = 'Caused when a background thread that is used for Extended Events sessions is terminating.' where WaitType = 'XE_DISPATCHER_JOIN'
update WaitTypes set Description = 'Caused when a background thread that is used for Extended Events sessions is waiting for event buffers to process.' where WaitType = 'XE_DISPATCHER_WAIT'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'XE_MODULEMGR_SYNC'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'XE_OLS_LOCK'
update WaitTypes set Description = 'Used for informational purposes only.' where WaitType = 'XE_PACKAGE_LOCK_BACKOFF'
update WaitTypes set Description = '' where WaitType = 'XE_SERVICES_EVENTMANUAL'
update WaitTypes set Description = '' where WaitType = 'XE_SERVICES_MUTEX'
update WaitTypes set Description = '' where WaitType = 'XE_SERVICES_RWLOCK'
update WaitTypes set Description = '' where WaitType = 'XE_SESSION_CREATE_SYNC'
update WaitTypes set Description = '' where WaitType = 'XE_SESSION_FLUSH'
update WaitTypes set Description = '' where WaitType = 'XE_SESSION_SYNC'
update WaitTypes set Description = '' where WaitType = 'XE_STM_CREATE'
update WaitTypes set Description = 'Indicates a background task is waiting for "expired" timers for internal Xevent engine work' where WaitType = 'XE_TIMER_EVENT'
update WaitTypes set Description = '' where WaitType = 'XE_TIMER_MUTEX'
update WaitTypes set Description = '' where WaitType = 'XE_TIMER_TASK_DONE'


-- add helplinks for each wait type
update WaitTypes set HelpLink  = '' where WaitType = 'ABR'
update WaitTypes set HelpLink  = '' where WaitType = 'ASSEMBLY_LOAD'
update WaitTypes set HelpLink  = '' where WaitType = 'ASYNC_DISKPOOL_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'ASYNC_IO_COMPLETION'
update WaitTypes set HelpLink  = '' where WaitType = 'ASYNC_NETWORK_IO'
update WaitTypes set HelpLink  = '' where WaitType = 'AUDIT_GROUPCACHE_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'AUDIT_LOGINCACHE_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'AUDIT_ON_DEMAND_TARGET_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'AUDIT_XE_SESSION_MGR'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUP'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUP_CLIENTLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUP_OPERATOR'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUPBUFFER'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUPIO'
update WaitTypes set HelpLink  = '' where WaitType = 'BACKUPTHREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'BAD_PAGE_PROCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_CONNECTION_RECEIVE_TASK'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_ENDPOINT_STATE_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_EVENTHANDLER'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_INIT'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_MASTERSTART'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_RECEIVE_WAITFOR'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_REGISTERALLENDPOINTS'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_SERVICE'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_TASK_STOP'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_TO_FLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_TRANSMITTER'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_XMIT_SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_XMIT_START'
update WaitTypes set HelpLink  = '' where WaitType = 'BROKER_XMIT_TABLE'
update WaitTypes set HelpLink  = '' where WaitType = 'BUILTIN_HASHKEY_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'CHECK_PRINT_RECORD'
update WaitTypes set HelpLink  = '' where WaitType = 'CHECKPOINT_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'CHKPT'
update WaitTypes set HelpLink  = '' where WaitType = 'CLEAR_DB'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_AUTO_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_CRST'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_JOIN'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_MANUAL_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_MEMORY_SPY'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_MONITOR'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_RWLOCK_READER'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_RWLOCK_WRITER'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_SEMAPHORE'
update WaitTypes set HelpLink  = '' where WaitType = 'CLR_TASK_START'
update WaitTypes set HelpLink  = '' where WaitType = 'CLRHOST_STATE_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'CMEMTHREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'COMMIT_TABLE'
update WaitTypes set HelpLink  = '' where WaitType = 'CURSOR'
update WaitTypes set HelpLink  = '' where WaitType = 'CURSOR_ASYNC'
update WaitTypes set HelpLink  = 'K4BRB' where WaitType = 'CXPACKET'  -- SQLdm 10.2.2 (Varun Chopra) SQLDM-25300 - Doc Issue - Broken help link
update WaitTypes set HelpLink  = '' where WaitType = 'CXROWSET_SYNC'
update WaitTypes set HelpLink  = '' where WaitType = 'DAC_INIT'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRROR_DBM_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRROR_DBM_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRROR_EVENTS_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRROR_SEND'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRROR_WORKER_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'DBMIRRORING_CMD'
update WaitTypes set HelpLink  = '' where WaitType = 'DBTABLE'
update WaitTypes set HelpLink  = '' where WaitType = 'DEADLOCK_ENUM_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'DEADLOCK_TASK_SEARCH'
update WaitTypes set HelpLink  = '' where WaitType = 'DEBUG'
update WaitTypes set HelpLink  = '' where WaitType = 'DISABLE_VERSIONING'
update WaitTypes set HelpLink  = '' where WaitType = 'DISKIO_SUSPEND'
update WaitTypes set HelpLink  = '' where WaitType = 'DISPATCHER_QUEUE_SEMAPHORE'
update WaitTypes set HelpLink  = '' where WaitType = 'DLL_LOADING_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'DROPTEMP'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC_ABORT_REQUEST'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC_RESOLVE'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC_STATE'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC_TMDOWN_REQUEST'
update WaitTypes set HelpLink  = '' where WaitType = 'DTC_WAITFOR_OUTCOME'
update WaitTypes set HelpLink  = '' where WaitType = 'DUMP_LOG_COORDINATOR'
update WaitTypes set HelpLink  = '' where WaitType = 'DUMP_LOG_COORDINATOR_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'DUMPTRIGGER'
update WaitTypes set HelpLink  = '' where WaitType = 'EC'
update WaitTypes set HelpLink  = '' where WaitType = 'EE_PMOLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'EE_SPECPROC_MAP_INIT'
update WaitTypes set HelpLink  = '' where WaitType = 'ENABLE_VERSIONING'
update WaitTypes set HelpLink  = '' where WaitType = 'ERROR_REPORTING_MANAGER'
update WaitTypes set HelpLink  = '' where WaitType = 'EXCHANGE'
update WaitTypes set HelpLink  = '' where WaitType = 'EXECSYNC'
update WaitTypes set HelpLink  = '' where WaitType = 'EXECUTION_PIPE_EVENT_INTERNAL'
update WaitTypes set HelpLink  = '' where WaitType = 'FAILPOINT'
update WaitTypes set HelpLink  = '' where WaitType = 'FCB_REPLICA_READ'
update WaitTypes set HelpLink  = '' where WaitType = 'FCB_REPLICA_START'
update WaitTypes set HelpLink  = '' where WaitType = 'FCB_REPLICA_WRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'FS_FC_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FS_GARBAGE_COLLECTOR_SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'FS_HEADER_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FS_LOGTRUNC_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FSA_FORCE_OWN_XACT'
update WaitTypes set HelpLink  = '' where WaitType = 'FSAGENT'
update WaitTypes set HelpLink  = '' where WaitType = 'FSTR_CONFIG_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'FSTR_CONFIG_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_COMPROWSET_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_IFTS_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_IFTS_SCHEDULER_IDLE_WAIT'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_IFTSHC_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_IFTSISM_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_MASTER_MERGE'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_METADATA_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_RESTART_CRAWL'
update WaitTypes set HelpLink  = '' where WaitType = 'FT_RESUME_CRAWL'
update WaitTypes set HelpLink  = '' where WaitType = 'FULLTEXT GATHERER'
update WaitTypes set HelpLink  = '' where WaitType = 'GUARDIAN'
update WaitTypes set HelpLink  = '' where WaitType = 'HTTP_ENDPOINT_COLLCREATE'
update WaitTypes set HelpLink  = '' where WaitType = 'HTTP_ENUMERATION'
update WaitTypes set HelpLink  = '' where WaitType = 'HTTP_START'
update WaitTypes set HelpLink  = '' where WaitType = 'IMP_IMPORT_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'IMPPROV_IOWAIT'
update WaitTypes set HelpLink  = '' where WaitType = 'INDEX_USAGE_STATS_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'INTERNAL_TESTING'
update WaitTypes set HelpLink  = '' where WaitType = 'IO_AUDIT_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'IO_COMPLETION'
update WaitTypes set HelpLink  = '' where WaitType = 'IO_RETRY'
update WaitTypes set HelpLink  = '' where WaitType = 'IOAFF_RANGE_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'KSOURCE_WAKEUP'
update WaitTypes set HelpLink  = '' where WaitType = 'KTM_ENLISTMENT'
update WaitTypes set HelpLink  = '' where WaitType = 'KTM_RECOVERY_MANAGER'
update WaitTypes set HelpLink  = '' where WaitType = 'KTM_RECOVERY_RESOLUTION'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_DT'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_EX'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_KP'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_NL'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_SH'
update WaitTypes set HelpLink  = '' where WaitType = 'LATCH_UP'
update WaitTypes set HelpLink  = '' where WaitType = 'LAZYWRITER_SLEEP'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_BU'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_IS'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_IU'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_IX'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RIn_NL'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RIn_S'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RIn_U'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RIn_X'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RS_S'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RS_U'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RX_S'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RX_U'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_RX_X'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_S'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_SCH_M'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_SCH_S'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_SIU'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_SIX'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_U'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_UIX'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms190345.aspx' where WaitType = 'LCK_M_X'
update WaitTypes set HelpLink  = 'QYBRB' where WaitType = 'LOGBUFFER'  -- SQLdm 10.2.2 (Varun Chopra) SQLDM-25300 - Doc Issue - Broken help link
update WaitTypes set HelpLink  = '' where WaitType = 'LOGGENERATION'
update WaitTypes set HelpLink  = '' where WaitType = 'LOGMGR'
update WaitTypes set HelpLink  = '' where WaitType = 'LOGMGR_FLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'LOGMGR_QUEUE'
update WaitTypes set HelpLink  = 'NIBRB' where WaitType = 'LOGMGR_RESERVE_APPEND' -- SQLdm 10.2.2 (Varun Chopra) SQLDM-25300 - Doc Issue - Broken help link
update WaitTypes set HelpLink  = '' where WaitType = 'LOWFAIL_MEMMGR_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'METADATA_LAZYCACHE_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'MIRROR_SEND_MESSAGE'
update WaitTypes set HelpLink  = '' where WaitType = 'MISCELLANEOUS'
update WaitTypes set HelpLink  = '' where WaitType = 'MSQL_DQ'
update WaitTypes set HelpLink  = '' where WaitType = 'MSQL_SYNC_PIPE'
update WaitTypes set HelpLink  = '' where WaitType = 'MSQL_XACT_MGR_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'MSQL_XACT_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'MSQL_XP'
update WaitTypes set HelpLink  = '' where WaitType = 'MSSEARCH'
update WaitTypes set HelpLink  = '' where WaitType = 'NET_WAITFOR_PACKET'
update WaitTypes set HelpLink  = '' where WaitType = 'NODE_CACHE_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'OLEDB'
update WaitTypes set HelpLink  = '' where WaitType = 'ONDEMAND_TASK_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_DT'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_EX'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_KP'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_NL'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_SH'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGEIOLATCH_UP'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_DT'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_EX'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_KP'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_NL'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_SH'
update WaitTypes set HelpLink  = '' where WaitType = 'PAGELATCH_UP'
update WaitTypes set HelpLink  = '' where WaitType = 'PARALLEL_BACKUP_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'PERFORMANCE_COUNTERS_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'PLACEHOLDER1'
update WaitTypes set HelpLink  = '' where WaitType = 'PLACEHOLDER2'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_ABR'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_AUDIT_ACCESS_EVENTLOG'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_AUDIT_ACCESS_SECLOG'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CLOSEBACKUPMEDIA'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CLOSEBACKUPTAPE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CLOSEBACKUPVDIDEVICE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CLUSAPI_CLUSTERRESOURCECONTROL'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_COCREATEINSTANCE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_COGETCLASSOBJECT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_CREATEACCESSOR'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_DELETEROWS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_GETCOMMANDTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_GETDATA'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_GETNEXTROWS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_GETRESULT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_GETROWSBYBOOKMARK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBFLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBLOCKREGION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBREADAT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBSETSIZE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBSTAT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBUNLOCKREGION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_LBWRITEAT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_QUERYINTERFACE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_RELEASE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_RELEASEACCESSOR'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_RELEASEROWS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_RELEASESESSION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_RESTARTPOSITION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_SEQSTRMREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_SEQSTRMREADANDWRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_SETDATAFAILURE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_SETPARAMETERINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_SETPARAMETERPROPERTIES'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMLOCKREGION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMSEEKANDREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMSEEKANDWRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMSETSIZE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMSTAT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_COM_STRMUNLOCKREGION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CONSOLEWRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_CREATEPARAM'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DEBUG'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSADDLINK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSLINKEXISTCHECK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSLINKHEALTHCHECK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSREMOVELINK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSREMOVEROOT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSROOTFOLDERCHECK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSROOTINIT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DFSROOTSHARECHECK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_ABORT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_ABORTREQUESTDONE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_BEGINTRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_COMMITREQUESTDONE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_ENLIST'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_DTC_PREPAREREQUESTDONE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_FILESIZEGET'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_ABORTTRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_COMMITTRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_FSAOLEDB_STARTTRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_FSRECOVER_UNCONDITIONALUNDO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_GETRMINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_LOCKMONITOR'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_MSS_RELEASE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_ODBCOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLE_UNINIT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_ABORTORCOMMITTRAN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_ABORTTRAN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_GETDATASOURCE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_GETLITERALINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_GETPROPERTIES'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_GETPROPERTYINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_GETSCHEMALOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_JOINTRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_RELEASE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDB_SETPROPERTIES'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OLEDBOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_ACCEPTSECURITYCONTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_ACQUIRECREDENTIALSHANDLE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_AUTHENTICATIONOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_AUTHORIZATIONOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_AUTHZGETINFORMATIONFROMCONTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_AUTHZINITIALIZECONTEXTFROMSID'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_AUTHZINITIALIZERESOURCEMANAGER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_BACKUPREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CLOSEHANDLE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CLUSTEROPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_COMOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_COMPLETEAUTHTOKEN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_COPYFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CREATEDIRECTORY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CREATEFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CRYPTACQUIRECONTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CRYPTIMPORTKEY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_CRYPTOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DECRYPTMESSAGE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DELETEFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DELETESECURITYCONTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DEVICEIOCONTROL'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DEVICEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DIRSVC_NETWORKOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DISCONNECTNAMEDPIPE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DOMAINSERVICESOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DSGETDCNAME'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_DTCOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_ENCRYPTMESSAGE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FILEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FINDFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FLUSHFILEBUFFERS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FORMATMESSAGE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FREECREDENTIALSHANDLE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_FREELIBRARY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GENERICOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETADDRINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETCOMPRESSEDFILESIZE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETDISKFREESPACE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETFILEATTRIBUTES'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETFILESIZE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETLONGPATHNAME'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETPROCADDRESS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETVOLUMENAMEFORVOLUMEMOUNTPOINT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_GETVOLUMEPATHNAME'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_INITIALIZESECURITYCONTEXT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_LIBRARYOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_LOADLIBRARY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_LOGONUSER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_LOOKUPACCOUNTSID'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_MESSAGEQUEUEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_MOVEFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETGROUPGETUSERS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETLOCALGROUPGETMEMBERS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETUSERGETGROUPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETUSERGETLOCALGROUPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETUSERMODALSGET'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_NETVALIDATEPASSWORDPOLICYFREE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_OPENDIRECTORY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_PIPEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_PROCESSOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_QUERYREGISTRY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_QUERYSECURITYCONTEXTTOKEN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_REMOVEDIRECTORY'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_REPORTEVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_REVERTTOSELF'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_RSFXDEVICEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SECURITYOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SERVICEOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SETENDOFFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SETFILEPOINTER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SETFILEVALIDDATA'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SETNAMEDSECURITYINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SQLCLROPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_SQMLAUNCH'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_VERIFYSIGNATURE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_VSSOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_WAITFORSINGLEOBJECT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_WINSOCKOPS'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_WRITEFILE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_WRITEFILEGATHER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_OS_WSASETLASTERROR'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_REENLIST'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_RESIZELOG'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_ROLLFORWARDREDO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_ROLLFORWARDUNDO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SB_STOPENDPOINT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SERVER_STARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SETRMINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SHAREDMEM_GETDATA'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SNIOPEN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SOSHOST'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_SOSTESTING'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_STARTRM'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_STREAMFCB_CHECKPOINT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_STREAMFCB_RECOVER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_STRESSDRIVER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_TESTING'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_TRANSIMPORT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_UNMARSHALPROPAGATIONTOKEN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_VSS_CREATESNAPSHOT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_VSS_CREATEVOLUMESNAPSHOT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_CALLBACKEXECUTE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_DISPATCHER'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_ENGINEINIT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_GETTARGETSTATE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_SESSIONCOMMIT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_TARGETFINALIZE'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_TARGETINIT'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XE_TIMERRUN'
update WaitTypes set HelpLink  = '' where WaitType = 'PREEMPTIVE_XETESTING'
update WaitTypes set HelpLink  = 'http://msdn.microsoft.com/en-us/library/ms174269.aspx' where WaitType = 'PRINT_ROLLBACK_PROGRESS'
update WaitTypes set HelpLink  = '' where WaitType = 'QNMANAGER_ACQUIRE'
update WaitTypes set HelpLink  = '' where WaitType = 'QPJOB_KILL'
update WaitTypes set HelpLink  = '' where WaitType = 'QPJOB_WAITFOR_ABORT'
update WaitTypes set HelpLink  = '' where WaitType = 'QRY_MEM_GRANT_INFO_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_ERRHDL_SERVICE_DONE'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_EXECUTION_INDEX_SORT_EVENT_OPEN'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_NOTIFICATION_MGR_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_NOTIFICATION_SUBSCRIPTION_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_NOTIFICATION_TABLE_MGR_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_NOTIFICATION_UNITTEST_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_OPTIMIZER_PRINT_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_TRACEOUT'
update WaitTypes set HelpLink  = '' where WaitType = 'QUERY_WAIT_ERRHDL_SERVICE'
update WaitTypes set HelpLink  = '' where WaitType = 'RECOVER_CHANGEDB'
update WaitTypes set HelpLink  = '' where WaitType = 'REPL_CACHE_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'REPL_HISTORYCACHE_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'REPL_SCHEMA_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'REPL_TRANHASHTABLE_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'REPLICA_WRITES'
update WaitTypes set HelpLink  = '' where WaitType = 'REQUEST_DISPENSER_PAUSE'
update WaitTypes set HelpLink  = '' where WaitType = 'REQUEST_FOR_DEADLOCK_SEARCH'
update WaitTypes set HelpLink  = '' where WaitType = 'RESMGR_THROTTLED'
update WaitTypes set HelpLink  = '' where WaitType = 'RESOURCE_QUEUE'
update WaitTypes set HelpLink  = '' where WaitType = 'RESOURCE_SEMAPHORE'
update WaitTypes set HelpLink  = '' where WaitType = 'RESOURCE_SEMAPHORE_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'RESOURCE_SEMAPHORE_QUERY_COMPILE'
update WaitTypes set HelpLink  = '' where WaitType = 'RESOURCE_SEMAPHORE_SMALL_QUERY'
update WaitTypes set HelpLink  = '' where WaitType = 'RFS_MSGPUMP'
update WaitTypes set HelpLink  = '' where WaitType = 'RFS_NOTIFYTHREAD'
update WaitTypes set HelpLink  = '' where WaitType = 'RFS_STARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'RG_RECONFIG'
update WaitTypes set HelpLink  = '' where WaitType = 'SEC_DROP_TEMP_KEY'
update WaitTypes set HelpLink  = '' where WaitType = 'SECURITY_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SEQUENTIAL_GUID'
update WaitTypes set HelpLink  = '' where WaitType = 'SERVER_IDLE_CHECK'
update WaitTypes set HelpLink  = '' where WaitType = 'SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_BPOOL_FLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_DBSTARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_DCOMSTARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_MSDBSTARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_SYSTEMTASK'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_TASK'
update WaitTypes set HelpLink  = '' where WaitType = 'SLEEP_TEMPDBSTARTUP'
update WaitTypes set HelpLink  = '' where WaitType = 'SNI_CRITICAL_SECTION'
update WaitTypes set HelpLink  = '' where WaitType = 'SNI_HTTP_ACCEPT'
update WaitTypes set HelpLink  = '' where WaitType = 'SNI_HTTP_WAITFOR_0_DISCON'
update WaitTypes set HelpLink  = '' where WaitType = 'SNI_LISTENER_ACCESS'
update WaitTypes set HelpLink  = '' where WaitType = 'SNI_TASK_COMPLETION'
update WaitTypes set HelpLink  = '' where WaitType = 'SOAP_READ'
update WaitTypes set HelpLink  = '' where WaitType = 'SOAP_WRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_CALLBACK_REMOVAL'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_DISPATCHER_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_LOCALALLOCATORLIST'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_MEMORY_USAGE_ADJUSTMENT'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_OBJECT_STORE_DESTROY_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_PROCESS_AFFINITY_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_RESERVEDMEMBLOCKLIST'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_SCHEDULER_YIELD'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_SMALL_PAGE_ALLOC'
update WaitTypes set HelpLink  = 'N4BRB' where WaitType = 'SOS_STACKSTORE_INIT_MUTEX' -- SQLdm 10.2.2 (Varun Chopra) SQLDM-25300 - Doc Issue - Broken help link
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_SYNC_TASK_ENQUEUE_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'SOS_VIRTUALMEMORY_LOW'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_INTERNAL'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_SEMAPHORE'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_SLEEP'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_TRACELOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'SOSHOST_WAITFORDONE'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLCLR_APPDOMAIN'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLCLR_ASSEMBLY'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLCLR_DEADLOCK_DETECTION'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLCLR_QUANTUM_PUNISHMENT'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLSORT_NORMMUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLSORT_SORTMUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLTRACE_BUFFER_FLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLTRACE_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLTRACE_SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'SQLTRACE_WAIT_ENTRIES'
update WaitTypes set HelpLink  = '' where WaitType = 'SRVPROC_SHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'TEMPOBJ'
update WaitTypes set HelpLink  = 'OoBRB' where WaitType = 'THREADPOOL' -- SQLdm 10.2.2 (Varun Chopra) SQLDM-25300 - Doc Issue - Broken help link
update WaitTypes set HelpLink  = '' where WaitType = 'TIMEPRIV_TIMEPERIOD'
update WaitTypes set HelpLink  = '' where WaitType = 'TRACE_EVTNOTIF'
update WaitTypes set HelpLink  = '' where WaitType = 'TRACEWRITE'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_DT'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_EX'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_KP'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_NL'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_SH'
update WaitTypes set HelpLink  = '' where WaitType = 'TRAN_MARKLATCH_UP'
update WaitTypes set HelpLink  = '' where WaitType = 'TRANSACTION_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'UTIL_PAGE_ALLOC'
update WaitTypes set HelpLink  = '' where WaitType = 'VIA_ACCEPT'
update WaitTypes set HelpLink  = '' where WaitType = 'VIEW_DEFINITION_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'WAIT_FOR_RESULTS'
update WaitTypes set HelpLink  = '' where WaitType = 'WAITFOR'
update WaitTypes set HelpLink  = '' where WaitType = 'WAITFOR_TASKSHUTDOWN'
update WaitTypes set HelpLink  = '' where WaitType = 'WAITSTAT_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'WCC'
update WaitTypes set HelpLink  = '' where WaitType = 'WORKTBL_DROP'
update WaitTypes set HelpLink  = '' where WaitType = 'WRITE_COMPLETION'
update WaitTypes set HelpLink  = '' where WaitType = 'WRITELOG'
update WaitTypes set HelpLink  = '' where WaitType = 'XACT_OWN_TRANSACTION'
update WaitTypes set HelpLink  = '' where WaitType = 'XACT_RECLAIM_SESSION'
update WaitTypes set HelpLink  = '' where WaitType = 'XACTLOCKINFO'
update WaitTypes set HelpLink  = '' where WaitType = 'XACTWORKSPACE_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_BUFFERMGR_ALLPROCESSED_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_BUFFERMGR_FREEBUF_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_DISPATCHER_CONFIG_SESSION_LIST'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_DISPATCHER_JOIN'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_DISPATCHER_WAIT'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_MODULEMGR_SYNC'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_OLS_LOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_PACKAGE_LOCK_BACKOFF'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SERVICES_EVENTMANUAL'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SERVICES_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SERVICES_RWLOCK'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SESSION_CREATE_SYNC'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SESSION_FLUSH'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_SESSION_SYNC'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_STM_CREATE'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_TIMER_EVENT'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_TIMER_MUTEX'
update WaitTypes set HelpLink  = '' where WaitType = 'XE_TIMER_TASK_DONE'

---------------------------------------------------------------------------------
--XE wait type maps
-- WaitType, SQL Platform, xe_map
---------------------------------------------------------------------------------
truncate table XEMapKeys
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BAD_PAGE_PROCESS', 10, 231)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BAD_PAGE_PROCESS', 11, 238)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_EVENTHANDLER', 10, 174)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_EVENTHANDLER', 11, 178)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_RECEIVE_WAITFOR', 10, 117)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_RECEIVE_WAITFOR', 11, 121)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_TO_FLUSH', 10, 350)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_TO_FLUSH', 11, 397)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_TRANSMITTER', 10, 169)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'BROKER_TRANSMITTER', 11, 173)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CHECKPOINT_QUEUE', 10, 129)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CHECKPOINT_QUEUE', 11, 133)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CHKPT', 10, 101)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CHKPT', 11, 101)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CLR_SEMAPHORE', 10, 216)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'CLR_SEMAPHORE', 11, 223)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'DBMIRROR_EVENTS_QUEUE', 10, 140)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'DBMIRROR_EVENTS_QUEUE', 11, 144)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'KSOURCE_WAKEUP', 10, 157)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'KSOURCE_WAKEUP', 11, 161)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'LOGMGR_QUEUE', 10, 127)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'LOGMGR_QUEUE', 11, 131)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'ONDEMAND_TASK_QUEUE', 10, 126)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'ONDEMAND_TASK_QUEUE', 11, 130)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'REQUEST_FOR_DEADLOCK_SEARCH', 10, 128)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'REQUEST_FOR_DEADLOCK_SEARCH', 11, 132)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'RESOURCE_QUEUE', 10, 111)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'RESOURCE_QUEUE', 11, 115)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'SLEEP_SYSTEMTASK', 10, 106)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'SLEEP_SYSTEMTASK', 11, 110)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'SLEEP_TASK', 10, 105)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'SLEEP_TASK', 11, 109)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'WAITFOR', 10, 189)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'WAITFOR', 11, 195)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'XE_DISPATCHER_WAIT', 10, 346)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'XE_DISPATCHER_WAIT', 11, 393)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'XE_TIMER_EVENT', 10, 344)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'XE_TIMER_EVENT', 11, 391)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'DISPATCHER_QUEUE_SEMAPHORE', 10, 330)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'DISPATCHER_QUEUE_SEMAPHORE', 11, 377)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'FILESTREAM_WORKITEM_QUEUE', 11, 367)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'FT_IFTSHC_MUTEX', 10, 585)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'FT_IFTSHC_MUTEX', 11, 635)
INSERT [dbo].[XEMapKeys] ([WaitType], [SQLVersion], [MapKey]) VALUES (N'SP_SERVER_DIAGNOSTICS_SLEEP', 11, 736)


--START: SQLdm 10.0 (srisht purohit) -Match Type for Custom Dashboard module
if (select isnull(object_id('tempdb..#upgrade_match_type'), 0)) <> 0 
begin 
	print 'truncating #upgrade_match_type'
	TRUNCATE TABLE #upgrade_match_type
end 
ELSE
begin
	print 'creating #upgrade_match_type'

	CREATE TABLE #upgrade_match_type (TempMatchID [int] NOT NULL,
		TempMatchType [nvarchar](250) NOT NULL,
	PRIMARY KEY CLUSTERED --Created a not named constraint, to avoid the error that comes when constraint has not been dropped yet
	(
		TempMatchID ASC
	)
	)
END	
     
INSERT INTO #upgrade_match_type (TempMatchID, TempMatchType) values (1,'Single Instance')
INSERT INTO #upgrade_match_type (TempMatchID, TempMatchType) values(2,'Multiple Instance')
INSERT INTO #upgrade_match_type (TempMatchID, TempMatchType) values(3,'Tag Name')
INSERT INTO #upgrade_match_type (TempMatchID, TempMatchType) values(4,'All Instances')


-- insert new rows 
INSERT INTO CustomDashboardMatchTypes ([MatchID], [MatchType])
	SELECT TempMatchID, TempMatchType FROM #upgrade_match_type 
		WHERE TempMatchID not in (select [MatchID] from CustomDashboardMatchTypes)
-- update all 
UPDATE CustomDashboardMatchTypes
	SET   [MatchType] = TempMatchType
		FROM #upgrade_match_type 
	WHERE
		[MatchID] = TempMatchID 


--END: SQLdm 10.0 (srisht purohit) -Match Type for Custom Dashboard module

--START: SQLdm 10.0 (srisht purohit) -Widgets Type for Custom Dashboard module
if (select isnull(object_id('tempdb..#upgrade_widget_type'), 0)) <> 0 
begin 
	print 'truncating #upgrade_widget_type'
	truncate TABLE #upgrade_widget_type
end 
ELSE
begin
	print 'creating #upgrade_widget_type'

	CREATE TABLE #upgrade_widget_type (TempWidgetTypeID [int] NOT NULL,
		TempWidgetType [nvarchar](250) NOT NULL,
	 PRIMARY KEY CLUSTERED 
	(
		TempWidgetTypeID ASC
	)
	)
END	
     
INSERT INTO #upgrade_widget_type (TempWidgetTypeID, TempWidgetType) values (1,'Single Value')
INSERT INTO #upgrade_widget_type (TempWidgetTypeID, TempWidgetType) values(2,'Mini-timeline')
INSERT INTO #upgrade_widget_type (TempWidgetTypeID, TempWidgetType) values(3,'Value and Timeline')
INSERT INTO #upgrade_widget_type (TempWidgetTypeID, TempWidgetType) values(4,'List of Values')
INSERT INTO #upgrade_widget_type (TempWidgetTypeID, TempWidgetType) values(5,'Large Timeline')

-- insert new rows 
INSERT INTO CustomDashboardWidgetTypes ([WidgetTypeID], [WidgetType])
	SELECT TempWidgetTypeID, TempWidgetType FROM #upgrade_widget_type 
		WHERE TempWidgetTypeID not in (select [WidgetTypeID] from CustomDashboardWidgetTypes)
-- update all 
UPDATE CustomDashboardWidgetTypes
	SET   [WidgetType] = TempWidgetType
		FROM #upgrade_widget_type 
	WHERE
		[WidgetTypeID] = TempWidgetTypeID 




--END: SQLdm 10.0 (srisht purohit) -Widgets Type for Custom Dashboard module

--- Create Dashboard Layout Defaults
IF (SELECT COUNT(*) FROM [dbo].DashboardLayouts) = 0
BEGIN
	declare @xmlConfig nvarchar(max)
	SET IDENTITY_INSERT [dbo].DashboardLayouts ON
	SELECT @xmlConfig = '<?xml version="1.0" encoding="utf-16"?><DashboardConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">'
		 + '<Panels>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>0</Row><Panel>Cpu</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>0</Row><Panel>ServerWaits</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>1</Row><Panel>Memory</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>1</Row><Panel>Cache</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>2</Row><Panel>Network</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>2</Row><Panel>Sessions</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>Disk</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>3</Row><Panel>Databases</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>SQLServerPhysicalIO</Panel></DashboardPanelConfiguration>'
		 + '</Panels><Name>SQL Server 2005 and later</Name><Columns>2</Columns><Rows>4</Rows></DashboardConfiguration>'
	INSERT INTO [dbo].DashboardLayouts (DashboardLayoutID, Name, Configuration) VALUES (1, 'SQL Server 2005 and later', @xmlConfig)
	SELECT @xmlConfig = '<?xml version="1.0" encoding="utf-16"?><DashboardConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">'
		 + '<Panels>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>0</Row><Panel>Cpu</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>0</Row><Panel>LockWaits</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>1</Row><Panel>Memory</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>1</Row><Panel>Cache</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>2</Row><Panel>Network</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>2</Row><Panel>Sessions</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>Disk</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>3</Row><Panel>Databases</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>SQLServerPhysicalIO</Panel></DashboardPanelConfiguration>'
		 + '</Panels><Name>SQL Server 2000</Name><Columns>2</Columns><Rows>4</Rows></DashboardConfiguration>'
	INSERT INTO [dbo].DashboardLayouts (DashboardLayoutID, Name, Configuration) VALUES (2, 'SQL Server 2000', @xmlConfig)
	SELECT @xmlConfig = '<?xml version="1.0" encoding="utf-16"?><DashboardConfiguration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">'
		 + '<Panels>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>0</Row><Panel>Memory</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>0</Row><Panel>Disk</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>1</Row><Panel>Databases</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>1</Row><Panel>FileActivity</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>2</Row><Panel>TempDB</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>2</Row><Panel>Sessions</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>Cpu</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>1</Column><Row>3</Row><Panel>LockWaits</Panel></DashboardPanelConfiguration>'
			 + '<DashboardPanelConfiguration><Column>0</Column><Row>3</Row><Panel>SQLServerPhysicalIO</Panel></DashboardPanelConfiguration>'
		 + '</Panels><Name>Activity</Name><Columns>2</Columns><Rows>4</Rows></DashboardConfiguration>'
	INSERT INTO [dbo].DashboardLayouts (DashboardLayoutID, Name, Configuration) VALUES (3, 'Activity', @xmlConfig)
	SET IDENTITY_INSERT [dbo].DashboardLayouts OFF
END


----------------Update the RDS and Azure Dashoboard---------------------------------------------------------
EXEC p_UpdateDashboardLayouts

--------------------------------------------------------------------------------------------
--- Application Security

-- Add app security flag to RepositoryInfo table
IF (SELECT COUNT([Internal_Value]) FROM [dbo].[RepositoryInfo] WHERE [Name] = 'ApplicationSecurityEnabled') = 0
INSERT INTO [dbo].[RepositoryInfo] ([Name],[Internal_Value],[Character_Value]) VALUES ('ApplicationSecurityEnabled',0,'')

--------------------------------------------------------------------------------------------
--- Copyright

-- Add copyright to RepositoryInfo table
IF (SELECT COUNT(*) FROM [dbo].[RepositoryInfo] WHERE [Name] = 'Copyright') = 0
	INSERT INTO [dbo].[RepositoryInfo] ([Name],[Character_Value]) VALUES ('Copyright','Copyright © 2003-2017 Idera, Inc.')
ELSE
	UPDATE [dbo].[RepositoryInfo] SET [Character_Value] = 'Copyright © 2003-2017 Idera, Inc.' WHERE [Name] = 'Copyright' AND [Character_Value] LIKE '%Idera%'

---- Updating Grooming Details

if not exists (select [Internal_Value] from RepositoryInfo where [Name] = 'GroomForecasting')
begin
	insert into [RepositoryInfo] ([Name],[Internal_Value]) values ('GroomForecasting',1095);
end
---- Updating Aggregation Details
if not exists (select [Internal_Value] from RepositoryInfo where [Name] = 'AggregateForecasting')
begin
	insert into [RepositoryInfo] ([Name],[Internal_Value]) values ('AggregateForecasting',1095);
end

----------------------

--START : SQLdm 10.0 (srishti) - Scripts for Prescriptive Analytics
if (select isnull(object_id('tempdb..#upgrade_PrescriptiveAnalyzerCategory'), 0)) <> 0 
begin 
	print 'truncating #upgrade_PrescriptiveAnalyzerCategory'
	TRUNCATE TABLE #upgrade_PrescriptiveAnalyzerCategory
end 
ELSE
begin
	print 'creating #upgrade_PrescriptiveAnalyzerCategory'

	CREATE TABLE #upgrade_PrescriptiveAnalyzerCategory (TempID [int] NOT NULL,
		TempCategory [nchar](50) NULL,
	 PRIMARY KEY CLUSTERED 
	(
		TempID ASC
	)
	)
END	
     
INSERT INTO #upgrade_PrescriptiveAnalyzerCategory (TempID, TempCategory) values (1,'SnapshotAnalyzer')
INSERT INTO #upgrade_PrescriptiveAnalyzerCategory (TempID, TempCategory) values (2,'DatabaseAnalyzer')
INSERT INTO #upgrade_PrescriptiveAnalyzerCategory (TempID, TempCategory) values (3,'WorkLoadAnalyzer')


-- insert new rows 
INSERT INTO PrescriptiveAnalyzerCategory ([ID], [Category])
	SELECT TempID, TempCategory FROM #upgrade_PrescriptiveAnalyzerCategory 
		WHERE TempID not in (select [ID] from PrescriptiveAnalyzerCategory)
-- update all 
UPDATE PrescriptiveAnalyzerCategory
	SET   [Category] = TempCategory
		FROM #upgrade_PrescriptiveAnalyzerCategory 
	WHERE
		[ID] = TempID 

--END : SQLdm 10.0 (Rajesh) - improved script  Predictive Analytics

--Start : Vineet dm 10.0 - PrescriptiveAnalyzer master data insertion
if (select isnull(object_id('tempdb..#upgrade_PrescriptiveAnalyzer'), 0)) <> 0 
begin 
	print 'truncating #upgrade_PrescriptiveAnalyzer'
	TRUNCATE TABLE #upgrade_PrescriptiveAnalyzer
end 
ELSE
begin
	print 'creating #upgrade_PrescriptiveAnalyzer'

	CREATE TABLE #upgrade_PrescriptiveAnalyzer (TempID [int] NOT NULL,
		TempName [nchar](50) NULL, TempCategoryId [int] NOT NULL
	 PRIMARY KEY CLUSTERED 
	(
		TempID ASC
	)
	)
END	
     

INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (1,'BackupAndRecoveryAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (2,'DBPropertiesAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (3,'DBSecurityAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (4,'DisabledIndexAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (5,'FragmentedIndexesAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (6,'HighIndexUpdatesAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (7,'IndexContentionAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (8,'IoAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (9,'MemoryAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (10,'NetworkAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (11,'OutOfDateStatsAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (12,'OverlappingIndexesAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (13,'ProcessorAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (14,'ServerAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (15,'ServerConfigurationAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (16,'SQLModuleOptionsAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (17,'WaitStatsAnalyzer', 1)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (18,'NonIncrementalColumnStatAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (19,'HashIndexAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (20,'QueryStoreAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (21,'InMemoryTableIndexAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (22,'QueryAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (23,'ColumnStoreIndexAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (24,'FilteredIndexAnalyzer', 2)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (25,'HighCPUTimeProcedureAnalyzer', 2) 
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (26,'LargeTableStatsAnalyzer', 2) 
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (101,'CloseCursorAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (102,'CompositeExpressionSearchAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (103,'FastForwardCursorAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (104,'FunctionInSearchAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (105,'HintAbuseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (106,'LeftSideExpressionInWhereClauseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (107,'LeftUsedInSearchAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (108,'LikeAbuseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (109,'MissingJoinAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (110,'NakedInsertAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (111,'NestedMinMaxAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (112,'SelectDistinctAbuseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (113,'SemiJoinAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (114,'SelectStarAbuseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (115,'TopTheHardWayAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (116,'TopVsRowCountAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (117,'TwoExpressionCoalesceAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (118,'UnfilteredDeleteAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (119,'UnionSetAbuseAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (201,'EarlyAbortAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (202,'MissingIndexAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (203,'NotInSubqueryAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (204,'OperatorsAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (205,'WarningAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (301,'ExecutionStatsVariationAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (302,'DeadlockAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (303,'BlockingAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (304,'TransactionAnalyzer', 3)
INSERT INTO #upgrade_PrescriptiveAnalyzer (TempID, TempName, TempCategoryId) values (305,'JobAnalyzer', 3)


-- insert new rows 
INSERT INTO PrescriptiveAnalyzer ([ID], [Name], [AnalyzerCategoryID])
	SELECT TempID, TempName, TempCategoryId FROM #upgrade_PrescriptiveAnalyzer 
		WHERE TempID not in (select [ID] from PrescriptiveAnalyzer)
-- update all 
UPDATE PrescriptiveAnalyzer
	SET   [Name] = TempName,
	[AnalyzerCategoryID] = TempCategoryId
		FROM #upgrade_PrescriptiveAnalyzer 
	WHERE
		[ID] = TempID 

		
--End : Vineet dm 10.0 - PrescriptiveAnalyzer master data insertion


--END : SQLdm 10.0 (Rajesh) - Predictive Analytics

--START: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation status master data for SQL doctor

--START : SQLdm 10.0 (srishti) - Scripts for presscriptive analsis Recommendation optimization master data
if (select isnull(object_id('tempdb..#upgrade_OptimiztionExecutionStatus'), 0)) <> 0 
begin 
	print 'truncating #upgrade_OptimiztionExecutionStatus'
	TRUNCATE TABLE #upgrade_OptimiztionExecutionStatus
end 
ELSE
begin
	print 'creating #upgrade_OptimiztionExecutionStatus'

	CREATE TABLE #upgrade_OptimiztionExecutionStatus (
		 [TempID] [int] NOT NULL,
		 [TempStatus] [nvarchar](100) NOT NULL,
		 [TempDescription] [nvarchar](250) NULL,
		 
		PRIMARY KEY CLUSTERED 
		(
			[TempID] ASC
		))
END	


    
INSERT INTO #upgrade_OptimiztionExecutionStatus (TempID, TempStatus, TempDescription) values (1,'NotOptimized', 'Waiting to start Optimization.')
INSERT INTO #upgrade_OptimiztionExecutionStatus (TempID, TempStatus, TempDescription) values (2,'OptimizationCompleted', 'Optimization completed.')     
INSERT INTO #upgrade_OptimiztionExecutionStatus (TempID, TempStatus, TempDescription) values (3,'OptimizationException', 'Optimization aborted early due to error.')
INSERT INTO #upgrade_OptimiztionExecutionStatus (TempID, TempStatus, TempDescription) values (4,'OptimizationUndone', 'Optimization performed is reverted.')
INSERT INTO #upgrade_OptimiztionExecutionStatus (TempID, TempStatus, TempDescription) values (5,'OptimizationUndoneException', 'Undo optimization aborted early due to error.')

-- insert new rows 
INSERT INTO PrescriptiveOptimiztionExecutionStatus ([ID], [Status], [Description])
	SELECT TempID, TempStatus, TempDescription FROM #upgrade_OptimiztionExecutionStatus 
		WHERE TempID not in (select [ID] from PrescriptiveOptimiztionExecutionStatus)
-- update all 
UPDATE PrescriptiveOptimiztionExecutionStatus
	SET   [Status] = TempStatus,
		[Description] = TempDescription
		FROM #upgrade_OptimiztionExecutionStatus 
	WHERE
		[ID] = TempID
		
--END : SQLdm 10.0 (srisht purohit) - Prescriptive Recommendation status master data for SQL doctor

--START: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation Category master data for SQL doctor
if (select isnull(object_id('tempdb..#upgrade_PrescriptiveRecommendationCategory'), 0)) <> 0 
begin 
	print 'truncating #upgrade_PrescriptiveRecommendationCategory'
	TRUNCATE TABLE #upgrade_PrescriptiveRecommendationCategory
end 
ELSE
begin
	print 'creating #upgrade_PrescriptiveRecommendationCategory'

	CREATE TABLE #upgrade_PrescriptiveRecommendationCategory (TempCategoryID [int] NOT NULL,
		TempCategoryName [nvarchar](100) NOT NULL,
		TempParentCategory int NULL,
		[TempDescription] [nvarchar](250) NULL,
	 PRIMARY KEY CLUSTERED 
	(
		TempCategoryID ASC
	)
	)
END	
     
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(1,'Blocking Processes', 19, 'Detect whether processes are blocking other processes.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(2,'Disk', 20, 'Detect whether SQL Server performance is being affected by disk settings and associated problems.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(3,'Database Configuration', 21, 'Identify which database configuration settings will improve SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(4,'DeadLocks', 19, 'Detect any deadlocks on the SQL Server instance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(5,'Index Optimization', 23, 'Determine whether SQL Server performance is being negatively affected by index settings or problems with the indexes themselves.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(6,'Long Running Jobs', 19, 'Identify any long running jobs.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(7,'Memory', 20, 'Examine the server''s memory settings and determine whether they affect performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(8,'Network', 20, 'Detect network problems or configuration settings that affect SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription) VALUES(9,'Open Transactions', 19, 'Identify any long running open transactions and determine whether the associated T-SQL code should be corrected to improve performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(10,'Processor', 20, 'Detect processor problems and associated configuration settings.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(11,'Query Optimization', 23, 'Detect query problems that negatively affect your SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(12,'Disaster Recovery', 22, 'Detect database and transaction log backup issues such as failures or skips, overdue integrity checks, and corruption issues.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(13,'Security', 21, 'Identify non-optimal security settings  on the SQL Server instance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(14,'Server Configuration', 21, 'Detect server configuration settings that could decrease the performance of your SQL Server instance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(15,'System Page Files', 22, NULL)
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(16,'System Upgrade Suggestion', 22, NULL)
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(17,'Virtual Log Files', 22, NULL)
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(18,'Wait Stats', 19, 'Identify any waits that are affecting the SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(19,'Activity', 22, 'Examines which SQL Server resources have been strained and may be causing performance issues.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(20,'Resources', 22 , 'Detects any workload-related issues, such as deadlocks or blocks or waits, that are negatively affecting the SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(21,'Configuration', 22 , 'Identifies any server, database, or security configuration settings that could impact SQL Server performance.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(22,'All Category', NULL, 'Examine all categories for issues with configuration, resources, or workload.')
INSERT INTO #upgrade_PrescriptiveRecommendationCategory (TempCategoryID, TempCategoryName, TempParentCategory, TempDescription)  VALUES(23,'Workload', 22, NULL)

-- insert new rows 
INSERT INTO PrescriptiveRecommendationCategory ([CategoryID], [Name], [ParentCategory], [Description])
	SELECT TempCategoryID, TempCategoryName, TempParentCategory, TempDescription FROM #upgrade_PrescriptiveRecommendationCategory 
		WHERE TempCategoryID not in (select [CategoryID] from PrescriptiveRecommendationCategory)
-- update all 
UPDATE PrescriptiveRecommendationCategory
	SET   [Name] = TempCategoryName,
		[ParentCategory] = TempParentCategory,
		[Description] = TempDescription
		FROM #upgrade_PrescriptiveRecommendationCategory 
	WHERE
		[CategoryID] = TempCategoryID 

--END: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation Category master data for SQL doctor

--START: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation master data for SQL doctor
if (select isnull(object_id('tempdb..#upgrade_PrescriptiveRecommendation'), 0)) <> 0 
begin 
	print 'truncating #upgrade_PrescriptiveRecommendation'
	TRUNCATE TABLE #upgrade_PrescriptiveRecommendation
end 
ELSE
begin
	print 'creating upgrade_PrescriptiveRecommendation'
	CREATE TABLE #upgrade_PrescriptiveRecommendation (
		[TempRecommendationID] [nvarchar](10) COLLATE Latin1_General_CS_AS NOT NULL,
	[TempAdditionalConsiderations] [nvarchar](1500) NULL,
	[Tempbitly] [nvarchar](500) NULL,
	[TempCategoryID] [int] NOT NULL,
	[TempConfidenceFactor] [int] NULL,
	[TempDescription] [nvarchar](4000) NULL,
	[TempFinding] [nvarchar](500) NULL,
	[TempImpactExplanation] [nvarchar](4000) NULL,
	[TempImpactFactor] [int] NULL,
	[TempInfoLinks] [nvarchar](3000) NULL,
	[TempPluralFormFinding] [nvarchar](500) NULL,
	[TempPluralFormImpactExplanation] [nvarchar](4000) NULL,
	[TempPluralFormRecommendation] [nvarchar](4000) NULL,
	[TempProblemExplanation] [nvarchar](4000) NULL,
	[TempRecommendation] [nvarchar](max) NULL,
	[TempRelevance] [int] NULL,
	[TempTags] [nvarchar](500) NULL,
	[TempIsActive] [bit] NOT NULL,
	PRIMARY KEY CLUSTERED 
	(
		[TempRecommendationID] ASC
	)
	)
END	
--To store mulitple line for input
DECLARE @multilineInput nvarchar(4000)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-BP1',''  ,'http://bit.ly/aAIS62 ' ,1  ,10  ,'Blocking process' ,'Process $(SPID) has been blocking $(BlockedNumberOfProcesses) other processes from running ' ,'Process $(SPID) has been blocking $(BlockedNumberOfProcesses) other processes from running.  The process has been the lead blocker for $(BlockedWait) ms and is blocking object $(BlockedObject). The following details are relevant to the finding:  $(ApplicationName?application $(ApplicationName): ) $(Database?in [$(Database)]: ) $(HostName?submitted from $(HostName): ) $(UserName?by $(UserName): ) ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Minimize Blocking in SQL Server</Title><Link>http://technet.microsoft.com/en-us/magazine/2008.04.blocking.aspx?pr=blog</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) processes have been blocking other processes from running'  ,'These processes are lead blockers, preventing other processes from running.'  ,''  ,''  ,'It is recommended that the blocking chains be resolved to improve performance. This is typically resolved using the KILL command on the lead blocking process.'  ,0,'',0
)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D1'  
,''  ,'http://bit.ly/9cFXjh ' ,2  ,10  ,'High average disk queue length: Drive holds swap files' ,'Drive $(DiskName) has a queue length average of $(AvgDiskQueueLength) ' ,'One or more swap files exist on drive $(DiskName) which also contains database files.  The operating system is paging at an average rate of $(AvgPagesPerSecond) pages per second.  Hosting page files on the same drive as database files can cause a performance bottleneck. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Optimize Disk Configuration in SQL Server</Title><Link>http://searchsqlserver.techtarget.com/tip/Optimize-disk-configuration-in-SQL-Server#trace</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) drives have a high average queue length.'  ,'One or more swap files exist on these drives.  Hosting page files on the same drive as database files can cause a performance bottleneck.'  ,''  ,''  ,'It is recommended production servers have zero paging.  Launch Task Manager and view the "Peak working Set" column to determine the largest users of memory and determine which can be removed to reduce the load.  If at all possible, move your database files to a physical disk that does not host page files.It is recommended production servers have zero paging.  Launch Task Manager and view the "Peak working Set" column to determine the largest users of memory and determine which can be removed to reduce the load.  If at all possible, move your database files to a physical disk that does not host page files.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES
('SDR-D10'  ,''  ,'http://bit.ly/aCOOyo' ,2  ,10 ,'Tempdb is not pre-sized appropriately' ,'Tempdb is not pre-sized appropriately ' ,'The TempDB is being recreated each time SQL Server restarts at $(InitialSizeMB)MB but is currently $(CurrentSizeMB)MB which means that significant autogrow activity is occurring. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Compilation of SQL Server TempDB IO Best Practices</Title><Link>http://blogs.msdn.com/b/cindygross/archive/2009/11/20/compilation-of-sql-server-tempdb-io-best-practices.aspx</Link></RecommendationLink><RecommendationLink><Title>Storage Top 10 Best Practices</Title><Link>http://msdn.microsoft.com/en-us/library/cc966534.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that autogrow be left on with instant file initialization left on. In addition, the database should be configured so that it never hits an autogrow event or very few autogrow events. Make sure the autogrow growth increment is appropriate.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES
('SDR-D11'  
,'$(li)When there are too many data files available, the allocation of very large objects within tempdb may see reduced performance due to the overhead generated by the allocation system.'  ,'http://bit.ly/9eQhQY ',2  ,10  ,'tempdb is experiencing metadata contention and waits' ,'Your tempdb is experiencing significant metadata contention and waits ' ,'Waits on tempdb can have a significant impact on overall SQL Server performance because all sorting, joining, group by, cursors and many other SQL Server operations rely on temporary objects which are implicitly created in this database. Contention on tempdb resources can result when there are many concurrent operations attempting to allocate/deallocate objects within a tempdb data file. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Compilation of SQL Server TempDB IO Best Practices</Title><Link>http://blogs.msdn.com/b/cindygross/archive/2009/11/20/compilation-of-sql-server-tempdb-io-best-practices.aspx</Link></RecommendationLink><RecommendationLink><Title>Storage Top 10 Best Practices</Title><Link>http://msdn.microsoft.com/en-us/library/cc966534.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Numerous SQL Server operations require the creation of temporary objects in tempdb even when the running query does not explicitly use a temp table.  $(li)When the temp object cache is depleted, object allocation/deallocation requires updates to the allocation pages of the data file where that object will be stored. These allocation pages can become a bottleneck when multiple concurrent object allocations are made within a single data file.'  ,'$(TraceStatus) is recommended that you create multiple data files for tempdb so that concurrent object allocations can be made in separate data files in order to avoid waiting for access to the allocation pages. The number of data files needed is based on the number of processor cores available to SQL Server for concurrent query processing.  Generally a data file to processor core ratio between 1/4 and 1/2 will be optimal for most workloads, but in some cases the demands on tempdb may require even more data files in order to avoid allocation page contention and the waits associated with it.However, be aware that if your workload needs to store a small number of very large objects in tempdb, such as very large temp tables or sort operators spilling out of memory into tempdb, then writing out that data can be slowed significantly because of the overhead of the file weighting algorithm used by the allocation system. You should consider the data access patterns of your SQL Server workload when deciding whether new data files should be added to tempdb.$(TraceStatus) is recommended that you create multiple data files for tempdb so that concurrent object allocations can be made in separate data files in order to avoid waiting for access to the allocation pages. The number of data files needed is based on the number of processor cores available to SQL Server for concurrent query processing.  Generally a data file to processor core ratio between 1/4 and 1/2 will be optimal for most workloads, but in some cases the demands on tempdb may require even more data files in order to avoid allocation page contention and the waits associated with it.However, be aware that if your workload needs to store a small number of very large objects in tempdb, such as very large temp tables or sort operators spilling out of memory into tempdb, then writing out that data can be slowed significantly because of the overhead of the file weighting algorithm used by the allocation system. You should consider the data access patterns of your SQL Server workload when deciding whether new data files should be added to tempdb.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D12'  
,''  ,'http://bit.ly/dlroVZ ' ,2  ,5  ,'Tempdb could use additional data files' ,'Your TempDB performance could be improved by adding additional data files ' ,'Your system has $(ProcessorCount) logical processors but TempDB is only configured to have $(FileCount) data files. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Compilation of SQL Server TempDB IO Best Practices</Title><Link>http://blogs.msdn.com/b/cindygross/archive/2009/11/20/compilation-of-sql-server-tempdb-io-best-practices.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that 1/2 to a maximum of 1 TempDB data file  be created for each physical CPU core (not including hyperthreading) available to SQL Server (accounting for any affinity mask settings) up to a maximum of 8 data files  to allow a thread on each processor to use a specific data file.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D13'  
,'$(li)Workloads that create many small objects in tempdb will not see a significant performance loss, and may actually see performance improvement from having a large number of data files in tempdb due to reduced contention on the allocation maps.$(li)Some workloads will benefit from having a large number of data files in the tempdb. You can ignore this recommendation if your tempdb file structure is already optimized for the common workloads and data access patterns on this server.'  ,'http://bit.ly/bCCaaA',2  ,8  ,'tempdb has too many data files' ,'The number of tempdb data files exceeds half of the number of available processors ' ,'Tempdb is configured to have $(FileCount) data files but your system only has $(ProcessorCount) processor cores.  This can degrade system performance for some workloads. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Compilation of SQL Server TempDB IO Best Practices</Title><Link>http://blogs.msdn.com/b/cindygross/archive/2009/11/20/compilation-of-sql-server-tempdb-io-best-practices.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)If your workload needs to store a small number of very large objects in tempdb, such as very large temp tables or sort operators spilling out of memory into tempdb, then writing out that data can be slowed significantly because of the overhead of the file-weighting algorithm used by the allocation system.$(li)Having a large number of data files in tempdb can lead to seemingly random I/O when the lazy writer flushes dirty buffer pages from tempdb out to disk.  This can potentially cause longer wait times if the I/O subsystem cannot handle the workload of writing out dirty pages to many different files.'  ,'It is recommended that you review the data access patterns caused by a typical workload on this server to determine if tempdb performance would be improved by reducing the number of data files.  Generally a data file to processor core ratio between 1/4 and 1/2 will be optimal for most workloads.
However, some workloads will benefit from adding tempdb data files beyond half the number of processor cores. When reviewing the typical workloads for this server, you may find that the current number of tempdb data files is required for optimal performance.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D14'  
,''  ,'http://bit.ly/bE8bhm ' ,2  ,9  ,'Page compression is recommended' ,'Your server is experiencing significant I/O volume with no CPU usage problems. Page compression should be used ' ,'Page compression is not enabled on large and busy tables, which causes system performance degradation due to increase in IO activity and memory usage. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Data Compression: Strategy, Capacity Planning and Best Practices</Title><Link>http://msdn.microsoft.com/en-us/library/dd894051.aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you turn on page compression on $(ObjectName) which should compress approximately $(CompressionPct)% and save you $(SavingsMB)MB.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D15'  ,''  ,'http://bit.ly/dmEhZg ' ,2  ,10  ,'Tempdb is not in simple recovery mode' ,'The TempDB database is not in Simple Recovery Mode ' ,'This causes SQL Server to slow dramatically. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Compilation of SQL Server TempDB IO Best Practices</Title><Link>http://blogs.msdn.com/b/cindygross/archive/2009/11/20/compilation-of-sql-server-tempdb-io-best-practices.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the TempDB be set to Simple Recovery Mode as, by default, SQL Server only logs the before images of changes to data in the TempDB. Beginning with SQL Server 2005, it is not possible to set the tempdb recovery model to full or bulk-logged recovery model. If this problem exists in SQL Server 2005 or newer, it may have been upgraded from an earlier version of SQL Server.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
(
'SDR-D17'  ,''  ,'http://bit.ly/buy2g4' ,2  ,8  ,'Low fill factor for large tables' ,'[$(IndexName)] on table [$(SchemaName)].[$(TableName)] in database [$(DatabaseName)] has a fill factor of $(FillFactor) percent ' ,'A low fill factor on a large table causes an increase in the System I/Os as well as an additional memory footprint which slows SQL Server execution. ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) of the server''s busiest databases have tables with low fill factors.'  ,'This causes an increase in the System I/Os as well as an additional memory footprint which slows SQL Server execution.'  ,'It is recommended that these tables be examined to determine whether they need a low fill factor.  If not, alter the table indexes to a more appropriate fill factor.'  ,''  ,'It is recommended that the index [$(IndexName)] on table [$(SchemaName)].[$(TableName)] in database [$(DatabaseName)] be examined to determine if it needs a low fill factor.  If not, alter the table indexes to set a more appropriate fill factor.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D19'  
,''  ,'http://bit.ly/allM0f ' ,2  ,10 ,'Auto-shrink enabled' ,'Database [$(DatabaseName)] has autoshrink enabled ' ,'Database [$(DatabaseName)] is configured to automatically shrink any data or log file once the file grows beyond the initial startup size defined for the file. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Shrinking a Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms189080.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Shrinking a Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms189080(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Shrinking a Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms189080(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases have auto-shrink enabled'  ,'$(Count) databases are configured to automatically shrink any data or log file once the file grows beyond the initial startup size defined for the file.'  ,'It is recommended that autoshrink is turned off on all of the databases.'  ,'$(li)A data file shrink will cause indexes to become fragmented.  The fragmentation reduces the efficiency of range scans by requiring more I/O requests to read the same number of pages.  $(li)There is an increase in the amount of I/O and CPU resource usage when performing the file shrink operations.$(li)The files can get into a cycle of frequently performing an autogrow followed by an autoshrink only to repeat this cycle over and over again.  This repeated cycle will cause fragmentation of the files at the file system level that can cause I/O performance problems.  Additionally this ends up continually wasting I/O and CPU resources by repeating these operations.'  ,'It is recommended that autoshrink is turned off on the database.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D21'  ,''  ,'http://bit.ly/a74gF9' ,2  ,NULL  ,'' ,'The tables listed below have highly fragmented tables/Indexes: 
- Table - xxx, Index - xxx, fragmentation % - xxx, 
- Table - xxx, Index - xxx, fragmentation % - xxx ' ,'High levels of fragmentation may cause excessive I/Os (by reducing the efficiency of ordered scans and pre-fetches) together with sub-optimal usage of the buffer pool and should be avoided.  ' ,NULL  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that batch jobs should be created as part of a regularly scheduled maintenance plan to remove fragmentation. In cases where fragmentation builds up really rapidly, lower fill factors can be used to significantly slow the pace of fragmentation.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D2'  ,''  ,'http://bit.ly/cud2KS' ,2  ,5  ,'High disk queue length' ,'Drive $(DiskName) has a queue length average of $(AvgDiskQueueLength) ' ,'One or more system page files exist on drive $(DiskName) which also contains database files.  Hosting page files on the same drive as database files can cause a performance bottleneck. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Optimize Disk Configuration in SQL Server</Title><Link>http://searchsqlserver.techtarget.com/tip/Optimize-disk-configuration-in-SQL-Server#trace</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) drives have a high queue length'  ,'One or more swap files exist on these drives.  Hosting page files on the same drive as database files can cause a performance bottleneck.'  ,'It is recommended that you reduce the load on these drives by moving the system page file to another drive.'  ,''  ,'It is recommended that you reduce the load on this drive by moving the system page file to another drive.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D20'  ,''  ,'http://bit.ly/9KrdZ3' ,2  ,NULL ,'' ,'The databases listed below have the Auto-Shrink option enabled: 
- xxx.dbo.xxx, 
- xxx.dbo.xxx ' ,'Auto-shrink is not advised due the following: 1. Causes significant I/O to be exerted on the production system at random intervals which will affect general system responsiveness, 2. Causes significant fragmentation on every table moved due to the Auto-Shrink process of moving blocks of data from the database file into available areas towards the near the beginning of the file, and 3. Causes high numbers of irregularly shaped virtual log files (VLFs) by repeatedly shrinking the log file followed by auto-growing the log file back out. ' ,''  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that DBCC SHRINKDATABASE be scheduled during a batch processing window in order to have control over the impact of shrinking a database and this shrink should be closely followed by a defragmentation of all tables in the database as there is no way of knowing which tables will have fragmented.

It is recommended that you do not shrink databases as part of any regular process. Shrink is intended to be used in emergency situations, such as a disk that has run out of space, or as a one-time process following a very large purge of data. SQL Server will reuse empty space and there is no performance benefit gained, only performance costs incurred, from shrinking database files.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D18'  ,''  ,'http://bit.ly/biMNsa' ,2  ,NULL  ,'' ,'On some of the server''s busiest databases, a significant amount of table/index fragmentation exists on the following tables: 
- Table - xxx, Index - xxx, fragmentation % - xxx, 
- Table - xxx, Index - xxx, fragmentation % - xxx ' ,'High levels of fragmentation may cause excessive I/Os (by reducing the efficiency of ordered scans and pre-fetches) together with sub-optimal usage of the buffer pool and should be avoided.  ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that batch jobs should be created as part of a regularly scheduled maintenance plan to remove fragmentation by rebuilding and/or reorganizing indexes. In cases where fragmentation builds up really rapidly, lower fill factors can be used to significantly slow the pace of fragmentation.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D3'  ,''  ,'http://bit.ly/dv8TPR' ,2  ,2 ,'I/O subsystem has been under stress' ,'The Wait statistics on your server indicate there have been periods where the I/O subsystem has been under considerable stress ' ,'An accurate analysis of your I/O subsystem cannot be determined unless the  analysis occurs during a busy period. ' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Best Practices Article</Title><Link>http://msdn.microsoft.com/en-us/library/cc966412.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that SQL doctor be scheduled to run during the next period of high I/O stress.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D16'  ,''  ,'http://bit.ly/aEiiLe' ,2  ,NULL  ,'' ,'The statistics for the following tables may be inaccurate, which may cause the generation of suboptimal execution plans: 
- Table xxx.dbo.xxx, # of rows modified since statistics last updated - xxx, statistics last updated at xx/xx/xx xx:xx (xxhrs ago), 
- Table xxx.dbo.xxx, # of rows modified since statistics last updated - xxx, statistics last updated at xx/xx/xx xx:xx (xxhrs ago) ' 
,'This may lead to greater amounts of I/Os being generated than necessary as well as excessive TempDB and processor usage in order to fulfill TSQL queries. Additionally, inaccurate statistics could lead to selection of a poor execution plan that performs the query in an inefficient manner.' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you ensure that regular index and statistics maintenance is occurring during maintenance windows to rebuild indexes or reorganize indexes and update the statistics for those indexes. Column statistics not associated with an index need to be updated manually during a maintenance window if auto-update of stats is not sufficient. It is recommended that you consider enabling startup trace flag 2371 if you are on SQL Server 2008 R2 SP1 or later and have very large tables where the default update setting of 20% of rows is not sufficient to update statistics more aggressively for very large tables 
- Auto create/update stats has been turned off at the database level, 
- Index has been created with STATISTICS_NORECOMPUTE = ON, 
- Statistics have been created with WITH(NORECOMPUTE)'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D4'  ,''  ,'http://bit.ly/c0R9H9' ,2  ,8  ,'High average disk queue length and fragmentation: Drive holds transaction log and data files' ,'Drive $(DiskName) is responsible for writing the transaction logs sequentially and performing the read/write of SQL Server data pages which is typically random. Mixing random and sequential file activity forces all file activity to be random which can signifigantly reduce performance of log file activity.' ,'This results in latency currently measured at $(AvgDiskSecPerTransfer)ms as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages. Significant fragmentation or a stripe unit size which is not a multiple of 64kb has also been detected, which causes additional head movement and extra delay. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Refer to this Microsoft Hotfix if you are receiving a counter value and base of 0 consistently</Title><Link>http://support.microsoft.com/kb/961435</Link><Condition>OSVersion = 6.0</Condition></RecommendationLink><RecommendationLink><Title>8 Steps to better Transaction Log throughput</Title><Link>http://www.sqlskills.com/BLOGS/KIMBERLY/post/8-Steps-to-better-Transaction-Log-throughput.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) drives are responsible for writing the transaction logs sequentially and performing the read/write of SQL Server data pages, which is typically random. Mixing random and sequential file activity forces all file activity to be random which can signifigantly reduce performance of log file actiivty. '  ,'This results in high latency as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages.  Significant fragmentation or a stripe unit size which is not a multiple of 64kb has also been detected, which causes additional head movement and extra delay.'  ,''  ,''  ,'It is recommended that for busy databases the Transaction logs reside on a different physical drive than the data files and that the database and disk should be defragmented.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D5'  ,''  ,'http://bit.ly/9KEXbf' ,2  ,10  ,'Incorrect unit allocation disc: Drive holds transaction log and data files' ,'Incorrect unit allocation size. Drive $(DiskName) is responsible for writing the transaction logs sequentially and performing the read/write of SQL Server data pages which is typically random. ' ,'This results in latency currently measured at $(AvgDiskSecPerTransfer)ms as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages.  The unit allocation size has been detected to be $(AllocationSize)KB.  SQL Server works far more efficiently with allocation unit sizes of 64KB and a stripe unit size of 64KB or a multiple of 64KB. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Refer to this Microsoft Hotfix if you are receiving a counter value and base of 0 consistently</Title><Link>http://support.microsoft.com/kb/961435</Link><Condition>OSVersion = 6.0</Condition></RecommendationLink><RecommendationLink><Title>Disk Partition Alignment Best Practices for SQL Server</Title><Link>http://msdn.microsoft.com/en-us/library/dd758814.aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'Incorrect unit allocation size for $(Count) drives.  These drives are responsible for writing the transaction logs sequentially and performing the read/write of SQL Server data pages, which is typically random. '  ,'This results in high latency as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages.  The unit allocation size is insufficient: SQL Server works far more efficiently with allocation unit sizes of 64KB and a stripe unit size of 64KB or a multiple of 64KB.'  ,''  ,''  ,'It is recommended that for busy databases the Transaction logs reside on a different physical drive than the data files and that a unit allocation size of 64KB or larger be used.'  ,1,''

 ,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D6'  ,''  ,'http://bit.ly/9shrxk ' ,2  ,8  ,'High average disk queue length: Drive holds transaction log and data files' ,'Drive $(DiskName) has a queue length average of $(AvgDiskQueueLength).  This drive is also responsible for writing the transaction logs sequentially and performing the read/write of SQL Server pages which is typically random  ' ,'This results in latency currently measured at $(AvgDiskSecPerTransfer)ms as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Refer to this Microsoft Hotfix if you are receiving a counter value and base of 0 consistently</Title><Link>http://support.microsoft.com/kb/961435</Link><Condition>OSVersion = 6.0</Condition></RecommendationLink><RecommendationLink><Title>Disk Partition Alignment Best Practices for SQL Server</Title><Link>http://msdn.microsoft.com/en-us/library/dd758814.aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) drives have a high average queue length.  These drives are responsible for writing the transaction logs sequentially and performing the read/write of SQL Server pages, which is typically random. '  ,'This results in high latency as the head moves between sequential transactional log writing and the random Reading/Writing of SQL Server pages.'  ,''  ,''  ,'It is recommended that for busy databases the Transaction logs reside on a different physical drive than the data files.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D7'  ,''  ,'http://bit.ly/afaa2P ' ,2  ,8  ,'High average disk queue length: Drive is SAN, SSD, or RAID array' ,'Your SAN, SSD or RAID array (reported as Drive $(DiskName)) has a queue length average of $(AvgDiskQueueLength) ' ,'The LUN allocated on the SAN, SSD, or RAID array is overloaded. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Refer to this Microsoft Hotfix if you are receiving a counter value and base of 0 consistently</Title><Link>http://support.microsoft.com/kb/961435</Link><Condition>OSVersion = 6.0</Condition></RecommendationLink><RecommendationLink><Title>SQL Server Best Practices Article</Title><Link>http://msdn.microsoft.com/en-us/library/cc966412.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Storage Top 10 Best Practices</Title><Link>http://msdn.microsoft.com/en-us/library/cc966534.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) SANs, SSDs, or RAID arrays have a high queue length'  ,'The LUNs allocated on these SANs, SSDs, or RAID arrays are overloaded.'  ,'It is recommended that for a Raid Array, switch to RAID 10 or add additional disks to support a higher rate of IO.  For a SAN, ask the SAN administrator to increase the number of devices participating in the LUN.'  ,''  ,'It is recommended that for a Raid Array, switch to RAID 10 or add additional disks to support a higher rate of IO.  For a SAN, ask the SAN administrator to increase the number of devices participating in this LUN.'  ,1,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D8'  ,''  ,'http://bit.ly/99Ah9a ' ,2  ,10  ,'Instant initialization is not enabled' ,'Your server has not been optimized to allow SQL Server to instantly expand databases (including TempDB) without first zeroing out space on the disk ' ,'Your server is not currently optimized to allow SQL Server to instantly expand a database (including TempDB) without first zeroing out the space on disk. If SQL Server needs to expand a database (or create a new one) the zeroing out of space on the disk can take a considerable amount of time.  ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How and Why to Enable Instance File Initialization</Title><Link>http://blogs.msdn.com/b/sql_pfe_blog/archive/2009/12/23/how-and-why-to-enable-instant-file-initialization.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Service account of SQL Server $(SQLServerServiceAccount?({0}) include:include) the permission SE_MANAGE_VOLUME_NAME (granted to Windows Admin by default or via the Perform Volume Maintenance Tasks security policy) and that all the drives used by databases must be in an NTFS format to allow SQL Server to perform instant initialization.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D9'  ,'$(li)If you are not experiencing detrimental wait times when allocating pages for objects in tempdb, then the data file configuration is sufficient for your workload.'  ,'http://bit.ly/byil7H',2  ,10  ,'tempdb data files are not all the same size' ,'tempdb data files are not all the same size ' ,'SQL Server will allocate pages for objects from the various tempdb data files in proportion to their relative sizes. The larger tempdb data files will experience more I/O stress than the smaller files, which will decrease overall performance.  The largest file is $(LargestFileSizeText) and the smallest file is $(SmallestFileSizeText). ' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Working with tempdb in SQL Server 2005</Title><Link>http://technet.microsoft.com/en-us/library/cc966545.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance
</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Optimizing tempdb Performance</Title><Link>http://msdn.microsoft.com/en-us/library/ms175527(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)When new objects are created in tempdb, the allocations will not be spread evenly between the data files, which removes one of the key benefits of using multiple data files for tempdb.$(li)SQL Server will favor the larger data files when allocating pages for objects in tempdb.  This will cause increased contention for access to the allocation pages of those data files, resulting in reduced performance.'  ,'It is recommended that all tempdb data files should be sized exactly the same, and if autogrowth is allowed, then the autogrowth increment should also be equalized across all data files.
However, if autogrow is turned on for these data files, then they may still grow unevenly regardless of the autogrowth increment.  This occurs when a new object allocation necessitates growing some but not all of the data files to find sufficient storage space.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D22'  ,'$(li)The current configuration is not having a performance impact on the server and is sufficient based on your current workload.'  ,'http://bit.ly/18xJQi2',2  ,10  ,'Data files of tempdb do not have the same auto growth settings' ,'Data files of tempdb do not have the same auto growth settings ' ,'SQL Server will allocate pages for objects from the various tempdb data files in proportion to their relative sizes. The larger tempdb data files will experience more I/O stress than the smaller files, which will decrease overall performance. ' ,'1'  ,''  ,''  ,''  ,''  ,'$(li)When new objects are created in tempdb, the allocations will not be spread evenly between the data files, which removes one of the key benefits of using multiple data files for tempdb.$(li)SQL Server will favor the larger data files when allocating pages for objects in tempdb.  This will cause increased contention for access to the allocation pages of those data files, resulting in reduced performance.'  ,'It is recommended that all tempdb data files should be sized exactly the same, and the autogrowth increment should also be equalized across all data files.
However, they may still grow unevenly regardless of the autogrowth increment.  This occurs when a new object allocation necessitates growing some but not all of the data files to find sufficient storage space. This uneven autogrowth can cause all acitivty to go to a single data file causing tempdb contention. It is recommended that you use startup trace flag 1117 to ensure that if one data file grows, all data files will experience the same growth and keep the files all the same size.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC1'  ,'$(li)If the current setting has been verified to provide the greatest value.'  ,'http://bit.ly/av9nSh ' ,3,3  ,'Non-default setting' ,'$(Configuration) is set to value $(CurrentValue) for database $(Database) ' ,'The $(Configuration) setting has been changed from the default value of $(DefaultValue) to $(CurrentValue). ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=sql.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=sql.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=sql.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) non-default database settings'  ,'The default database setting has been changed.'  ,'It is recommended that the default value is used for the database setting.However, all changes to database configuration settings require thorough testing to verify there are no adverse effects. '  ,'$(li)A non-default setting can have an adverse impact on performance.'  ,'It is recommended that the default value of $(DefaultValue) is used for the $(Configuration) database setting.However, all changes to database configuration settings require thorough testing to verify there are no adverse effects. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC2'  ,''  ,'http://bit.ly/aAmJpH ' ,3 ,10  ,'Page_Verify set to none on writeable database' ,'The PAGE_VERIFY option for database $(Database) is set to None ' ,'When PAGE_VERIFY is set to None on a writeable database it may prevent the early detection of I/O corruption issues. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2008 R2</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2008</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2005</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Checksum in SQL2005</Title><Link>http://blogs.msdn.com/b/sqlserverstorageengine/archive/2006/06/29/enabling-checksum-in-sql2005.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>CHECKSUM and Tempdb</Title><Link>http://blogs.msdn.com/b/sqlserverstorageengine/archive/2008/03/23/checksum-and-tempdb.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'The PAGE_VERIFY option is set to None for $(Count) databases'  ,''  ,'It is recommended that you set the PAGE_VERIFY option to CHECKSUM on TORN_PAGE_DETECTION (for best performance) or to CHECKSUM (for best integrity) on all writable databases.'  ,''  ,'It is recommended that you set the PAGE_VERIFY option to CHECKSUM on SQL Server 2005 and newer or TORN_PAGE_DETECTION on SQL Server 2000 on database $(Database).'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC3'  ,''  ,'http://bit.ly/cABc8c ' ,3  ,5  ,'' ,'The PAGE_VERIFY option for read-only database $(Database) is Not set to None ' ,'The PAGE_VERIFY options of TORN_PAGE_DETECTION and CHECKSUM create unnecessary performance overhead on databases where data is not changing. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2008 R2</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2008</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Behavior Changes to Database Engine Features in SQL Server 2005</Title><Link>http://msdn.microsoft.com/en-us/library/ms143359(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'The PAGE_VERIFY option is Not set to None for $(Count) read-only databases'  ,''  ,'It is recommended that you set the PAGE_VERIFY option to None on all read-only databases.'  ,''  ,'It is recommended that you set the PAGE_VERIFY option to None on database $(Database).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC4'  ,''  ,'http://bit.ly/bx6UBe ' ,3  ,3  ,'Database compatibility mode mismatch' ,'The compatibility mode of database $(Database) ($(CurrentCompatibility)) is lower than the SQL Server version ($(TargetCompatibility)) ' ,'Running a database at a lower compatibility mode than the SQL Server version may cause certain features of SQL Server to be unavailable or to function unpredictably or to perform poorly. ' ,'1'  ,''  ,'Database compatibility mode is lower than the target SQL Server version for $(Count) databases'  ,''  ,'If you are unsure of the reasons these databases are running in a lower compatibility mode, it is recommended that you test the impact of setting the compatibility mode to match the SQL Server version.'  ,''  ,'If you are unsure of the reasons this database is running in a lower compatibility mode, it is recommended that you test the impact of setting the $(Database) compatibility mode to $(TargetCompatibility)'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC5'  ,''  ,'http://bit.ly/aLRHoG' ,3,3  ,'Database collation mismatch' ,'The collation of database $(Database), $(CurrentCollation), does not match that of the model database ' ,'When database collations differ from the model database, it is possible to experience collation conflicts which may prevent code from executing.  For example, when a table is joined to a temporary table, SQL Server may experience a collation conflict error if the user-defined database collation and the model database collation are different.  This is because temporary tables are created in tempdb, which is created at server startup with the collation of the model database. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Setting and Changing the Database Collation</Title><Link>http://msdn.microsoft.com/en-us/library/ms175835.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting and Changing the Database Collation</Title><Link>http://msdn.microsoft.com/en-us/library/ms175835(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting and Changing the Database Collation</Title><Link>http://msdn.microsoft.com/en-us/library/ms175835(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'The collations of $(Count) databases do not match that of the model database'  ,''  ,''  ,''  ,'It is recommended that you consider one of the following resolutions: $(li)Export the data from $(Database) and import it into new tables that have the same collation as model ($(ModelCollation)), $(li)Rebuild the system databases to use the same collation as $(Database)  $(li)Modify any stored procedures and ad-hoc code that join user tables to tables in tempdb to prevent collation conflicts.  To do this, add the "COLLATE database_default" clause to the column definitions of the temporary table for uncontained databases or the "COLLATE catalog default" clause for contained databases (SQL Server 2012 or newer).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DL1'  ,''  ,'http://bit.ly/bxz4WO ',4  ,10  ,'Deadlock information is not being captured' ,'Deadlock information is not being captured ' ,'Not capturing deadlock events prevents you from knowing whether or not deadlocks are occurring and the underlying cause. Deadlock information can be captured via a SQL trace, by enabling startup trace flags 1204 or 1222, or in the system_health Extended Events session. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that for SQL Server 2008 or newer versions, you leave the system_health Extended Events session enabled to capture deadlock information. For versions of SQL Server prior to SQL Server 2008, it is recommended that you enable startup trace flags 2014 or 1222 or run a SQL Server trace in order to monitor for deadlocks.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DL2'  ,''  ,'http://bit.ly/b0pDL8',4  ,10  ,'Deadlock' ,'A deadlock was detected $(ApplicationName? in application $(ApplicationName): ) $(Database?in [$(Database)]: ) $(HostName?submitted from $(HostName): ) $(UserName?by $(UserName): ) at $(StartTime) ' ,'Deadlocks are caused by inconsistencies in the order in which an application updates data elements. Details of the deadlock are:
Deadlock Victim Details:  $(ApplicationName? in application $(ApplicationName): ) $(Database?in [$(Database)]: ) $(HostName?submitted from $(HostName): ) $(UserName?by $(UserName): ) 
 ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Detecting and Ending Deadlocks</Title><Link>http://msdn.microsoft.com/en-us/library/ms178104(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) deadlocks were detected'  ,'Deadlocks are caused when inconsistencies in the order in which an application updates data elements.
'  ,'We recommend you investigate and remedy these deadlocks.  '  ,''  ,'It is recommended that you investigate and remedy the deadlock.  '  ,1,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I1'  ,''  ,'http://bit.ly/aMxFSF',5  ,5 ,'Out-of-date database statistics' ,'Database [$(Database)] may have out-of-date statistics ' ,'Out-of-date statistics can result in poor query performance because the query optimizer might not choose the most efficient plan for retrieving or updating data. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Update Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms187348.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Alter Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms174269.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Update Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms187348(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Alter Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms174269(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Update Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms187348(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Setting Database Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms190249(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Alter Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms174269(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Statistics Used by the Query Optimizer in Microsoft SQL Server 2005</Title><Link>http://technet.microsoft.com/en-us/library/cc966419.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases may have out-of-date statistics'  ,''  ,''  ,''  ,'It is recommended that you set the AUTO_UPDATE_STATISTICS database option to ON by using the ALTER DATABASE statement. Alternatively, you can manually update statistics by using the UPDATE STATISTICS statement. It is recommended that you consider enabling startup trace flag 2371 if you are on SQL Server 2008 R2 SP1 or later and have very large tables where the default update setting of 20% of rows is not sufficient to update statistics more aggressively for large tables.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation 
([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding]
,[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],
[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I10'  ,'$(li)SQLdoctor''s analysis shows that this index is being used to improve the performance of some queries, and there is a trade-off between improved read performance and decreased write performance.  If you are not experiencing any performance issues when updating the underlying table, then this recommendation can be ignored. $(li)Some indexes are designed and implemented to improve the performance of an infrequent but high priority cyclic business process, such as quarterly reporting.  Altering such an index may have an undesired impact that is not obvious until a complete business cycle has elapsed. $(li)The index usage statistics (writes per second and writes per read) are based on usage since the last server restart. If an entire business/usage cycle has not elapsed since that time, then those statistics may be incomplete.  Incomplete statistics may not accurately reflect usage patterns.'  ,'http://bit.ly/aMxFSF' ,5,3  ,'Index is Experiencing Frequent Updates' ,'[$(IndexName)] on [$(Database)].[$(Schema)].[$(Table)] is experiencing frequent updates ' ,'Since this server was restarted $(DaysNotUsed) days ago, this index has experienced an average of $(WritesPerSecond) writes per second with $(WritesPerRead) writes occurring for each read. ' ,'1'  ,''  ,'Indexes are experiencing frequent updates'  ,'These indexes experience high numbers of writes per second and high ratios of writes for each read.'  ,'It is recommended that you review the definition of these indexes to determine whether they should be redesigned or removed to avoid the overhead cost during write operations.  If these indexes are used for infrequent high priority operations, then consider recreating the indexes shortly before they are needed and removing them after the read operations have been completed.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,'$(li)When modifying data in a table with nonclustered indexes, SQL Server incurs additional overhead in order to keep the indexes up-to-date. $(li)If write operations far outnumber read operations on your data set, then the cost of keeping the index up-to-date may outweigh the performance benefits to your queries.'  ,'It is recommended that you review the definition of this index to determine whether it should be redesigned or removed to avoid the overhead cost during write operations.  If the index is used for infrequent high priority operations, then consider disabling the index, re-enabling the index by rebuilding it shortly before it is needed, and then disabling the index again after the read operations have been completed.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''

,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I12'  ,''  ,'http://bit.ly/cjyed9',5  ,8  ,'' ,'The function "$(FunctionName)" may be causing a table scan on [$(Database)].[$(Schema)].[$(Table)] ' ,'The function or expression "$(FunctionName)" on a column can cause index suppression resulting in poor performance due to a scan being performed instead of a seek. ' ,'1'  ,''  ,'$(Count) functions may be causing table scans'  ,'These functions or expressions can cause index suppression, resulting in poor performance due to a scan being performed instead of a seek.'  ,'It is recommended that you consider redesigning these WHERE clauses to prevent index suppression and performance degradation.'  ,''  ,'It is recommended that you consider redesigning this WHERE clause to prevent index suppression and performance degradation.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I11'  ,''  ,'',5  ,5  ,'' ,'Primary key $(PrimaryKeyName) on table $(TableName) is experiencing frequent updates ' ,'Typically a clustered index is maintained for a table''s primary key. SQL Server incurs performance overhead when maintaining this index. If the index requires frequent updates, the cost of maintaining the index may outweigh the benefit of the index. ' ,2  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you consider altering table $(TableName) to use a different primary key.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I14'  ,''  ,'http://bit.ly/dpLnka ',5  ,8  ,'' ,'An implicit conversion on column [$(Database)].[$(Schema)].[$(Table)].[$(Column)] to data type "$(DataType)" may be causing index suppression ' ,'An implicit conversion in a WHERE clause of a query can cause index suppression if an indexed column is of a different type resulting in a scan rather than a seek. ' ,'1'  ,''  ,'$(Count) implicit conversions may be causing index suppression'  ,''  ,'It is recommended that you consider redesigning these WHERE clauses to prevent index suppression and performance degradation.'  ,''  ,'It is recommended that you consider redesigning this WHERE clause to prevent index suppression and performance degradation.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I13'  ,''  ,'http://bit.ly/9gImFn',5  ,NULL  ,'' ,'The referenced column in Index $(IndexName) begins with a date type ' ,'If the key columns of a multi-column index begins with a date type, queries using the index can experience poor performance due to sub-optimal range scans. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you consider redesigning index $(IndexName) so that the key columns do not begin with a date type.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I16'  ,'$(li)Some indexes are designed and implemented to improve the performance of an infrequent but high priority cyclic business process, such as quarterly reporting.  Altering such an index may have an undesired impact that is not obvious until a complete business cycle has elapsed. $(li)The index usage statistics (writes per second and writes per read) are based on usage since the last server restart. If an entire business/usage cycle has not elapsed since that time, then those statistics may be incomplete.  Incomplete statistics may not accurately reflect usage patterns.'  ,'http://bit.ly/caOD8r',5  ,0  ,'Unused Index' ,'Index [$(IndexName)] on [$(Database)].[$(Schema)].[$(Table)] has not been used in $(DaysSinceUsed) days ' ,'Since this server was restarted $(DaysNotUsed) days ago, this index has experienced an average of $(WritesPerSecond) writes per second.  However, this index has not been used by any reads during that time. ' ,'1'  ,''  ,'$(Count) indexes have not been used recently'  ,'These indexes experience high numbers of writes per second and high ratios of writes for each read.'  ,'It is recommended that you review the definitions of these indexes to determine whether they should be redesigned or removed to avoid the overhead cost during write operations.  If these indexes are used for infrequent high priority operations, then consider recreating the indexes shortly before they are needed and removing them after the read operations have been completed.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.
'  ,'$(li)When modifying data in a table with nonclustered indexes, SQL Server incurs additional overhead in order to keep the indexes up-to-date. $(li)If write operations far outnumber read operations on your data set, then the cost of keeping the index up-to-date may outweigh the performance benefits to your queries.'  ,'It is recommended that you review the definition of this index to determine whether it should be redesigned or removed to avoid the overhead cost during write operations.  If the index is used for infrequent high priority operations, then consider disabling the index, re-enabling the index by rebuilding it shortly before it is needed to re-enable it, and then disabling the index again after the read operations have been completed.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I15'  ,''  ,'http://bit.ly/bUhP9B',5  ,NULL  ,'' ,'An index covering columns $(ColumnNames) can improve query performance on table $(TableName) ' ,'A large number of queries are accessing table $(TableName) referencing columns $(ColumnNames) that are not covered by an index. The performance of these queries would benefit from a covered index. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you add an index to $(TableName) including columns $(ColumnNames).'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I17'  ,''  ,'http://bit.ly/aOIDK7',5  ,5  ,'Index experiencing page latch contention' ,'$(IndexName?Index [$(IndexName)] on table:Table) [$(Database)].[$(Schema)].[$(Table)] is experiencing high levels of page latch contention ' ,'The $(IndexName?index:table) is experiencing an average wait time of $(FormattedAvgWait) per wait  with $(WaitCount) waits due to latch contention.  This can significantly degrade the performance of queries using the $(IndexName?index:table). ' ,'1'  ,''  ,'$(Count) objects are experiencing excessive page latch contention'  ,'These objects are experiencing a high average wait time per wait due to latch contention.  This can significantly degrade the performance of queries using these objects.'  ,'It is recommended that you review your application''s use of these objects to determine if optimizations can be introduced to reduce contention.'  ,''  ,'It is recommended that you review your applications usage of $(IndexName?index [$(IndexName)]:table [$(TableName)]) to determine if optimizations can be introduced to reduce contention.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I19'  ,''  ,'http://bit.ly/9bRLae',5  ,10  ,'Out-of-date column statistics' ,'Column [$(Database)].[$(Schema)].[$(Table)].[$(Column)] has missing or out of date statistics ' ,'The statistics used in creating an execution plan based on a column is currently out of date.  The execution plan generated is still correct, but it may not be optimal. ' ,'3'  ,''  ,'$(Count) columns have missing or out of date statistics'  ,''  ,'It is recommended that you create or update the statistics for these columns.'  ,''  ,'It is recommended that you create or update the statistics for [$(Database)].[$(Schema)].[$(Table)].[$(Column)]'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I18'  ,''  ,'http://bit.ly/9OESxU',5  ,10  ,'' ,'The SQL Server memory limit for query plan compilation has been exceeded while generating an execution plan ' ,'The creation of an execution plan caused the SQL Server memory limit for query plan compilation to be exceeded.  The execution plan generated is still usable, but it may not be optimal. ' ,'3'  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you try one of the following methods to increase available memory: 1) Reduce the load on the server  2) Increase memory available to SQL Server  3) Check the max server memory option that is set with sp_configure and increase the value if it is too low

It is recommended that the offending query be simplified. The optimizer has limits on the amount of memory it can use to optimize a query. The optimizer may be able to find a more optimal query plan if the plan is simplified by removing nested views, simplifying complex joins, reducing the number of elements referenced in the query, or by breaking the query into several smaller queries.'  ,1,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I2'  ,'$(li)The index is very small.$(li)The index is never used by queries that perform range scans.'  ,'http://bit.ly/b3Qv1m ',5  ,8  ,'Index fragmentation' ,'Index [$(Name)] on [$(Database)].[$(Schema)].[$(Table)] with a partition size of $(PartitionSize) is $(FragmentationPercentage)% fragmented ' ,'Queries that perform scans or large seeks on index [$(Name)] may be adversely impacted by fragmentation by limiting the ability of SQL Server to perform large reads of data from disk. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Reorganizing and Rebuilding Indexes</Title><Link>http://technet.microsoft.com/en-us/library/ms189858.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Reorganizing and Rebuilding Indexes</Title><Link>http://msdn.microsoft.com/en-us/library/ms189858(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Reorganizing and Rebuilding Indexes</Title><Link>http://msdn.microsoft.com/en-us/library/ms189858(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Statistics Used by the Query Optimizer in Microsoft SQL Server 2005</Title><Link>http://technet.microsoft.com/en-us/library/cc966419.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Disk Space Requirements for Index DDL Operations</Title><Link>http://msdn.microsoft.com/en-us/library/ms179542(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) indexes are fragmented'  ,'Queries that perform scans or large seeks on indexes may be adversely impacted by fragmentation by limiting the ability of SQL Server to perform large reads of data from disk.'  ,'It is recommended that you rebuild or reorganize the indexes.'  ,'$(li)Highly fragmented indexes can cause inefficiencies with scans or large seeks because the SQL Server read-ahead logic is unable to read large page ranges into memory with single I/O requests.  Instead, a greater number of smaller IO requests may be performed.'  ,'It is recommended that you rebuild or reorganize the index.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I20'  ,'$(li)If write operations far outnumber read operations on your data set, then the cost of keeping the index up-to-date may outweigh the performance benefits to your queries. $(li)If the increase in performance from adding a new index does not justify the additional storage space on disk, additional time and space spent on backups, or additional maintenance required by the new index.'  ,'http://bit.ly/cnuSux ',5  ,5  ,'Missing Index (DMV)' ,'Missing index on [$(Database)].[$(Schema)].[$(Table)] ' ,'An average of $(AvgUserScansSeeksPerDay) user seeks/scans per day on table [$(Database)].[$(Schema)].[$(Table)] could see performance improvements from adding a new index.  The performance improvement is estimated to be $(AvgUserCostImpact) ms for each query execution. ' ,'3'  ,''  ,'$(count) missing index opportunities were found'  ,'Several queries could see performance improvements from adding additional indexes.  Without proper indexes, the SQL Server query optimizer may not have an efficient path to choose for retrieval of row data to satisfy the query.  This may result in a full scan of the underlying table data.'  ,'It is recommended that you review data access patterns for these tables to determine if the suggested indexes would improve your query performance significantly and to ensure the extra overhead of maintaining these indexes is justified. If the overhead of maintaining these indexes is justified, the suggested indexes should be created. Alternatively, review the existing indexes to determine if there are any indexes which can be modified to incorporate the missing index data.


However, be aware that creating indexes will increase the size of the underlying tables, and that SQL Server will have the additional overhead of keeping indexes up-to-date when the table data changes.'  ,'$(li)Without proper indexes, the SQL Server query optimizer may not have an efficient path to choose for retrieval of row data to satisfy the query.  This may result in a full scan of the underlying table data.'  ,'It is recommended that you review the data access patterns for this table to determine if the suggested index would improve your query performance significantly and to ensure the extra overhead of maintaining the index is justified. If the overhead of maintaining the index is justified, the suggested index should be created. Alternatively, review the existing indexes to determine if there is an index which can be modified to incorporate the missing index data, for example, by recreating the index with one or more additional non-key columns using the INCLUDE option.

However, be aware that creating indexes will increase the size of the underlying table, and that SQL Server will have the additional overhead of keeping indexes up-to-date when the table data changes. '  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I21'  ,'$(li)These indexes may already be optimized to yield maximum performance for particular queries or access patterns (for example, seeking versus scanning). $(li)These indexes may be relatively small, which would invalidate concerns about their storage or memory footprint. $(li)The time SQL Server spends updating these indexes may be very small, which would invalidate concerns about a performance overhead for write operations.$(li)Some indexes are designed and implemented to improve the performance of an infrequent but high priority cyclic business process, such as quarterly reporting.  Altering such an index may have an undesired impact that is not obvious until a complete business cycle has elapsed. '  ,'http://bit.ly/cnuSux ',5  ,7  ,'Overlapping Indexes' ,'Indexes on [$(Database)].[$(Schema)].[$(Table)] overlap ' ,'Index [$(OverlappingIndexName)] and index [$(IndexName)] on table [$(Schema)].[$(Table)] of database [$(Database)] contain the same data in some key columns and included columns. 

These indexes are not identical, but they do share data. Index [$(IndexName)] consists of all the data contained in index [$(OverlappingIndexName)], plus additional columns. Index [$(OverlappingIndexName)] is being updated $(UpdatesPerDay) times per day. ' ,'1'  ,''  ,'$(Count) overlapping indexes found'  ,'Multiple indexes contain the same data in some key columns and included columns. 

These indexes are not identical, but several indexes consist of all the data contained in the smaller indexes, plus additional columns. Maintaining these separate indexes incurs a performance overhead for data modifications on this database. 
'  ,'It is recommended that you review the definitions of these indexes and the queries that use them to determine whether the overlapping indexes can be deleted without negatively impacting the performance of the queries that currently use these indexes.

However, be aware that the larger indexes occupy more space on disk and in memory; therefore queries which currently use small overlapped indexes may not receive the same performance benefit when using the larger indexes.  Also, altering or dropping either of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.
'  ,'$(li)When modifying data in a table with a nonclustered index, SQL Server incurs additional overhead in order to keep the indexes up-to-date. $(li)Using multiple indexes for the same function requires additional storage space on disk and in memory. $(li)If this overlap is not intentional, then one of these indexes may not be used by any queries.'  ,'It is recommended that you review the definitions of these indexes and the queries that use them to determine whether index [$(IndexName)] can replace index [$(OverlappingIndexName)] without negatively impacting the performance of queries that currently use index [$(OverlappingIndexName)]. If this index is used for infrequent high priority operations, then consider disabling the index, re-enabling the index by rebuilding it shortly before it is needed, and then disabling the index again after the read operations have been completed.

However, be aware that index [$(IndexName)] occupies more space on disk and in memory; therefore queries which currently use [$(OverlappingIndexName)] may not receive the same performance benefit when using [$(IndexName)].  Also, altering or dropping either of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I22'  ,'$(li)The time SQL Server spends updating these indexes may be very small, which would invalidate concerns about a performance overhead for write operations. $(li)These indexes may be relatively small, which would invalidate concerns about their storage or memory footprint. $(li)The SQL Server query optimizer will favor the non-clustered index for some data access patterns such as queries that aggregate the data in the key columns.  In such cases the non-clustered index presents a performance improvement rather than a problem.$(li)Some indexes are designed and implemented to improve the performance of an infrequent but high priority cyclic business process, such as quarterly reporting.  Altering such an index may have an undesired impact that is not obvious until a complete business cycle has elapsed. $(li)The index usage statistics (including updates per day) are based on usage since the last server restart. If an entire business/usage cycle has not elapsed since that time, then those statistics may be incomplete.  Incomplete statistics may not accurately reflect usage patterns.'  ,'http://bit.ly/cUCyf1',5  ,10  ,'A Non-Clustered Index Key Matches the Clustered Index Key' ,'A non-clustered index key matches the clustered index key on table [$(Database)].[$(Schema)].[$(Table)] ' ,'Non-clustered index [$(NonClusteredIndexName)] contains the same key columns as the clustered index [$(ClusteredIndexName)] on table [$(Database)].[$(Schema)].[$(Table)].  

These indexes are not identical, but the non-clustered index [$(NonClusteredIndexName)] contains a subset of the data in [$(ClusteredIndexName)] while using the same organizational structure.  [$(NonClusteredIndexName)] may not provide a performance benefit over [$(ClusteredIndexName)], so it may not see regular use. Index [$(NonClusteredIndexName)] is being updated an average of $(UpdatesPerDay) times per day, but it has not been used to improve the read performance of any queries. ' ,'1'  ,''  ,'Non-clustered index keys matches the clustered index key '  ,'Non-clustered indexes contain the same key columns as the clustered index on one or more tables.  

These indexes are not identical, but the non-clustered indexes contain a subset of the data in the clustered indexes while using the same organizational structure.  The non-clustered indexes will rarely provide a performance benefit over the clustered indexes, so they will rarely be used to improve query performance. '  ,'It is recommended that you review the definitions of these indexes to determine if the non-clustered indexes are needed and to ensure the extra overhead of maintaining the non-clustered indexes is justified. If the overhead of maintaining the non-clustered indexes is not justified, those indexes should be dropped.

However, be aware that dropping the non-clustered indexes may have negative performance impacts on those queries which are currently using them. The clustered indexes may be larger and may be less optimized to suit your data access patterns.  Also, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,'$(li)When modifying data in a table with a nonclustered index, SQL Server incurs additional overhead in order to keep the indexes up-to-date. $(li)Using multiple indexes for the same function requires additional storage space on disk and in memory. $(li)If this overlap is not intentional, then one of these indexes may not be used by any queries.'  ,'It is recommended that you review the definitions of these indexes to determine whether the non-clustered index is needed and to ensure the extra overhead of maintaining the non-clustered index is justified. If the overhead of maintaining the non-clustered index is not justified, the non-clustered index should be dropped. If this index is used for infrequent high priority operations, then consider disabling the index, re-enabling the index by rebuilding it shortly before it is needed, and then disabling the index again after the read operations have been completed.

However, be aware that dropping the non-clustered index may have negative performance impacts on those queries which are currently using it. The clustered index may be larger and may be less optimized to suit your data access patterns.  Also, altering or dropping either of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I3'  ,''  ,'http://bit.ly/bITWMu',5  ,10  ,'Out-of-date statistics object' ,'Statistics object [$(Database)].[$(Schema)].[$(Table)].[$(Name)] was last updated on $(StatsDate) and would benefit from updated statistics ' ,'The optimizer may not be able to create optimal execution plans when statistics are out of date.  This can lead to greater amounts of I/Os being generated than necessary as well as excessive TempDB and processor usage in order to fulfill T-SQL queries. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Index Statistics</Title><Link>http://technet.microsoft.com/en-us/library/ms190397(SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) statistics objects would benefit from updated statistics'  ,''  
,'It is recommended that you schedule a process to update statistics explicitly for these objects. Possible causes are: "Auto create/update stats" has been turned off at the database level; the index has been created with "STATISTICS_NORECOMPUTE = ON"; or the statistics themselves have been created "WITH (NORECOMPUTE)". It is recommended that you consider enabling startup trace flag 2371 if you are on SQL Server 2008 R2 SP1 or later and have very large tables where the default update setting of 20% of rows is not sufficient to update statistics more aggressively for very large tables.'  ,''  ,'It is recommended that you schedule a process to update statistics explicitly for object [$(Name)]. Possible causes are: "Auto create/update stats" has been turned off at the database level; the index has been created with "STATISTICS_NORECOMPUTE = ON"; or the statistics themselves have been created "WITH (NORECOMPUTE)".  It is recommended that you consider enabling startup trace flag 2371 if you are on SQL Server 2008 R2 SP1 or later and have very large tables where the default update setting of 20% of rows is not sufficient to update statistics more aggressively for very large tables.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I4'  ,'$(li)If write operations far outnumber read operations on your data set, then the cost of keeping the index up-to-date may outweigh the performance benefits to your queries. $(li)If the increase in performance from adding a new index does not justify the additional storage space on disk, additional time and space spent on backups, or additional maintenance required by the new index.'  ,'http://bit.ly/ceXqCZ',5  ,10  ,'Missing index' ,'Missing index on [$(Database)].[$(Schema)].[$(Table)] ' ,'Missing $(RecommendedIndexes.Count>1?indexes:index) on [$(Database)].[$(Schema)].[$(Table)] which is experiencing $(TableUpdatesPerMinute) table updates per minute. ' ,'3'  ,''  ,'$(Count) tables are missing indexes'  ,'Adding the recommended indexes will improve SQL Server performance by optimizing the access paths for their respective workloads.'  ,'It is recommended that you review the data access patterns for the tables to determine if the suggested indexes would improve the performance of the queries significantly and to ensure the extra overhead of maintaining any new index is justified.'  ,'$(li)Without proper indexes, the SQL Server query optimizer may not have an efficient path to choose for retrieval of row data to satisfy the query.  This may result in a full scan of the underlying table data.'  ,'It is recommended that you review the data access patterns for this table to determine if the suggested index would improve your query performance significantly and to ensure the extra overhead of maintaining the index is justified. If the overhead of maintaining the index is justified, then the suggested index should be created. Additionally, review the existing indexes for consolidation opportunities and determine if there is an index that can be modified to incorporate the missing index data. For example, it might be possible to consolidate indexes by recreating one of them with one or more additional non-key columns using the INCLUDE option.

The ''Affected Batches'' can be reviewed to see which batches are impacted by the addition of the new index.  Each batch is labeled with the estimated percentage of cost improvement for the corresponding batch based on the addition of the new index.

However, be aware that creating indexes will increase the used allocation space of the database, and that SQL Server will have the additional overhead of keeping indexes up-to-date when the table data changes.
'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I5'  ,'$(li)The index has been disabled to reduce the time taken for data extraction, transformation, and loading.$(li)The index is used rarely (once a week/month/quarter/year/etc.) and the cost of constantly keeping the index maintained is significant enough to justify rebuilding the index prior to using it and then disabling it again.$(li)A large nonclustered index has been disabled prior to rebuilding the index.  Normally, rebuilding a nonclustered index requires enough temporary disk space to store both the old and new index.  By disabling and rebuilding the nonclustered index in separate transactions, the space made available by disabling the index can be reused by the subsequent rebuild.  '  ,'http://bit.ly/bPcpqr',5  ,10  ,'Disabled index' ,'Index [$(Name)] on [$(Database)].[$(Schema)].[$(Table)] is disabled ' ,'A disabled index [$(Name)] has been found on table [$(Database)].[$(Schema)].[$(Table)] ' ,'1'  ,''  ,'$(Count) indexes are disabled'  ,'$(Count) disabled indexes have been found.'  ,'You should consider dropping the disabled indexes if they are no longer needed.

However, before dropping any disabled index, verify that:$(li)The index is not temporarily disabled for data loads.$(li)The index is not rebuilt shortly before infrequent high priority operations and disabled after the read operations have completed.'  ,'$(li)The query optimizer does not consider the index when creating query execution plans.$(li)For nonclustered indexes, disabling the index will delete the index data but leave the metadata for the index definition.  However, for clustered indexes, all nonclustered indexes for the table will be disabled and the clustered index will continue to consume storage space.$(li)If the index is a clustered index, this will prevent user access to the table data.'  ,'You should consider dropping the disabled index if it is no longer needed.

However, before dropping the index, verify that:$(li)The index is not temporarily disabled for data loads.$(li)The index is not rebuilt shortly before infrequent high priority operations and disabled after the read operations have completed.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I6'  ,'$(li)The time SQL Server spends updating these indexes may be negligible, which would invalidate concerns about a performance overhead for write operations.$(li)These indexes may be relatively small, which would invalidate concerns about their storage or memory footprint.'  ,'http://bit.ly/cUCyf1',5  ,10  ,'Duplicate index' ,'Duplicate index found on [$(Database)].[$(Schema)].[$(Table)] ' ,'Duplicate indexes [$(IndexName)] and [$(DuplicateIndexName)] were found on table [$(Database)].[$(Schema)].[$(Table)]. ' ,'1'  ,''  ,'$(Count) duplicate indexes found'  ,'Duplicate indexes require additional overhead in order to keep the indexes up-to-date along with additional storage space on disk and in memory.'  ,'It is recommended that you review the definition of these indexes to determine whether they should be redesigned or removed to avoid the overhead cost during write operations.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,'$(li)When modifying data in a table, SQL Server incurs additional overhead in order to keep the indexes up-to-date.$(li)Using multiple indexes for the same function requires additional storage space on disk and in memory.'  ,'It is recommended that you review the definition of these indexes to determine whether they should be redesigned or removed to avoid the overhead cost during write operations.

However, altering or dropping any of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I7'  ,''  ,'http://bit.ly/9PeSLH',5  ,10  ,'Hypothetical index' ,'Hypothetical index found on [$(Database)].[$(Schema)].[$(Table)] ' ,'Hypothetical index [$(IndexName)] was found on [$(TableName)] of database [$(Database)]. This index was used by Microsoft Index Tuning Wizard, Database Tuning Advisor or SQL doctor during index performance analysis and could not be dropped due to a lock on the table.  ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Deleting Hypothetical Indexes and Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms190172.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Deleting Hypothetical Indexes and Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms190172(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Deleting Hypothetical Indexes and Statistics</Title><Link>http://msdn.microsoft.com/en-us/library/ms190172(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) hypothetical indexes found'  ,'The hypothetical indexes were used by Microsoft Index Tuning Wizard, Database Tuning Advisor or SQL doctor during index performance analysis and could not be dropped due to a lock on the table.'  ,'It is recommended that you drop the indexes.'  ,''  ,'It is recommended that you drop the index.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I8'  ,'$(li)The time SQL Server spends updating these indexes may be very small, which would invalidate concerns about a performance overhead for write operations. $(li)These indexes may be relatively small, which would invalidate concerns about their storage or memory footprint. $(li)These indexes may already be optimized to yield maximum performance for particular queries or access patterns (for example, seeking versus scanning).'  ,'http://bit.ly/d0sGg2',5  ,7  ,'Index Consolidation' ,'Indexes on [$(Database)].[$(Schema)].[$(Table)] could be consolidated ' ,'Index [$(RedundantIndexName)] and index [$(IndexName)] on table [$(Schema)].[$(Table)] of database [$(Database)] may be candidates for index consolidation. 

Although these indexes do share key columns, they are not identical because there were differences found in either the key columns or INCLUDE columns. ' ,'1'  ,''  ,'$(Count) index consolidation opportunities found'  ,'Multiple indexes may be candidates for index consolidation. These indexes are not identical, but they do share key columns. This overlap consists of a subset of columns in the same order as those included in another index. '  ,'It is recommended that you review the definitions of these indexes to determine whether a single index should be created to address the full set of queries currently being covered by these multiple separate indexes.

However, be aware that consolidating these indexes may have undesirable performance impacts.  The consolidated index may be larger and may be less optimized to suit your data access patterns.  Also, altering or dropping either of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.
'  ,'$(li)When modifying data in a table with a nonclustered index, SQL Server incurs additional overhead in order to keep the indexes up-to-date.$(li)Using multiple indexes for the same function requires additional storage space on disk and in memory.$(li)If this overlap is not intentional, then one of these indexes may not be used by any queries.'  ,'It is recommended that you review the definitions of these indexes to determine whether a single index should be created to address the full set of queries currently being covered by [$(RedundantIndexName)] and [$(IndexName)]. If one of these indexes is used for infrequent high priority operations, then consider disabling the index, re-enabling the index by rebuilding it shortly before it is needed, and then disabling the index again after the read operations have been completed.


However, be aware that consolidating these indexes may have undesirable performance impacts.  The consolidated index may be larger and may be less optimized to suit your data access patterns.  Also, altering or dropping either of the existing indexes could have negative consequences for queries which specifically reference those indexes in a query hint.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I9'  ,''  ,'http://bit.ly/bH9cVw',5  ,5  ,'Index experiencing lock contention' ,'$(IndexName?Index [$(IndexName)] on table:Table) [$(Database)].[$(Schema)].[$(Table)] is experiencing excessive $(ContentionType) lock contention ' ,'The $(IndexName?index:table) is experiencing an average wait time of $(FormattedAvgWait) per wait due to lock contention with $(FormattedLockPercent) of the locks experiencing a wait.  This can significantly degrade the performance of queries using the $(IndexName?index:table). ' ,'1'  ,''  ,'$(Count) objects are experiencing excessive lock contention'  ,'These objects are experiencing a high average wait time per wait due to lock contention.  This can significantly degrade the performance of queries using these objects.'  ,'It is recommended that you review your application''s use of these objects to determine if optimizations can be introduced to reduce contention.  Note that other SQL doctor recommendations may be available to help remedy this problem.'  ,''  ,'It is recommended that you review your applications usage of $(IndexName?index [$(IndexName)]:table [$(TableName)]) to determine if optimizations can be introduced to reduce contention. Note that other SQL doctor recommendations may be available to help remedy this problem.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-LR1'  ,''  ,'http://bit.ly/axXNZZ' ,6  ,7  ,'Long running SQL Agent job' ,'Job ''$(JobName)'' ran substantially longer than usual ' ,'The last run of job ''$(JobName)'' ran substantially longer than the prior successful runs.  It ran for a total of $(LastRunDurationMinutes) minutes and it normally runs for $(AvgRunDurationMinutes) minutes. ' ,'1'  ,''  ,'$(Count) jobs ran substantially longer than usual'  ,'The last run of the jobs ran substantially longer than the prior successful runs.  '  ,'It is recommended that the job be examined for possible problems.'  ,''  ,'It is recommended that the job be examined for possible problems.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M28'  ,''  ,'http://bit.ly/9LptAQ',7  ,NULL  ,'' ,'SQL Server memory is experiencing stress while no CPU problems are detected ' ,'A performance bottleneck is being experienced due to page compression settings. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that page compression be turned on for the following large tables which are in your most used databases in terms of I/O usage: Table xxx (xx% and xxMB reduction will be achieved compressing this table), Table xxx (xx% and xxMB reduction will be achieved compressing this table)'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M1'  ,'$(li)When multiple applications are running on a single server, giving SQL Server the right to "Lock Pages in Memory" without also configuring the maximum server memory setting can result in other applications or the operating system becoming unable to allocate sufficient memory.  If it is not possible to configure the maximum server memory for SQL Server, then the "Lock Pages in Memory" right should not be granted. $(li)When multiple applications are running on a single server and have the "Lock Pages in Memory" right, each application should be configured with an upper bound for memory consumption.  Essentially, the total system memory should be divided up and portioned to each application including the operating system in order to ensure that none of your essential applications become memory starved.  If any of the applications running on the server do not support this configuration, then the "Lock Pages in Memory" right should not be granted.'  ,'http://bit.ly/bXIagg',7  ,10  ,'The SQL Server User Right "Lock Pages in Memory" is Not Being Used ' ,'The SQL Server user right "Lock Pages in Memory" is not being used ' ,'Granting the "Lock Pages in Memory" user right to the SQL Server service on a 64-bit system allows SQL Server to manage its memory allocations to ensure that critical data remains in physical memory. ' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How to reduce paging of buffer pool memory in the 64-bit version of SQL Server</Title><Link>http://support.microsoft.com/KB/918483/EN-US</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Support for Locked Pages on Standard Edition 64-bit systems</Title><Link>http://support.microsoft.com/kb/970070/</Link><Condition>SQL64Bit = True</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)The right "Lock Pages in Memory" is necessary in order to enable AWE on 32-bit SQL Servers prior to SQL 2012 (SQL 2012 does not support AWE).  AWE has no impact on 64-bit systems, but the user right prevents the Windows OS from removing the SQL Server buffer pool from physical memory in order to make room for other applications.$(li)Without this user right granted, the Windows OS can move large portions of the SQL Server buffer pool to disk when other applications request physical memory. $(li)SQL Server performance is degraded significantly when critical data is paged out of physical memory.'  ,'It is recommended that you review the memory usage of all applications running on the server to determine if it is appropriate to grant the user right "Lock Pages in Memory" to the SQL Server.  You should NOT try to set the AWE switch on 64-bit systems as it has no effect.

However, be aware that with "Lock Pages in Memory" granted, the Windows OS will not page SQL Server''s buffer pool out of physical memory in order to reclaim space, which can lead to memory starvation in other applications running on the server.  To avoid this situation, you should ensure that the SQL Server configuration option "Max Server Memory" is also configured to set an upper bound which will leave sufficient memory available for the operating system and other applications.  

Note: Standard Editions of SQL Server will also require trace flag 845 to be added as a startup parameter so that "Lock Pages in Memory" can be used.  Enterprise editions do not need this trace flag.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M26'  ,''  ,'http://bit.ly/bcgT1p ',7  ,NULL  ,'' ,'The Screen Saver is enabled ' ,'The screen saver can unnecessarily use resources that should be kept available for SQL Server. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the Screen Saver be set to (none) or blank on a production server to improve performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M25'  ,''  ,'http://bit.ly/9WiWK0 ',7  ,NULL  ,'' ,'Visual Effects are not adjusted for best performance ' ,'Visual Effects consume CPU cycles, extra memory and network bandwidth as most production servers are accessed using Remote Desktop. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that Visual Effects on the Control Panel be set for best performance on production servers. '  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M10'  ,'$(li)These applications may be configured to have a very low footprint or to yield resources to SQL Server as necessary. $(li)Your business requirements may consider some of these applications essential.'  ,'http://bit.ly/ch3Blq',7  ,'7'  ,'Non-Essential Applications Detected ' ,'Non-essential applications have been detected running on the server ' ,'Non-essential applications compete for resources and degrade performance on your server. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Operating System Performance Optimization</Title><Link>http://www.sql-server-performance.com/articles/audit/operating_system_performance_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Non-essential applications compete for resources and degrade performance on your server.'  ,'It is recommended that you review these applications to determine if they can be moved to a different server: $(RunningProcesses).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M11'  ,''  ,'http://bit.ly/8Z0OAR',7  ,10  ,'Server is domain controller' ,'The server is being used as a primary or a backup domain controller ' ,'During periods of high user validation on the domain, SQL Server performance will degrade. Additionaly, high usage of SQL Server can cause domain authentication to take a long time or fail causing transient authentication problems throughout the domain. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Is it recommended to install SQL Server on a Windows domain controller?</Title><Link>http://www.sql-server-performance.com/faq/domain_controller_performance_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that production servers should not be used as primary domain controllers (or backup domain controllers). '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M22'  ,''  ,'http://bit.ly/aQ78Ba',7  ,NULL  ,'' ,'The Operating System is set to give best performance to the System Cache ' ,'SQL Server performance will increase if the setting is changed to Allow best performance of background services. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that a production SQL Server should have the setting set to Allow best performance of background programs. To make sure that memory is not taken away from SQL Server in order to enlarge Operating System cache which will not help SQL Server.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M12'  ,'$(li)The SQL Server instance is located on a server which is used for file sharing.  This setting is useful for servers that typically run the file sharing service.$(li)Additional memory is available for the larger file system cache that is not needed by the SQL Server instance.'  ,'http://bit.ly/bomYRC',7  ,'10'  ,'Maximize data throughput for file sharing setting is enabled' ,'The ''Maximize data throughput for file sharing'' setting is enabled ' ,'This setting optimizes the Windows server for file and printer sharing resources. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>LargeSystemCache</Title><Link>http://technet.microsoft.com/en-us/library/cc784562(WS.10).aspx</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)This setting reduces the amount of memory available for SQL Server by providing additional memory to the file system cache.'  ,'You should consider changing this setting to "Maximize data throughput for network applications" if the SQL Server is not located on a file sharing server.  This can be changed through Network Local Connection Properties on Windows 2003 production servers. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M20'  ,''  ,'http://bit.ly/bh1iEm ',7  ,NULL  ,'' ,'The Operating System is set to give best performance to foreground applications ' ,'SQL Server performance will increase if the setting is changed to Allow best performance of background services. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that on high availability SQL Server should have the setting set to Allow best performance of background services.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M13'  ,'$(li)When index page density is high, this indicates that the space left empty due to the fill factor setting has since been filled in due to modifications to the table data, which means that the index pages in the buffer cache are not left partially empty. The next time this index is rebuilt, the data will be redistributed in order to again enforce the fill factor setting. $(li)Increasing the index fill factor will compact the data and save space in memory, but it will also lead to more page splits as the underlying table data is modified.  The cost of page splits in your environment may justify the memory contention created by using a low fill factor.'  ,'http://bit.ly/c4DZhD',7  ,8  ,'Low Default Fill Factor' ,'The server default fill factor is $(FillFactor) which may be contributing to memory pressure ' ,'The SQL Server is currently experiencing memory pressure which may be related to the number of partially-filled index pages loaded into memory. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)The server-wide fill factor affects all indexes on the server whenever they are created or rebuilt. Every page of the index will be left partially empty in order to avoid future page splits as the underlying table data is updated. This increases the total size of the index by leaving "air pockets" for future growth. $(li)Because the indexes are larger, they take up more storage in the buffer cache whenever they are being used.  This in turn forces other data pages to be moved out of the buffer cache in order to make room for "air pockets."'  ,'It is recommended that the server-wide fill factor be increased and the indexes of larger tables be rebuilt in order to reduce memory stress as more data will reside on each 8K page.  Additionally, it is possible to control the fill factor for individual indexes when the index is created or rebuilt. This provides more granular control over how much empty space is left in each index so that these settings can be adjusted according to the data access patterns for each table.

However, be aware that increasing the fill factor of an index can lead to more frequent page splits as the data changes.  Such page splits always impact SQL Server performance and generate additional transaction log data.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M14'  ,''  ,'http://bit.ly/9yumDA',7  ,6  ,'' ,'The server default fill factor is $(FillFactor) and the number of page splits is small ' ,'The number of page splits is small and the fill factor is low. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Fill Factor</Title><Link>http://msdn.microsoft.com/en-us/library/ms177459(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the fill factor be increased and the indexes of larger tables be re-indexed to reduce I/O usage and to maximize available memory as more data will reside on each 8K page.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M15'  ,''  ,'http://bit.ly/ayvaZa',7  ,6  ,'High page split count' ,'SQL Server is experiencing relatively high levels of page splits and its memory is not under stress ' ,'Page splits are currently accounting for $(PageSplitAllocationPercentage)% of all new page allocations. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>At what point should I worry about page splits, and what can I do to help reduce them?</Title><Link>http://www.sql-server-performance.com/faq/reduce_page_splits_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the fill factor be lowered on indexes that are experiencing a high number of page splits. This will result in better insert and update performance. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M16'  ,''  ,'http://bit.ly/9x9nNT',7  ,10  ,'Physical RAM has decreased' ,'The total amount of physical RAM available on this server has decreased by $(DecreasedBy) ' ,'A decrease in physical RAM has a corresponding decrease in system performance.  ' ,'3'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that the cause of the decrease in physical RAM on this server be determined and fixed to improve performance. There are several possible causes: $(li)One of your memory modules has failed or become unseated. $(li)Changes either to the BIOS version or on the BIOS have allocated some of the shared memory to another resource (such as video RAM).$(li)If this is a virtual machine then changes to the VM have excluded memory to this VM.$(li)If this server is part of a cluster then a failover may have occurred onto a machine with less physical RAM'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M17'  ,'$(li)It may be necessary to lower the max server memory setting to prevent SQL Server from consuming all available resources and starving other applications or even the operating system.'  ,'http://bit.ly/9uzhuu',7  ,10  ,'Max Server Memory Setting has been Reduced' ,'The max server memory setting has been reduced since the last analysis ' ,'The SQL Server is experiencing memory pressure, and the most recent analysis shows that the max server memory setting has been reduced from previous values. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)SQL Server is experiencing memory pressure, which may be directly linked to having less memory available.'  ,'It is recommended that you review recent changes to the SQL Server max server memory setting to determine if those changes may be causing the current memory pressure.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M18'  ,''  ,'http://bit.ly/cSsoJ3',7  ,10  ,'Non-default "Max concurrent user connections"' ,'The Max Concurrent User Connections setting is not set to the default of "0" ' ,'The default setting dynamically allocates memory for connection as needed. Each connection requires ~100KB Ram, which means that your setting of $(UserConnections) is reserving $(MemoryEstimate) of memory to be continuously allocated to connections.  ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Memory Used by SQL Server Objects Specifications</Title><Link>http://msdn.microsoft.com/en-us/library/aa337559.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Memory Used by SQL Server Objects Specifications</Title><Link>http://msdn.microsoft.com/en-us/library/aa337559(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Memory Used by SQL Server Objects Specifications</Title><Link>http://msdn.microsoft.com/en-us/library/aa337559(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you set the Max Concurrent User Connections setting to the default of "0" to allow SQL Server to use free memory to store additional data/index pages or additional query plans.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M19'  ,''  ,'http://bit.ly/aPn5sR',7  ,10  ,'Non-default "Index creation memory"' ,'The Index Creation Memory option is not set to the default of "0" ' ,'The Index Creation Memory option is currently set to $(MemoryInKB) KB. This setting dynamically allocates the memory index creation as it is needed.  ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>index create memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms175123.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>index create memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms175123(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>index create memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms175123(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Index Creation Memory option be set to the default of "0" unless very large tables are being indexed as this memory is permanently allocated and cannot be shared by either the buffer pool or procedure cache.'  ,0,''
,1)
--INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
--('SDR-M2'  ,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management. $(li)In an environment where multiple SQL Server instances are on the same server, or in a clustered environment when multiple SQL Server instances can be active on the same clustered node, consideration should be given to the memory usage of each instance. '  ,'http://bit.ly/bNRKeQ',7  ,'10'  ,'Memory Configuration Not Optimized: 16GB+ RAM' ,'Memory configuration settings are not set for the best performance of a 32-bit SQL Server with 16GB or more of RAM ' ,'Memory options for ‘Physical Address Extension,’ ‘3GB,’ ‘USERVA,’ ‘Address Windowing Extensions,’ and ‘Lock Pages in Memory’ are not configured correctly for optimal performance of a 32-bit SQL Server with 16GB or more of RAM. ' ,'3'  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  
--Without this enabled, the additional physical memory cannot be accessed on a 32-bit system. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB.  Because this server has 16GB or more of memory, do not set the /3GB switch to limit the operating system to only 1GB.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  Because this server has 16GB or more of memory, AWE will allow the 32-bit SQL Server process to access to the additional memory. $(li)The ‘Lock Pages in Memory’ user right must be assigned to the user account that the SQL Server process is executed under.  This right is assigned by default to the ‘Local System’ account.  Without the ‘Lock Pages in Memory’ user right, AWE cannot be used by the SQL Server process.'  ,'It is recommended you implement all of the following recommendations on 32-bit SQL Servers that have 16GB or more of RAM:
--$(li)Enable Physical Address Extensions (/PAE) in the startup configuration $(li)Disable /3GB in the startup configuration $(li)Enable Address Windowing Extensions (AWE) in the SQL Server configuration $(li)Enable the SQL Server advanced user right lock pages in memory
----However, extra steps should be taken to verify the current configuration is not required.  The recommended configuration is very specific to a 32-bit SQL Server with 16GB or more of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.'  ,1,''
--,0)
INSERT INTO #upgrade_PrescriptiveRecommendation (
[TempRecommendationID],
[TempAdditionalConsiderations]
,[Tempbitly]
,[TempCategoryID]
,[TempConfidenceFactor]
,[TempDescription]
,[TempFinding]
,[TempImpactExplanation]
,[TempImpactFactor]
,[TempInfoLinks]
,[TempPluralFormFinding]
,[TempPluralFormImpactExplanation]
,[TempPluralFormRecommendation]
,[TempProblemExplanation]
,[TempRecommendation]
,[TempRelevance]
,[TempTags],[TempIsActive]) VALUES 
('SDR-M2'  
,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management. $(li)In an environment where multiple SQL Server instances are on the same server, or in a clustered environment when multiple SQL Server instances can be active on the same clustered node, consideration should be given to the memory usage of each instance. '  
,'http://bit.ly/bNRKeQ'
,7  
,10  
,'Memory Configuration Not Optimized: 16GB+ RAM' ,'Memory configuration settings are not set for the best performance of a 32-bit SQL Server with 16GB or more of RAM ' ,'Memory options for ''Physical Address Extension,'' ''3GB,'' ''USERVA,'' ''Address Windowing Extensions,'' and ''Lock Pages in Memory'' are not configured correctly for optimal performance of a 32-bit SQL Server with 16GB or more of RAM. ' 
,3  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  
,''  
,'' 
 ,''  
 ,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  Without this enabled, the additional physical memory cannot be accessed on a 32-bit system. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB.  Because this server has 16GB or more of memory, do not set the /3GB switch to limit the operating system to only 1GB.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  Because this server has 16GB or more of memory, AWE will allow the 32-bit SQL Server process to access to the additional memory. $(li)The ''Lock Pages in Memory'' user right must be assigned to the user account that the SQL Server process is executed under.  This right is assigned by default to the ''Local System'' account.  Without the ''Lock Pages in Memory'' user right, AWE cannot be used by the SQL Server process.'
 ,'$(li)Enable Physical Address Extensions (/PAE) in the startup configuration $(li)Disable /3GB in the startup configuration $(li)Enable Address Windowing Extensions (AWE) in the SQL Server configuration $(li)Enable the SQL Server advanced user right lock pages in memory

However, extra steps should be taken to verify the current configuration is not required.  The recommended configuration is very specific to a 32-bit SQL Server with 16GB or more of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.'  
,1
,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M21'  ,''  ,'http://bit.ly/91AWUg',7  ,10  ,'OS optimized for foreground applications' ,'The Operating System is set to give best performance to foreground applications ' ,'SQL Server performance will increase if the setting is changed to ''Allow best performance of background services''. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Operating System Performance Optimization</Title><Link>http://www.sql-server-performance.com/articles/audit/operating_system_performance_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that your Operating System should have the setting set to ''Allow best performance of background services'' to improve SQL Server performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M23'  ,''  ,'http://bit.ly/9UAeS2',7  ,10  ,'Memory performance of cache' ,'The Operating System is set to give best performance to the System Cache ' ,'This setting enlarges the system cache at the expense of giving SQL Server extra memory for data or index pages as well as procedure plans.  ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Best Practices: Adjust performance options to speed up Windows XP clients</Title><Link>http://articles.techrepublic.com.com/5100-10878_11-5034438.html</Link></RecommendationLink><RecommendationLink><Title>Operating System Performance Optimization</Title><Link>http://www.sql-server-performance.com/articles/audit/operating_system_performance_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Operating System should have the Memory Usage adjusted for ''best performance of programs'' to increase performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M9'  ,''  ,'http://bit.ly/bwtmh8 ',7  ,NULL  ,'' ,'The production server has more than one SQL Server instance running ' ,'SQL Server instances compete for resources (CPU, Memory and I/O) potentially degrading performance. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that on high availability production servers, only one instance of SQL Server should be running.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M24'  ,''  ,'http://bit.ly/aO7KPX',7  ,9  ,'Need to optimize for ad-hoc workloads' ,'Single use Ad-hoc plans are using $(AdhocCacheSizeFormatted) of procedure cache   ' ,'These plans consume storage that can be better utilized by other plans or data pages.  ' ,'2'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that the ''Optimize For Ad-Hoc Workloads'' configuration setting should be enabled via sp_configure. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M27'  ,''  ,'http://bit.ly/b0FKxx',7  ,8  ,'Paging detected' ,'Your Server is currently paging at $(PagesPerSec) pages per second ' ,'This is putting a strain on both the processor and I/O subsystems and significantly slowing response times.  ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Tips for Using Performance Monitor Memory Counters</Title><Link>http://www.sql-server-performance.com/tips/performance_monitor_memory_counter_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that physical page faults be kept to a minimum. Paging occurs when there is not enough RAM available to perform a process in memory or when SQL Server needs to shrink one section of cache in order to expand a different section of cache or to release memory to the operating system. This issue can be addressed by ensuring that the Max Server Memory setting is set appropriately for the server and ensuring that the SQL Server agent service account has the Lock Pages in Memory privilege set. It may also be addressed by tuning queries that use large amount of memory. For paging from processes other than SQL Server, the lack of memory may be a result of SQL Server not leaving sufficient memory free. In this case, the Max Server Memory setting may need to be lowered to a setting that would allow additional memory to be left free for the Operating System and other non-SQL Server processes to use. The list below contains the 10 processes which are currently consuming the greatest amount of total memory on your Server: $(Processes).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M29'  ,''  ,'http://bit.ly/aD6kth',7  ,10  ,'SQL Server memory limit reached' ,'The SQL Server memory limit has been exceeded while generating an execution plan ' ,'The creation of an execution plan caused the SQL Server memory limit to be exceeded.  The execution plan generated is still correct, but it may not be optimal. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to adjust memory usage by using configuration options in SQL Server</Title><Link>http://support.microsoft.com/kb/321363</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you try one of the following methods to increase available memory: $(br)1. Reduce the load on the server  $(br)2. Increase memory available to SQL Server  $(br)3. Check the max server memory option that is set with sp_configure and increase the value if it is too low'  ,1,''
,0)
--INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
--('SDR-M3'  ,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management.'  ,'http://bit.ly/a9WU82 ',7  ,10  ,'Memory Configuration Not Optimized: 4-16GB RAM' ,'Memory configuration settings are not set for best performance of a 32-bit SQL Server with greater than 4GB and less than 16GB of RAM ' ,'Memory options for ‘Physical Address Extension,’ ‘3GB,’ ‘USERVA,’ and ‘Address Windowing Extensions’ are not configured correctly for optimal performance of a 32-bit SQL Server with greater than 4GB and less than 16GB of RAM. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  Without this enabled, the additional physical memory cannot be accessed on a 32-bit system. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB.  Because this server has between 4GB and 16GB of physical memory, the /3GB switch should be set to limit the operating system to only 1GB.$(li)Address Windowing E$(li)Enable Physical Address Extensions (/PAE) in the startup configuration $(li)Enable /3GB in the startup configuration $(li)Enable Address Windowing Extensions (AWE) in the SQL Server configuration $(li)Enable the SQL Server advanced user right lock pages in memory

--However, extra steps should be taken to verify the current configuration is not required.  The recommended configuration is very specific to a 32-bit SQL Server with greater than 4GB and less than 16GB of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.'  ,1,''
--,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
(
'SDR-M3'  
,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management.'  
,'http://bit.ly/a9WU82 '
,7 
,'10'  
,'Memory Configuration Not Optimized: 4-16GB RAM' 
,'Memory configuration settings are not set for best performance of a 32-bit SQL Server with greater than 4GB and less than 16GB of RAM ' 
,'Memory options for ''Physical Address Extension,'' ''3GB,'' ''USERVA,'' and ''Address Windowing Extensions'' are not configured correctly for optimal performance of a 32-bit SQL Server with greater than 4GB and less than 16GB of RAM. ' 
,'3'  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title>
<Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink>
<Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink>
<RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link>
<Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink>
<RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink>
<RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink>
<RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title>
<Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink>
<RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink>
<RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  
,''  
,''  
,''
,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  Without this enabled, the additional physical memory cannot be accessed on a 32-bit system. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB. 
Because this server has between 4GB and 16GB of physical memory, the /3GB switch should be set to limit the operating system to only 1GB.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  
Because this server has more than 4GB of memory, AWE will allow the 32-bit SQL Server process to access to this memory. 
$(li)The ''Lock Pages in Memory'' user right must be assigned to the user account that the SQL Server process is executed under.  
This right is assigned by default to the ''Local System'' account.  Without the ''Lock Pages in Memory'' user right, 
AWE cannot be used by the SQL Server process.'  
,'It is recommended you implement all of the following recommendations on 32-bit SQL Servers that have greater than 4GB and less than 16GB of RAM: 
$(li)Enable Physical Address Extensions (/PAE) in the startup configuration $(li)Enable /3GB in the startup configuration $(li)Enable Address Windowing Extensions (AWE) in the SQL Server configuration $(li)Enable the SQL Server advanced user right lock pages in memory'
,1
,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M4'  ,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management.'  ,'http://bit.ly/9igrOB ',7  ,'10'  ,'Memory Configuration Not Optimized: 4GB RAM' ,'Memory configuration settings are not set for best performance for a 32-bit SQL Server with 4GB of RAM ' ,'Memory options for ''Physical Address Extension,'' ''3GB,'' ''USERVA,'' and ''Address Windowing Extensions'' are not configured correctly for optimal performance of a 32-bit SQL Server with 4GB of RAM. ' ,'3'  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  This feature will not help the performance of SQL Server when the system has 4GB or less of physical memory. 
$(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB.  Because this server has 4GB of physical memory, the /3GB switch should be set to limit the operating system to only 1GB and allow 3GB for user mode processes.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  Because this server has 4GB of memory, AWE is not needed.'  ,'It is recommended you implement all of the following recommendations on 32-bit SQL Servers that have 4GB of RAM: 
$(li)Disable Physical Address Extensions (/PAE) in the startup configuration $(li)Enable /3GB in the startup configuration $(li)Disable Address Windowing Extensions (AWE) in the SQL Server configuration

However, extra steps should be taken to verify the current configuration is not required.  The recommended configuration is very specific to a 32-bit SQL Server with 4GB of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M5'  ,'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management.'  ,
'http://bit.ly/aOT72F ',7  ,
'6'  ,
'Memory Configuration Not Optimized: 3-4GB RAM' ,
'Memory configuration settings are not set for best performance of a 32-bit SQL Server with greater than 3GB and less than 4GB of RAM ' ,
'Memory options for ''Physical Address Extension,'' ''3GB,'' and ''Address Windowing Extensions'' are not configured correctly for optimal performance of a 32-bit SQL Server with greater than 3GB and less than 4GB of RAM. ' ,
'3'  ,
'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,
'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  This feature will not help the performance of SQL Server when the system has less than 4GB of physical memory. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  When you limit the operating system to only 1GB, you limit the amount of physical memory that can be managed by the operating system to only 16GB.  Because this server has enough physical memory, the /3GB switch should be set to limit the operating system to only 1GB and allow 3GB for user mode processes. $(li)The /USERVA switch will allow for a more precise tuning of user and kernel virtual memory space.  This switch in combination with the /3GB switch will allow for fine tuning the user mode space to a value between 2GB and 3GB.  Because this server has between 3GB and 4GB of physical memory, precise tuning of the space available to user mode processes should be considered.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  Because this server has less than 4GB of memory, AWE is not needed.'  
,'It is recommended you implement all of the following recommendations on 32-bit SQL Servers that have greater than 3GB and less than 4GB of RAM: 
$(li)Disable Physical Address Extensions (/PAE) in the startup configuration $(li)Enable /3GB in the startup configuration $(li)Disable Address Windowing Extensions (AWE) in the SQL Server configuration
However, extra steps should be taken to verify the current configuration is not required.  The recommended configuration is very specific to a 32-bit SQL Server with greater than 3GB and less than 4GB of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M6'  ,
'$(li)There may be a specific requirement for the server to have one or more of these configuration options set.  This could be the requirement of third-party applications or the result of extensive performance tuning relating specifically to memory allocation and management.'  ,
'http://bit.ly/c41jzI ',7  ,'10'  ,
'Memory Configuration Not Optimized: <3GB RAM' ,
'Memory configuration settings are not set for best performance of a 32-bit SQL Server with 3GB or less RAM ' ,
'Memory options for ''Physical Address Extension,'' ''3GB,'' ''USERVA,'' and ''Address Windowing Extensions'' are not configured correctly for optimal performance of a 32-bit SQL Server with 3GB or less of RAM. ' 
,'3'
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Physical Address Extension</Title><Link>http://msdn.microsoft.com/en-us/library/aa366796(VS.85).aspx</Link></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using AWE</Title><Link>http://msdn.microsoft.com/en-us/library/ms175581(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>How to Enable the Lock Pages in Memory Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms190730(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Be Aware Using AWE locked pages in memory, on 64-bit</Title><Link>http://blogs.msdn.com/b/slavao/archive/2005/04/29/413425.aspx</Link><Condition>SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>Boot Configuration Data Editor Frequently Asked Questions</Title><Link>http://technet.microsoft.com/en-us/library/cc721886(WS.10).aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>Who Moved My /3GB?</Title><Link>http://blogs.technet.com/b/askperf/archive/2009/04/03/who-moved-my-3gb.aspx</Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>BCD Boot Options Reference</Title><Link>http://msdn.microsoft.com/en-us/library/ff542205(VS.85).aspx </Link><Condition>OSVersionMajor = 6</Condition></RecommendationLink><RecommendationLink><Title>How to edit the Boot.ini file in Windows Server 2003</Title><Link>http://support.microsoft.com/kb/323427</Link><Condition>OSVersion = 5.2</Condition></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  
,'$(li)Physical Address Extension (PAE) is a feature of the processor that allows access to more than 4GB of physical memory.  This feature will not help the performance of SQL Server when the system has 3GB or less of physical memory. $(li)The /3GB switch will allot 3GB of virtual address space to user mode processes and 1GB of virtual address space to the operating system.  Because there is not enough physical memory available to account for larger user mode and allotted operating system address space, the SQL Server process performance could be hindered by excessive memory paging to when supporting the additional memory requirements. $(li)The /USERVA switch will allow for a more precise tuning of user and kernel virtual memory space.  This switch in combination with the /3GB switch will allow for fine tuning the user mode space to a value between 2GB and 3GB.  Because there is not enough physical memory available to account for larger user mode and allotted operating system address space, the SQL Server process performance could be hindered by excessive memory paging to when supporting the additional memory requirements.$(li)Address Windowing Extensions (AWE) on a 32-bit SQL Server will allow for SQL Server to access physical memory greater than 4GB.  Because this server has 3GB or less of memory, AWE is not needed.'  ,'It is recommended that the following settings be used on 32-bit SQL Servers with 3GB or less RAM: 
$(li)Disable Physical Address Extensions (/PAE), /3GB, and /USERVA in the startup configuration $(li)Disable Address Windowing Extensions (AWE) in the SQL Server configuration

However, extra steps should be taken to verify the current configuration is not required.  There are configurations which make use of SQLCLR, Extended Stored Procedures, OLE Automation, linked servers, or other heavy MemToLeave users where it may be necessary to use the /3GB switch in conjunction with the -g startup parameter to the SQL Server process.  

This recommendation is very specific to a 32-bit SQL Server with 3GB or less of physical memory.  If the amount of physical memory has been changed on the system, these settings must be verified again to ensure optimum performance of both the operating system and applications.',1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M7'  ,''  ,'http://bit.ly/9qGa6O ',7  ,9  ,'Memory contention' ,'The SQL Server instance is experiencing memory stress ' ,'The SQL Server instance is experiencing at least some memory stress that could be relieved due to one or more of the following conditions:
$(li)1. Page Life Expectancy of less than 5 minutes.
$(li)2. Buffer Cache Hit Ratio of less than 95%
$(li)3. Memory Grants Pending has remained about 10 on average over a 5 minute period. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to adjust memory usage by using configuration options in SQL Server</Title><Link>http://support.microsoft.com/kb/321363</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Max Server Memory option in SQL Server which is currently set to $(MaxServerMemory) be set to $(SuggestedMaxServerMemory). After setting Max Server Memory to an appropriate level, it is recommended that you ensure the Lock Pages in Memory privilege is granted to the SQL Server service account to prevent SQL Server from responding to memory requests from the Operating System.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M30'  ,''  ,'',7  ,10  ,'Available memory not used' ,'This version of SQL Server will not use all of the available memory  ' ,'The system has $(ServerMemory)gigs of memory available which cannot be accessed by the 32-bit version of SQL Server.  To access more than 4gigs of RAM, 32-bit Address Windowing Extensions (AWE) must be used which is no longer supported in SQL Server as of SQL Server 2012. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Discontinued Database Engine Functionality in SQL Server 2012</Title><Link>http://msdn.microsoft.com/en-us/library/ms144262(SQL.110).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that a 64-bit Operating System and hardware be used to allow access to more memory.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M8'  ,'$(li)If the performance implications of the ''Min Server Memory'' setting are understood and acceptable for the SQL Server instance.'  ,'http://bit.ly/9rZPq1',7  ,9  ,'System paging' ,'The system is paging excessively ' ,'Your system is paging at a rate of $(PagesPerSec) pages per second and the SQL Server instance is configured with a high ''Min Server Memory'' setting. ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Memory Options</Title><Link>http://msdn.microsoft.com/en-us/library/ms178067(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Effects of min and max server memory</Title><Link>http://msdn.microsoft.com/en-us/library/ms180797(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to adjust memory usage by using configuration options in SQL Server</Title><Link>http://support.microsoft.com/kb/321363</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>How to reduce paging of buffer pool memory in the 64-bit version of SQL Server</Title><Link>http://support.microsoft.com/kb/918483</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5 AND SQL64Bit = True</Condition></RecommendationLink><RecommendationLink><Title>How to reduce paging of buffer pool memory in the 64-bit version of SQL Server</Title><Link>http://support.microsoft.com/kb/918483</Link><Condition>SQLVersionMajor = 9 AND SQL64Bit = True</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)SQL Server will not release memory if it will be less than the ''Min Server Memory'' setting.  This can cause additional memory pressure on the server and require the operating system to page out SQL Server memory.$(li)If ''Lock pages in memory'' is used by SQL Server, a high ''Min Server Memory'' setting can starve the operating system of physical memory by preventing the operating system from paging out the memory allocated to SQL Server.'  ,'You should consider setting the ''Min Server Memory'' configuration value to zero.  This will provide SQL Server with the needed flexibility to properly manage the memory requirements of the SQL Server instance.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N1'  ,''  ,'http://bit.ly/8ZLb0k',8  ,10  ,'Failed network card' ,'One or more network cards have stopped working ' ,'In a previous analysis $(PreviousCards) network cards were detected with a total bandwidth of $(PreviousBandwidthMB) MB/s. In the current analysis $(Cards) network cards with a total bandwidth of $(BandwidthMB) MB/s were found (representing a $(BandwidthLost)% reduction in capacity). ' ,'2'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that the Network cards be examined to determine which are having problems. Either a network card has stopped working or been unplugged either on the card or network switch or the network cable/fiber is faulty or another server is being used or a failover has occurred on a cluster to a server with lesser network capability.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N2'  ,''  ,'http://bit.ly/9zFqUa',8  ,8  ,'Reduced network bandwidth' ,'The server has lost network bandwidth ' ,'In a previous analysis, the total active bandwidth was $(PreviousBandwidthMB) MB/s and it is now $(BandwidthMB) MB/s representing a $(BandwidthLost)% reduction. ' ,'2'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that you check the following:  $(br)1. Have you exchanged your network card recently with a lower bandwidth card? $(br)2. Has a network driver BIOS change been made? $(br)3. Has the "teaming" between network cards changed?  $(br)4. Are there hardware/cable/fiber errors preventing a card from operating at full potential? $(br)5. Has a failover occurred on a cluster to a server with a less capable card?'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N6'  ,''  ,'http://bit.ly/9Eleuj ',8  ,10  ,'Network SSL Encryption high impact' ,'Network encryption has been turned on by default ' ,'There are high security environments where network encryption is required.  It is important to note that encryption and decryption of network transmission streams places additional CPU load on the server as well as double the number of network transmissions during each connection made. ' ,'1'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that, if the network transmission encryption is not necessary,  network encryption be disabled.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N3'  ,''  ,'http://bit.ly/90sWu3',8  ,4  ,'Non-SQL Server network load' ,'Significant non-SQL Server network load ' ,'SQL Server is generating only $(SqlNetworkLoad)% of the network load on your production server while $(NonSqlNetworkLoad)% is being generated by non-SQL Server processes and your network is under stress. ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Operating System Performance Optimization</Title><Link>http://www.sql-server-performance.com/articles/audit/operating_system_performance_p1.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that non-essential applications be stopped on production servers.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N4'  ,''  ,'http://bit.ly/cP2PpO',8  ,5  ,'TCP segments being retransmitted' ,'High number of TCP segments are being retransmitted ' ,'The number of TCP segments being retransmitted is $(SegmentsRetransmittedPerSec).  This represents $(SegmentsRetransmittedPercent)% of the total.  TCP segments are typically retransmitted either due to the lack of timely acknowledgement or when segments are being acknowledged out of sequence. A high level of retransmissions will significantly slow SQL Server. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>TCP Retransmission Behavior</Title><Link>http://msdn.microsoft.com/en-us/library/ms819737.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you check the following for the following problems: 1. Either the network card in the server or the network switch is highly congested. 2. There is a cabling problem between the network card and switch. 3. There are intermittent hardware faults in the NIC or switch. 4. There is a firmware problem. 5. There is an issue with the firewall.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N5'  ,''  ,'http://bit.ly/cmY6ba',8  ,10  ,'Network errors' ,'The network redirector is experiencing $(Errors) errors ' ,'Such network redirect errors generally indicate that the redirector and one or more servers are having serious communication difficulties. For example, a Server Message Block protocol error generates a network error.  ' ,3 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Redirector Object</Title><Link>http://technet.microsoft.com/en-us/library/cc783876(WS.10).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the errors which are written to the system event log should be closely scrutinized as the log entries will give further details.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N7'  ,'$(li)Some third-party applications require the rows affected message and will experience unexpected results or errors when these messages are not returned.'  ,'http://bit.ly/cyNu82 ',8  ,10  ,'SET NOCOUNT ON Not Being Used' ,'The SET NOCOUNT ON connection option is not being used ' ,'The default ''nocount on'' option is not being used and a sample of the text of the T-SQL being executed by SQL Server shows that in most cases the SET NOCOUNT ON statement is not being included. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Server Properties (Connections Page)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180124.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET NOCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189837.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Properties (Connections Page)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180124(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET NOCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189837(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Server Properties (Connections Page)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180124(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>SET NOCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189837(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)This causes additional network traffic as packets containing the number of rows affected are being transmitted back to the clients for many of the T-SQL statements being executed.'  ,'It is recommended that you change SET NOCOUNT to ON for the default network setting on your SQL Server instance. Alternatively, you can modify T-SQL batches, stored procedures, etc. to include the option SET NOCOUNT ON which will only affect that one batch. This will reduce network traffic for connections executing that batch without affecting all connections coming into the SQL Server.

However, some ActiveX Data Objects (ADO) functions rely on row count information and may return unexpected results or errors when SET NOCOUNT is ON. If applications in your environment use ADO to communicate with SQL Server, they may be negatively impacted by this setting.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N8'  ,''  ,'http://bit.ly/bZzOem ',8  ,8  ,'Multiple network cards recommended' ,'Multiple active cards are not being used in either a teamed or un-teamed mode ' ,'It is a suggested best practice that for mission critical servers either 2 redundant network cards are used on the server or 2 network cards are "teamed" to provide both network redundancy and increased performance (via load balancing). ' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Network interface card (NIC) teaming is enabled</Title><Link>http://msdn.microsoft.com/en-us/library/bb219040(technet.10).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that one or more additional network cards should be added for both redundancy and performance.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-N9'  ,''  ,'http://bit.ly/asUP0Z ',8  ,4  ,'Network card errors' ,'Network errors detected ' ,'The network card $(Name) has given $(Errors) errors within the analysis period. ' ,'1'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that you check the following: $(br)1. The network card in the server or the network switch/hub is highly congested.  $(br)2. The cabling between the network card and the switch/hub is faulty/sub-standard.  $(br)3. The network card or switch/hub is giving intermittent hardware faults.  $(br)4. The firmware installed on either the network card and/or the switch/hub has bugs.  $(br)5. A problem or bug in the firewall hardware or software.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-OT1'  ,''  ,'http://bit.ly/dzmSXJ' ,9  ,10  ,'Long running open transaction' ,'Process $(SPID) has an open transaction for $(DurationMinutes) minutes ' ,'Long running transactions prevent transaction logs from being offloaded or truncated and can result in uncontrolled growth of the transaction log file as only the committed portion of the transaction log can be offloaded/truncated.
Details are:
$(ApplicationName?on $(ApplicationName): ) $(Database?in [$(Database)]: ) $(HostName?submitted from $(HostName): ) $(UserName?by $(UserName): )  ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>DBCC OPENTRAN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms182792.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>DBCC OPENTRAN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms182792(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>DBCC OPENTRAN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms182792(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) Processes have long-running open transactions'  ,'Long running transactions prevent transaction logs from being offloaded or truncated and can result in uncontrolled growth of the transaction log file as only the committed portion of the transaction log can be offloaded/truncated.'  ,''  ,''  ,'It is recommended that you examine the T-SQL running via the open transaction to determine if its runtime could be reduced.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P1'  ,'$(li)The CPU cores are intentionally limited to allow other SQL Server instances or applications to utilize the CPU cores not available to this SQL Server instance.'  ,'http://bit.ly/cjQauo',10  ,10  ,'Affinity mask set' ,'The affinity mask setting is limiting the available CPU cores ' ,'Only $(AllowedToUseCpuCount) out of $(TotalCpuCount) CPU cores can be used by the SQL Server instance. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Limiting the number of CPU cores available to SQL Server will limit the number of ONLINE Schedulers that are available to process requests.  This will limit the number of requests that can be concurrently processed and therefore increases the amount of work for each of the CPU cores available to SQL Server. '  ,'The affinity mask setting should be reviewed to ensure the correct number of CPU cores is available for this SQL Server instance.  Because the CPU was under stress, you should consider increasing the number of CPU cores for this SQL Server instance to improve overall performance.

However, before making any changes you should understand the exact reason why the affinity mask was set for this SQL Server instance.  This is an advanced configuration setting that should be changed only when all application requirements and hardware configurations for this server have been taken into account.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P10'  ,''  ,'http://bit.ly/9P2pta',10  ,10  ,'Multiple SQL Server instances' ,'More than one SQL Server instance has been detected on your production server  ' ,'A production server consuming significant CPU resources should not share its CPU and memory resources with other SQL Server instances. This practice leads to highly variable response times. There are currently $(Count) SQL Server instances running on your server.  ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Consolidation Guidance</Title><Link>http://msdn.microsoft.com/en-us/library/ee819082.aspx</Link><Condition>SQLVersionMajor = 10</Condition></RecommendationLink><RecommendationLink><Title>SQL Server Best Practices Article</Title><Link>http://msdn.microsoft.com/en-us/library/cc966485.aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that production servers consuming significant CPU and/or memory resources should not share CPU and memory resources with any other SQL Server instances. This practice leads to highly variable response times. $(br)If you do need to run a number of other instances on a production server, then either CPU affinity should be used to guarantee CPU exclusivity for production instances or the priority of those other instances should be set to "below-normal" (or at least below the priority of  the production SQL Server instance) in order to make sure that they have as little impact on the production instance as possible. In addition, it is recommended that in cases where secondary SQL Server instances must be used that you configure the Max Memory for the secondary instances to prevent them from consuming more memory than necessary.

Additionally, it is recommended that the database files of multiple instances be segregated to different physical drives to prevent one instance from overwhelming the I/O capabilities of the drives used by databases on another instance.'  ,1,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P9'  ,''  ,'http://bit.ly/cvcIqD ',10  ,NULL  ,'' ,'Xxx of your tables have the primary key encrypted ' ,'This is an inefficient method of encryption when secondary indexes exist on those same tables. Secondary indexes point to the primary key (if present) on a table and therefore encrypting the primary key makes these indexes (and the primary key itself) far less efficient during joins and other operations.  ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the primary key on tables with secondary indexes not be encrypted. If data has been properly normalized the key is typically not something secret enough to have to be encrypted. Only the columns that contain vital information should be encrypted.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P22'  ,''  ,'http://bit.ly/9w2K6G ',10  ,NULL  ,'' ,'The Screen Saver is enabled ' ,'The screen saver can unnecessarily use resources that should be kept available for SQL Server. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the Screen Saver be set to (none) or blank on a production server to improve performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P11'  ,''  ,'http://bit.ly/9qoqcb',10  ,8  ,'CPU Lightweight Pooling' ,'The system is experiencing $(ContextSwitches) context switches per second ' ,'The system is in privileged mode $(PrivilegedTime)% of the time and cannot execute user threads. SQL Server uses these user threads to respond to T-SQL requests. SQL Server is currently running $(ThreadCount) threads which in turn causes many context switches to occur. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>lightweight pooling Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms178074(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>lightweight pooling Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms178074(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>lightweight pooling Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms178074(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that SQL Server instances that operate with a large number of threads be switched to use lightweight fiber mode scheduling which eliminates context switches and reduces the time the system spends in privileged mode. It is important to note that certain components like SQLMXL, SQLMail, SQLCLR and even SQL doctor may not work or may work erratically.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P12'  ,''  ,'http://bit.ly/8Z5Mu1',10  ,10  ,'CPU Encryption Connections' ,'Network encryption is being used for $(EncryptedConnections) $(EncryptedConnections>1?connections:connection) ' ,'There are high security environments where network encryption is required.  It is important to note that encryption and decryption of network transmission streams places additional CPU load on the server as well as double the number of network transmissions during each connection made. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Network encryption in use</Title><Link>http://technet.microsoft.com/en-us/library/ms189067.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Network encryption in use</Title><Link>http://technet.microsoft.com/en-us/library/ms189067(SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Network encryption in use</Title><Link>http://technet.microsoft.com/en-us/library/ms189067(SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that, if the network transmission encryption is not necessary, it should be disabled.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P13'  ,''  ,'http://bit.ly/9HMtXI',10  ,4  ,'Network card causing processor interrupts' ,'Your network card appears to be causing a high rate of processor interrupts ' ,'The number of processor interrupts should not be higher than a ratio of 1:4 when compared to the total activity exhibited by the network subsystem, I/O subsystem as well as other device activity (after subtracting the hardware interrupts generated by the system clock). Your server has a ratio of $(DeviceReqPerInterrupt) device requests for each interrupt which is causing your processor(s) to spend $(PercentInterruptTime)% of its time handling interrupts. Modern disk and network controllers give a ratio of 1:4-5 device requests per interrupt using a combination of interrupt modulation and interrupt avoidance. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Analyzing Performance Data</Title><Link>http://technet.microsoft.com/en-us/library/cc784871(WS.10).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you upgrade the drivers (and possibly the firmware) of your network cards, disk I/O subsystem and even the server''s mouse (if one is physically attached). If you have recently upgraded drivers and firmware, review the technical bulletins regularly issued by manufactures for possible errors and associated fixes. In certain cases the physical device or PCI card or cabling may be intermittently malfunctioning at the hardware level. This may be reported in the System event log which you should examine. $(Cards.Count>0?:There is a queue forming behind network device $(Cards), which indicates that the device would be the first place to start checking.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P14'  ,''  ,'http://bit.ly/abo05p',10  ,4  ,'Disk I/O causing processor interrupts' ,'Your disk I/O subsystem appears to be causing a high rate of processor interrupts ' ,'The number of processor interrupts should not be higher than a ratio of 1:4 when compared to the total activity exhibited by the network subsystem, I/O subsystem as well as other device activity (after subtracting the hardware interrupts generated by the system clock). Your server has a ratio of $(DeviceReqPerInterrupt) device requests for each interrupt which is causing your processor(s) to spend $(PercentInterruptTime)% of its time handling interrupts. Modern disk and network controllers give a ratio of 1:4-5 device requests per interrupt using a combination of interrupt modulation and interrupt avoidance. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Analyzing Performance Data</Title><Link>http://technet.microsoft.com/en-us/library/cc784871(WS.10).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you upgrade the drivers (and possibly the firmware) of your network cards, disk I/O subsystem and even the server''s mouse (if one is physically attached). If you have recently upgraded drivers and firmware, review the technical bulletins regularly issued by manufactures for possible errors and associated fixes. In certain cases the physical device or PCI card or cabling may be intermittently malfunctioning at the hardware level. This may be reported in the System event log which you should examine. In addition, a queue has been detected forming behind disk device $(Disks). This device could be the cause of the interrupts and should be checked first.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P15'  ,''  ,'http://bit.ly/9VsomP',10  ,4  ,'Server experiencing processor interrupts' ,'Your server is currently experiencing a high rate of processor interrupts per second ' ,'The number of processor interrupts should not be higher than a ratio of 1:4 when compared to the total activity exhibited by the network subsystem, I/O subsystem as well as other device activity (after subtracting the hardware interrupts generated by the system clock). Your server has a ratio of $(DeviceReqPerInterrupt) device requests for each interrupt which is causing your processor(s) to spend $(PercentInterruptTime)% of its time handling interrupts. Modern disk and network controllers give a ratio of 1:4-5 device requests per interrupt using a combination of interrupt modulation and interrupt avoidance. ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Analyzing Performance Data</Title><Link>http://technet.microsoft.com/en-us/library/cc784871(WS.10).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you upgrade the drivers (and possibly the firmware) of your network cards, disk I/O subsystem and even the server''s mouse (if one is physically attached). If you have recently upgraded drivers and firmware, review the technical bulletins regularly issued by manufactures for possible errors and associated fixes. In certain cases the physical device or PCI card or cabling may be intermittently malfunctioning at the hardware level. This may be reported in the System event log which you should examine. In addition, a queue has not been detected forming behind any specific device. All devices should be examined (network, I/O, and mouse).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P16'  ,'$(li)If the additional resource usage overhead required by the encryption algorithm is acceptable.$(li)If volume level encryption is required for the volumes hosting the SQL Server data files, log files, or the system page file.'  ,'http://bit.ly/dkubSO',10  ,9  ,'Bitlocker drive encryption detected' ,'Bitlocker drive encryption has been detected on $(DriveLetter) ' ,'Drive $(DriveLetter) is used for SQL Server data files, log files, or the system page file.  ' ,3 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Bitlocker Versus True Crypt Performance</Title><Link>http://www.ghacks.net/2009/11/26/bitlocker-versus-true-crypt-performance/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Bitlocker drive encryption has been detected on $(Count) drives'  ,'The drives are used for SQL Server data files, log files, or the system page file. '  ,'You should consider the performance implications of enabling Bitlocker drive encryption on volumes hosting the SQL Server data files, log files, or the system page file.  

As an alternative, Transparent Data Encryption (TDE) could be used to encrypt all files and filegroups for specific databases.  This will generally provide better performance than using Bitlocker drive encryption.'  ,'$(li)Volume encryption will require additional CPU processing to perform the encryption.  This could have a significant impact on performance when used for heavily accessed drives, such as the drives hosting SQL Server data files, log files, or the server''s page file.'  ,'You should consider the performance implications of enabling Bitlocker drive encryption on volumes hosting the SQL Server data files, log files, or the system page file.  

As an alternative, Transparent Data Encryption (TDE) could be used to encrypt all files and filegroups for specific databases.  This will generally provide better performance than using Bitlocker drive encryption.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P17'  ,''  ,'http://bit.ly/9JY969',10  ,6  ,'' ,'C2 auditing is enabled on your production server ' ,'C2 auditing on a production server will degrade performance by increasing the workload of processors and the I/O subsystem significantly when writing all successful and failed logging events. ' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Basics of C2 Auditing</Title><Link>http://www.sqlservercentral.com/articles/Monitoring/basicsofc2auditing/1547/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that C2 auditing be disabled and that correct user access permissions be applied to SQL Server and its associated objects. A restart is required for this change to take effect.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P18'  ,''  ,'http://bit.ly/co89QH',10  ,8  ,'' ,'Your production server is operating within a virtual machine ' ,'Having a SQL Server instance reside within a Virtual Machine can limit performance.  ' ,2 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Virtual Machine CPU Performance</Title><Link>http://www.hanselman.com/blog/VirtualMachineCPUPerformance.aspx</Link></RecommendationLink><RecommendationLink><Title>SQL Server on VM</Title><Link>http://sqlblog.com/blogs/rick_heiges/archive/2007/02/16/sql-server-on-vm.aspx</Link></RecommendationLink><RecommendationLink><Title>Best Practices and Considerations for Virtualizing Microsoft SQL Server on Vmware</Title><Link>http://matthensley.wordpress.com/2010/05/16/best-practices-and-considerations-for-virtualizing-microsoft-sql-server-on-vmware/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that to guarantee consistent performance and steady transaction response times, your production server should not reside within a virtual machine. 
$(br)If your production server must reside within a virtual machine:
$(li)Pair critical production servers with far quieter VMs on the same physical hardware.
$(li)Properly designate sufficient resources to the VM that your critical production server resides on and limit the resources of the other VMs that reside on the same physical hardware to prevent VMs of lesser importance from using too many resources to the detriment of your critical server.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P2'  ,''  ,'http://bit.ly/9vtin8',10  ,10  ,'Number of processors reduced' ,'Your SQL Server is only allowed to use $(AllowedToUseCpuCount) of $(TotalCpuCount) CPU cores ' ,'The last analysis indicated that SQL Server was allowed to use $(PreviousAllowedToUseCpuCount) cores which has now been reduced to $(AllowedToUseCpuCount) cores. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>affinity mask Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187104(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that SQL Server be allowed to use all CPU cores via CPU affinity settings to increase performance when SQL Server requires more CPU power.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P21'  ,''  ,'http://bit.ly/cwsz5E',10  ,10  ,'Visual effects not optimized' ,'Visual Effects are not adjusted for best performance ' ,'Visual Effects consume CPU cycles, extra memory and network bandwidth as most production servers are accessed using Remote Desktop. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How to set performance options in Windows XP</Title><Link>http://support.microsoft.com/kb/308417</Link><Condition>OSVersion = 5.1</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that, as most production servers are accessed via Remote Desktop Connect, Visual Effects be adjusted for best Performance.
$(br) Visual Effects consume CPU cycles, extra memory, and network bandwidth. Visual Effects settings are located in the Performance section of the Advanced System Properties dialog.
$(br)In addition, It is recommended that you stop the Themes service and that it be changed to a manually started service. '  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P3'  ,''  ,'http://bit.ly/brk9tf ',10  ,10  ,'Processing ability reduced' ,'Your server has lost some processing ability since it was last checked ' ,'Previously this server had $(PreviousCpuCount) processors running at a total processing "horsepower" of $(PreviousSpeed) GHz. It currently has $(CurrentCpuCount) processors running at a total processing speed of $(CurrentSpeed) GHz which represents a loss of $(LostPercent).  ' ,'2'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that, if this is not a known issue, check to see if: 
$(br)1. A CPU has been lost (or disabled via BIOS).
$(br)2. A failover has occurred on a cluster machine.
$(br)3. Your power settings have changed.
If the CPUs are not running at full power, you should ensure that CPU power is not being throttled. Ensure that the power plan is set to High Performance. If CPU power is still throttled, it may need to be set in the server BIOS, or in the integrate Lights Out (iLO) management software connected to the server'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P4'  ,''  ,'http://bit.ly/9nEt2y ',10  ,9  ,'Power or BIOS settings incorrect' ,'Your BIOS settings or Control Panel Power Settings are not allowing the server''s CPUs to run at full frequency. Additionally, CPU power may be throttled by integrated Lights Out (iLO) management software connected to the server.' ,'During the system analysis the CPUs averaged $(AvgFrequencyPercentString)% of maximum frequency and have never reached 100% of their rated frequency. This causes significant performance impact. ' ,'3'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that you ensure that CPU power is not being throttled. Ensure that the power plan is set to High Performance. If CPU power is still throttled, it may need to be set in the server BIOS, or in the integrate Lights Out (iLO) management software connected to the server.'  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P5'  ,''  ,'http://bit.ly/aQsFIr ',10  ,5  ,'Power or BIOS settings not set to "high performance"' ,'Your BIOS settings or Control Panel Power settings are not set to High Performance' ,'This may affect performance as it takes a finite amount of time to increase the processors frequency when it is needed by increasing voltage to the core. During this state transition the core clock and the phase-locked loop are both stopped and restarted which prevents the core from performing any work during that period. ' ,'1'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that your Power or BIOS settings be set to High Performance to increase server performance and then recheck the CPU power to ensure it is not still being throttled. If CPU power is still throttled, it may need to be set in the integrate Lights Out (iLO) management software connected to the server.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P6'  
,'$(li)The server is not a true OLTP server but is a hybrid-OLTP server used for data warehousing or reporting. $(li)The current setting has been tuned specifically for the data access patterns, IO subsystem, CPU cores, and acceptable user response time for the specific SQL Server instance.'  
,'http://bit.ly/cyJsRK '
,10  ,8  
,'Excessive Max Degree of Parallelism' 
,'The Max Degree of Parallelism parameter setting allows a single query to use more than half the number of available processor cores ' 
,'The Max Degree of Parallelism option is set to $(MaxDOP) with $(Cores) processor cores available for the SQL Server process to use. '
 ,2  
 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>max degree of parallelism Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms181007.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>max degree of parallelism Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms181007(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>max degree of parallelism Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms181007(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Managing Max Degree of Parallelism</Title><Link>http://www.sqlservercentral.com/articles/Configuring/managingmaxdegreeofparallelism/1029/</Link></RecommendationLink></ArrayOfRecommendationLink>'  
 ,''  
 ,''  ,''  
 ,'$(li)A single, large query could monopolize the server to the detriment of other OLTP transactions, causing a significant backlog. $(li)True OLTP transactions generally will not parallelize unless they are not tuned correctly, i.e., missing/incomplete WHERE clause, missing index, out-of-data statistics, or it is not a true OLTP transaction.'  
 ,'It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.It is recommended that on an OLTP production server, the Max Degree of Parallelism parameter should be set to a value greater than zero and not exceeding half the number of available processor cores up to a maximum setting of 8.  For servers that have NUMA configured, the Max Degree of Parallelism parameter should be set to the number of CPUs that are assigned to each NUMA node up to a maximum setting of 8.
 However, you should verify that the specific database usage model for the server is ''online transaction processing'' (OLTP) and the usage pattern will benefit from the setting change.  Note the following guidelines when making this setting change for an OLTP server:$(li)The ''max degree of parallelism'' server option should never be set to a value greater than the number of physical cores available. $(li)The ''affinity mask'' and ''affinity64 mask'' server configuration option should be considered to determine the total number of physical cores available. $(li)Consider the impact that Hyper-Threading may have on performance.  If Hyper-Threading is not disabled in your environment, verify that Hyper-Threading is enhancing the performance of the SQL Server instance and not comprising performance.  $(li)Never exceed the number of CPUs assigned to each NUMA node for servers configured to use NUMA.$(li)For true OLTP environments, some experts recommend setting ''max degree of parallelism'' to 1 to prevent query parallelization.  There are situations where this is justified but only after an in-depth analysis of wait statistics, data access patterns, the IO subsystem, processor core usage, and other important factors. $(li)Parallelism can be controlled on specific queries by the MAXDOP query hint. $(li)The ''cost threshold for parallelism'' server configuration option can allow for preventing parallelism on queries that don''t exceed the estimated query cost.'  
 ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P7'  ,''  ,'http://bit.ly/agslkv ',10  ,10  ,'' ,'Databases with high usage are being encrypted ' ,'Encrypting entire high usage databases as was detected on $(EncryptedDatabases.Count>1?databases:database) $(EncryptedDatabases) (representing $(EncryptedIOPercentString)% of all IO traffic performed by this SQL Server. This places an additional CPU processing burden on your server.  ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Understanding Transparent Data Encryption</Title><Link>http://msdn.microsoft.com/en-us/library/bb934049(v=SQL.105).aspx </Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Database Encryption in SQL Server 2008 Enterprise Edition</Title><Link>http://msdn.microsoft.com/en-us/library/cc278098.aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,'Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.'  ,''  ,''  ,'It is recommended that only the columns that contain vital data be encrypted. It is seldom necessary to encrypt every single column of every table in a database. Typically, only a few select columns actually hold vital data which must be kept secret at all costs and it is only those columns which should be encrypted.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P8'  ,''  ,'http://bit.ly/cZs5Ia' ,10  ,8  ,'' ,'Inefficient encryption has been detected on database $(Database)  ' ,'Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
$(br)Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
$(br)Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.
 ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>EFF DES cracker</Title><Link>http://en.wikipedia.org/wiki/EFF_DES_cracker</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Inefficient encryption has been detected on $(Count) databases'  ,'Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.Encryption methods other than 128-bit AES place an unnecessary additional CPU processing burden on your Server. 
Note: 256-bit AES may be required by certain IT departments, but be aware that it requires additional processing overhead and 128-bit AES has never been cracked.
Note: DES, RC2 and SQL Server''s implementation of RC4 and RC4_128 are no longer considered secure and can typically be cracked in a few hours or days.'  ,'It is recommended that 128-bit AES encryption be used for these databases. 128-bit AES represents a 15-25% computational efficiency over other encryption methods (3DES, asymmetric encryption, RC2, etc).'  ,''  ,'It is recommended that 128-bit AES encryption be used for the database. 128-bit AES represents a 15-25% computational efficiency over other encryption methods (3DES, asymmetric encryption, RC2, etc).'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P19'  ,''  ,'http://bit.ly/8XCDIj ' ,10  ,NULL  ,'' ,'Your production server is operating in a VM server and is sharing physical server resources with xx other VMs ' ,'Although the other virtual machines may be stopped, operating a server on a virtual machine causes you to lose approximately 15-20% performance. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that your server not reside within a  virtual machine.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P20'  ,''  ,'',10  ,NULL  ,'' ,'Your production server is operating in a virtual server and is sharing physical server resources with another xx virtual machines ' ,'Although the other virtual machines may be stopped, operating a server on a virtual machine causes you to lose approximately 15-20% performance. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that your server not reside within a virtual machine. '  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P23'  ,'$(li)When CXPACKET waits are not excessive and parallelism is desired for the workload.$(li)This is not a true online transaction processing (OLTP) server or it is a hybrid server.'  ,'',10  ,10  ,'High CXPACKET waits on OLTP Server' ,'Your OLTP Server is experiencing high CPU usage along with a high number of CXPACKET waits ' ,'A high number of CXPACKET waits indicate parallel queries are running on your server.  This is an indication that one or more threads of the parallelized queries are waiting for another thread to complete before the parallel operation can be completed.   ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>CXPACKET Wait Stats &amp; ''max degree of parallelism'' Option</Title><Link>http://blogs.msdn.com/b/jimmymay/archive/2008/11/28/case-study-part-1-cxpacket-wait-stats-max-degree-of-parallelism-option-introduction-to-using-wait-stats-to-identify-remediate-query-parallelism-bottlenecks.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,'$(li)Indexes may be missing which are causing queries to be less efficient.$(li)Statistics could be out-of-date or missing which will cause the optimizer to not properly estimate the cost of the query.$(li)Fragmentation could be causing additional I/O requests for one or more of the parallel threads.$(li)Query filter predicates may be incomplete or missing causing queries to be less efficient.$(li)Query filter predicates may contain functions on column values forcing a scan to be used instead of a seek.$(li)Query filter predicates may be causing an implicit conversion of a column value because of mismatched data types.$(li)Queries are not true online transaction processing (OLTP) transactions.'  ,'You should consider the following which can have a significant impact on CPU usage and CXPACKET wait times:$(li)Updating statistics to ensure the query optimizer is estimating the cost of queries correctly.$(li)Rebuild highly fragmented indexes which are experiencing range scans.$(li)Research the addition of new indexes to improve workload performance.$(li)Review queries to ensure they are optimized for OLTP transactions.$(li)Revise filter criteria to prevent implicit conversions which could be causing index/table scans.$(li)Revise filter criteria to prevent functions from being used on columns which could be causing index/table scans.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q1'  ,''  ,'http://bit.ly/9GblQc',11  ,10 ,'Unclosed or non-deallocated cursor' ,'Cursor $(CursorName) is not properly closed or deallocated ' ,'Cursors that have not been deallocated can consume memory resources and hold locks that affect data availability. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>DEALLOCATE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188782.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>DEALLOCATE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188782(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>DEALLOCATE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188782(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) cursors are not properly closed or deallocated'  ,''  ,'It is recommended that these cursors be explicitly closed and deallocated after use. One common cause of cursors failing to be close and deallocated is when a loop is exited due to an error without error handling that explicitly closes and deallocates the cursor. Ensure that error handling that exits a cursor loop closes and deallocates the cursor.'  ,''  ,'It is recommended that cursor $(CursorName) should be explicitly closed and deallocated after use. One common cause of cursors failing to be close and deallocated is when a loop is exited due to an error without error handling that explicitly closes and deallocates the cursor. Ensure that error handling that exits a cursor loop closes and deallocates the cursor.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q10'  ,''  ,'',11  ,NULL  ,'' ,'A filter predicate contains mismatched data types ' ,'One side of the query predicate has a data type of $(FoundType) while the other side has a data type of $(DesiredType). This condition will cause implicit conversions for data type matching and likely prevent the query optimizer from using indexes to access the data more efficiently. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you re-write the predicate to explicitly CAST the data type $(FoundType) to match data type $(DesiredType) to avoid implicit conversions.'  ,0,''
,0)

SET @multilineInput = 'You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.You should consider rewriting the query to use a TRUNCATE instead of a DELETE.  The TRUNCATE operation is much faster and uses far less system and transaction log resources than a DELETE.

However, you should be aware that the TRUNCATE should not be performed in the following situations:$(li)A trigger exists and should be fired for each row deletion.$(li)An identity column exists and the identity counter should be retained.$(li)This table is referenced by another table in a FOREIGN KEY constraint.$(li)The table is used in an indexed view.$(li)Transactional replication or merge replication is in use.'  

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q11'  
,'$(li)If a trigger must be fired for each individual row deletion.$(li)If an identity column exists and the identity counter value must be retained.$(li)If another table references this table in a FOREIGN KEY constraint.$(li)If the table is used by an indexed view.$(li)If the delete operation will be published by using transactional replication or merge replication.$(li)If the table is small enough that the overhead of the DELETE is negligible.'  ,'http://bit.ly/d9FNEi',11  ,10  ,'Unfiltered delete statement' ,'An unfiltered delete on [$(TableName)] in [$(Database)] ' ,'The query deletes all data from table [$(TableName)]. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>TRUNCATE TABLE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms177570.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>TRUNCATE TABLE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms177570(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>TRUNCATE TABLE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms177570(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) unfiltered delete statements have been detected'  ,'These queries delete all data from the tables they reference'  ,''  ,'$(li)A significant amount of system resources and transaction log space could be used due to the DELETE operation logging each row deleted.$(li)The duration of the delete operation could be significant depending on the number of rows deleted.$(li)When the DELETE is executed using a row lock, each row is locked for deletion which may require a significant amount of locking.$(li)The table can still contain empty pages which may account for a large amount of excess space allocated to the table.'  
,@multilineInput,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q12'  ,''  ,'',11  ,NULL  ,'' ,'SELECT DISTINCT abuse has been detected ' ,'The query''s SELECT clause contains a potentially redundant DISTINCT operator. The select list of this query contains $(ColumnNames.Count>1?columns:column) from table [$(TableName)] that $(ColumnNames.Count>1?are:is) unique. Analysis of this query indicates that the result rows will be unique without using DISTINCT, use of which results in performance overhead since SQL Server must sort or group the result set to remove duplicate rows. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that you re-write the SELECT clause of this query to remove the use of DISTINCT.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q13'  ,''  ,'http://bit.ly/9WsIiq',11  ,5  ,'Query hint abuse' ,'Query hint abuse has been detected ' ,'The following query hints were detected: ($(Hints)).  Query hints can have an adverse impact on performance or introduce other unforeseen problems. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'Query hint abuse has been detected $(Count) times'  ,'Query hints can have an adverse impact on performance or introduce other unforeseen problems.'  ,''  ,''  ,'It is recommended that queries be reviewed to determine if the query hints are needed, that they are not causing any unforeseen problems, and they are not forcing a specific behavior that may not be desirable when the underlying data increases.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q14'  ,''  ,'http://bit.ly/d0mtyg',11  ,5  ,'' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,'2'  ,''  ,''  ,''  ,''  ,''  ,''  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q15'  ,''  ,'http://bit.ly/bcU4S8 ',11  ,NULL ,'' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,''  ,''  ,''  ,''  ,''  ,''  ,''  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q16'  ,''  ,'http://bit.ly/deZV4X ',11  ,7  ,'Function used in query predicate' ,'A function is being used in a query predicate ' ,'The use of a function on a column value within a search predicate may prevent the query optimizer from performing an index seek and requires all column values to be scanned and processed by the function. ' ,'2'  ,''  ,'A function is being used in a query predicate for $(Count) queries'  ,''  ,'It is recommended that you rewrite the query to remove the use of the function within the search predicate.  One option to remove the use of the LEFT function would be to replace it with LIKE and the % wild card. Using LIKE instead of the LEFT function will allow the query optimizer to consider index seeks for satisfying the query.'  ,''  ,'It is recommended that you rewrite the query to remove the use of the function within the search predicate.  One option to remove the use of the LEFT function would be to replace it with LIKE and the % wild card. Using LIKE instead of the LEFT function will allow the query optimizer to consider index seeks for satisfying the query.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q17'  ,''  ,'http://bit.ly/dzsakC ',11  ,10  ,'Like Used Not Needed' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Match your String with Wild Card Characters</Title><Link>http://www.codeproject.com/KB/java/Wild_card_in_Java.aspx</Link></RecommendationLink><RecommendationLink><Title>LIKE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179859.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>LIKE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179859(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>LIKE (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179859(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,''  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q18'  ,''  ,'http://bit.ly/aKmL5d ',11  ,8  ,'Nested Min Max' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>MIN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179916(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>MIN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179916(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>MIN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms179916(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>MAX (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms187751(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>MAX (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms187751(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>MAX (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms187751(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,''  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q19'  ,''  ,'http://bit.ly/bHQH5C',11  ,9  ,'No join predicate' ,'No join predicate has been detected ' ,'The search condition for a joined table is missing in the either the ON clause or the FROM clause.  This could result in the query running longer than necessary. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Using Inner Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190014(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using Inner Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190014(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using Inner Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190014(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Using Cross Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190690(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using Cross Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190690(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Using Cross Joins</Title><Link>http://msdn.microsoft.com/en-us/library/ms190690(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) no join predicates detected'  ,'These queries are missing the search condition of either a ON clause or a FROM clause for a joined table.  This could result in the query running longer than necessary.'  ,'It is recommended that you add the search condition to either the ON clause or the FROM clause for all joined tables.'  ,''  ,'It is recommended that you add the search condition to either the ON clause or the FROM clause for all joined tables.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q2'  ,''  ,'http://bit.ly/d80EOh',11  ,8  ,'Potential cursor optimizations' ,'Cursor $(CursorName) could be optimized for better performance ' ,'If cursor $(CursorName) is only used to read sequentially from the first to the last row, using the FAST_FORWARD option will allow performance optimizations to be enabled. Additionaly, if the rows are not being modified directly using the WHERE CURRENT OF clause, further optimizations can be made by using the READ_ONLY option.' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Understanding Cursor Types</Title><Link>http://msdn.microsoft.com/en-us/library/ms378405(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Understanding Cursor Types</Title><Link>http://msdn.microsoft.com/en-us/library/ms378405(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Understanding Cursor Types</Title><Link>http://msdn.microsoft.com/en-us/library/ms378405(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Understanding SQL Server Fast_Forward Server Cursors</Title><Link>http://blogs.msdn.com/b/sqlqueryprocessing/archive/2009/08/12/understanding-sql-server-fast-forward-server-cursors.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'There are $(Count) cursors that could be optimized for better performance'  ,'If these cursors are only used to read sequentially from the first to the last row, using the FAST_FORWARD option will allow performance optimizations to be enabled. Additionaly, if the rows are not being modified directly using the WHERE CURRENT OF clause, further optimizations can be made by using the READ_ONLY option.'  ,'It is recommended that performance optimizations be enabled for the cursors by using the FAST_FORWARD cursor option.'  ,''  ,'It is recommended that performance optimizations be enabled for cursor $(CursorName) by using the FAST_FORWARD cursor option.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q20'  ,''  ,'http://bit.ly/bUCNVt',11  ,NULL ,'Table/index scan due to NOT IN' ,'The NOT IN predicate is causing a table or index scan ' ,'The query execution plan indicates that a table or index scan is being performed for each column value filterd by the NOT IN predicate.  This could be caused by column $(ColumnName) allowing NULL values. ' ,NULL  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>IN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-US/library/ms177682%28v=SQL.105%29.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>IN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-US/library/ms177682(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>IN (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-US/library/ms177682(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) queries found where the NOT IN predicate is causing a table or index scan'  ,''  ,'It is recommended that the NOT IN portion of the query be reviewed to determine if an alternate method could be used for filtering.  If the NOT IN must be used, consider modifying the NOT IN subquery to filter out null values (WHERE [ColumnName] IS NOT NULL).

Additionally, it recommended that EXISTS or NOT EXISTS clauses correlated back to the parent query be used instead of IN or NOT IN with a non-correlated query. The engine is able to short-circuit an EXISTS clause when the first match is found rather than searching the entire subquery result set and may result in faster execution.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query.
'  ,''  ,'It is recommended that the NOT IN portion of the query be reviewed to determine if an alternate method could be used for filtering.  If the NOT IN must be used, consider modifying the NOT IN subquery to filter out null values (WHERE $(ColumnName) IS NOT NULL).

Additionally, it recommended that EXISTS or NOT EXISTS clauses correlated back to the parent query be used instead of IN or NOT IN with a non-correlated query. The engine is able to short-circuit an EXISTS clause when the first match is found rather than searching the entire subquery result set and may result in faster execution.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query. 
 
'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q21'  ,''  ,'',11  ,NULL  ,'' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,''  ,''  ,''  ,''  ,''  ,''  ,''  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q22'  ,''  ,'http://bit.ly/aRACoI',11  ,6  ,'Select * found' ,'The use of SELECT * has been found ' ,'The use of SELECT * will return all of the columns found in the tables and/or views of the FROM clause.  This can lead to a number of unused columns being returned. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SELECT Clause (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms176104.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>SELECT Clause (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms176104(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>SELECT Clause (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms176104(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'The use of SELECT * has been found $(Count) times'  ,''  ,'It is recommended that you change all of the SELECT * queries to explicitly include only the columns needed and remove the *.'  ,''  ,'It is recommended that you change the SELECT * to explicitly include only the columns needed and remove the *.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q23'  ,''  ,'http://bit.ly/aHoji9 ',11  ,NULL  ,'' ,'Obsolete recommendation ' ,'Please perform a new analysis for updated recommendations. ' ,''  ,''  ,''  ,''  ,''  ,''  ,''  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q24'  ,''  ,'http://bit.ly/9dhQyO',11  ,6  ,'Search predicate contains a column expression in a function' ,'A Search predicate contains a column expression in a function ' ,'The query optimizer may not be able to perform an index seek on search predicates that include the column in a function, resulting in a less optimal execution plan. ' ,'2'  ,''  ,'$(Count) search predicates contain a column expression in a function'  ,''  ,''  ,''  ,'It is recommended that you modify the search predicate to no longer filter based on the result of a function on a column value.  This will allow the query optimizer to consider index seeks to satisfy the search predicate and not require a scan of all column values.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q25'  ,''  ,'http://bit.ly/a1wbPY ',11  ,NULL  ,'' ,'Function $(FunctionName) called for a row set ' ,'SQL is a set based programming language, not a procedural language. Using functions to encapsulate procedural code can result in significant performance overhead when called on a row set because the function is executed for each row of the set. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that this query be re-written to include the function logic as in-line code, allowing the query optimizer to produce a more optimal execution plan.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q26'  ,''  ,'http://bit.ly/c83yoX',11  ,2  ,'Union operator found' ,'The UNION operator has been found on a query ' ,'The UNION operator combines the results of two or more queries into a single result set and removes duplicate rows.  The overhead required to remove the duplicate rows from the result set can be significant for a large result set. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>UNION (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180026(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>UNION (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180026(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>UNION (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms180026(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>SQL SERVER - Difference Between Union vs. Union All - Optimal Performance Comparison</Title><Link>http://blog.sqlauthority.com/2009/03/11/sql-server-difference-between-union-vs-union-all-optimal-performance-comparison/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'The UNION operator has been found on a $(Count) queries'  ,''  ,''  ,''  ,'It is recommended that the use of UNION ALL be considered if the result set is large and will not contain duplicate rows. 

Additionally, if duplicate rows do exist in the result set, consider the option of filtering out the duplicate rows by the querying application.  It is common for the consuming application to perform the duplicate filtering regardless of the result set already being filtered by SQL Server.  In this situation, the additional performance hit on SQL Server may not be justified in the reduced result set transferred back to the client application.  

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query. '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q27'  ,''  ,'',11  ,NULL  ,'' ,'Subquery used instead of JOIN ' ,'A subquery is used in the WHERE clause of the query. The query optimizer will typically generate a less optimal execution plan than if an explicit JOIN were used. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the WHERE clause of this query be re-written to use a JOIN rather than a subquery.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q28'  ,''  ,'http://bit.ly/cabWQq',11  ,9  ,'SET ROWCOUNT used instead of TOP' ,'SET ROWCOUNT used instead of TOP ' ,'The query is using SET ROWCOUNT to limit the size of the result set instead of the TOP clause. Since SET ROWCOUNT is used outside the statement that executes the query, its value cannot be used to produce an optimal execution plan. The query optimizer can use the value of the expression in the TOP clause to generate a more optimal execution plan. 

Additionally, using SET ROWCOUNT to limit an update, insert, or delete query is deprecated and will be removed in a future version of SQL Server. This command should not be used with queries that perform data modifications.
' ,1 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SET ROWCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188774(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET ROWCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188774(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET ROWCOUNT (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188774(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'SET ROWCOUNT used instead of TOP $(Count) times'  ,'These queries are using SET ROWCOUNT to limit the size of their result sets instead of the TOP clause. Since SET ROWCOUNT is used outside the statement that executes the query, its value cannot be used to produce an optimal execution plan. The query optimizer can use the value of the expression in the TOP clause to generate a more optimal execution plan.

Additionally, using SET ROWCOUNT to limit an update, insert, or delete query is deprecated and will be removed in a future version of SQL Server. This command should not be used with queries that perform data modifications.
'  ,'It is recommended that these queries be rewritten to use the TOP clause instead of SET ROWCOUNT.'  ,''  ,'It is recommended that the query be rewritten to use the TOP clause instead of SET ROWCOUNT.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q29'  ,''  ,'http://bit.ly/bMsKmB',11  ,9  ,'Search predicate used instead of TOP' ,'Search predicate is being used to limit result set instead of TOP ' ,'The WHERE clause of the query limited the result set instead of the applicable TOP clause. Using TOP may or may not result in a more optimal execution plan. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>TOP (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189463(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>TOP (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189463(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>TOP (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms189463(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) instances of search predicate being used to limit result sets instead of TOP'  ,'The WHERE clause of these queries limited their result sets instead of using the applicable TOP clause. Using TOP may or may not result in a more optimal execution plan.'  ,'It is recommended that these queries be evaluated using an equivalent TOP clause versus limiting results via the search predicate.'  ,''  ,'It is recommended that the query be evaluated using an equivalent TOP clause versus limiting results via the search predicate.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q3'  ,''  ,'http://bit.ly/acMX06',11  ,5  ,'Inefficient SQL Module settings' ,'SQL Module settings may prevent query optimization ' ,'SQL Module $(DatabaseName).$(SchemaName).$(ObjectName) was found with ANSI_NULLS and/or QUOTED_IDENTIFIER set to OFF.  These settings can prevent the query optimizer from using an index seek for certain queries. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SET ANSI_NULLS (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188048(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET ANSI_NULLS (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188048(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>SET ANSI_NULLS (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms188048(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Tuning Recommendations</Title><Link>http://msdn.microsoft.com/en-us/library/ms188722(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) SQL Modules have settings that may prevent query optimization'  ,'SQL Modules found with ANSI_NULLS and/or QUOTED_IDENTIFIER set to OFF.  These settings can prevent the query optimizer from using an index seek for certain queries.'  ,''  ,''  ,'It is recommended that ANSI_NULLS is always set to ON.  In a future version of SQL Server, setting ANSI_NULLS to OFF will generate an error.

Additionally, if QUOTED_IDENTIFIER is set to OFF, change the setting to ON unless the object requires the setting to be OFF.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q30'  ,''  ,'http://bit.ly/d93X4k ',11  ,NULL  ,'' ,'Invariant operation found inside a loop ' ,'An invariant operation inside of a loop will result in unnecessary performance overhead. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the query be rewritten to move the invariant operation outside of the loop.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q31'  ,''  ,'http://bit.ly/d7zlzw ',11  ,NULL  ,'' ,'Columns $(ColumnNames) referenced in a different order than their covered index $(IndexName) ' ,'Referencing columns in a different order than that of their covered index will result in a less optimal execution plan. ' ,''  ,''  ,'SKIPPED'  ,'SKIPPED'  ,'SKIPPED'  ,''  ,'It is recommended that the WHERE clause of this query be rewritten to reference the columns in the same order as the covering index.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q32'  ,''  ,'http://http://bit.ly/aE07TU 2',11  ,NULL  ,'' ,'Use of NOT NULL condition on column $(ColumnName) is suppressing an index range scan ' ,'Column $(ColumnName) in table [$(TableName)] is covered by an index but not producing an index range scan for the query due to the use of the NOT NULL condition, resulting in a suboptimal execution plan. ' ,''  ,''  ,'$(Count) usages of NOT NULL conditions are suppressing index range scans'  ,'The use of the NOT NULL expression is preventing index range scans on indexed columns, resulting in suboptimal execution plans.'  ,''  ,''  ,'It is recommended that the search predicate of the query be rewritten using an upper and lower limit that will allow for an index range scan, resulting in a more optimal execution plan.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q33'  ,''  ,'http://bit.ly/cM8VRo ',11  ,NULL  ,'' ,'Use of not-equal operator on column $(ColumnName) is suppressing an index range scan ' ,'Column $(ColumnName) in table [$(TableName)] is covered by an index but not producing an index range scan for the query due to the use of the not-equal operator, resulting in a suboptimal execution plan. ' ,''  ,''  ,'$(Count) usages of not-equal operators suppressing an index range scan'  ,'The use of the not-equal operator is preventing index range scans on indexed columns, resulting in suboptimal execution plans.'  ,'SKIPPED'  ,''  ,'It is recommended that the query be rewritten, if the not-equal operator covers most rows, replacing the not-equal operator with the IN clause, allowing for an index range scan and more optimal execution plan.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q34'  ,''  ,'http://bit.ly/bbUDWs',11  ,NULL  ,'Insert statement without column list' ,'Insert statement without column list ' ,'Although this will not affect performance it is a best practice to specify a column list on insert statements to avoid creating bad data if columns change in a way that allows existing queries to insert data into columns that now represent some other value (e.g., a column is dropped and a different one is added). ' ,''  ,''  ,'$(Count) insert statements without column lists'  ,''  ,''  ,''  ,'It is recommended that you specify a column list on insert statements.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q5'  ,''  ,'http://bit.ly/a5riMX ',11  ,NULL  ,'' ,'Row count logging is turned on ' ,'The SET NOCOUNT option isn''t explicitly configured in the batch. By default, SET NOCOUNT is set to OFF resulting in additional information about the affected row count of each query being sent back to the client application. While some applications require this information, many do not and the information is discarded. Sending this information back to the client application results in network overhead for each execution. ' ,''  ,''  ,'$(Count) instances where row count logging is turned on'  ,''  ,''  ,''  ,'It is recommended that you evaluate the necessity of row count information for the client application. If this information is not required, re-write stored procedures used by the client application to include SET NOCOUNT ON at the beginning for the procedure definition.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q35'  ,''  ,'http://bit.ly/9cZpwC',11  ,8  ,'Function causing table scan' ,'The function "$(FunctionName)" on column [$(Database)].[$(Schema)].[$(Table)].[$(Column)] may be causing a table scan ' ,'The function or expression "$(FunctionName)" in a query $(ObjectName?in $(ObjectName) :)$(ApplicationName?from $(ApplicationName) :)$(Database?in [$(Database)] :)$(HostName?submitted from $(HostName) :)$(UserName?by $(UserName) :)can cause index suppression resulting in poor performance due to a scan being performed instead of a seek. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Implicit Conversion Recommendation</Title><Link>http://sqldoctor.idera.com/query-optimization/implicit-conversion-recommendation/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) functions may be causing table scans'  ,'A function or expression can cause index suppression resulting in poor performance due to a scan being performed instead of a seek.'  ,'It is recommended that you consider redesigning the WHERE clause for the affected queries to prevent index suppression and performance degradation.'  ,''  ,'It is recommended that you consider redesigning this WHERE clause to prevent index suppression and performance degradation.
$(br)Note: This recommendation can be caused from T-SQL  that is nested in a function, view or stored procedure.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q36'  ,''  ,'http://bit.ly/aTCOcL',11  ,8  ,'Implicit conversion may be causing index suppression' ,'An implicit conversion on column [$(Database)].[$(Schema)].[$(Table)].[$(Column)] to data type "$(DataType)" may be causing index suppression ' ,'An implicit conversion in a WHERE clause of a query $(ObjectName?in $(ObjectName) :)$(ApplicationName?on $(ApplicationName) :)$(Database?in [$(Database)] :)$(HostName?submitted from $(HostName) :)$(UserName?by $(UserName) :)can cause index suppression if an indexed column is of a different data type resulting in a scan rather than a seek. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Implicit Conversion Recommendation</Title><Link>http://sqldoctor.idera.com/query-optimization/implicit-conversion-recommendation/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Implicit conversions may be causing index suppression for $(Count) columns'  ,'An implicit conversion in a WHERE clause of a query can cause index suppression if an indexed column is of a different data type resulting in a scan rather than a seek.'  ,'It is recommended that you consider redesigning the WHERE clause for the affected queries to avoid data type conversions that cause index suppression and performance degradation.'  ,''  ,'It is recommended that you consider redesigning this WHERE clause to avoid data type conversions that cause index suppression and performance degradation.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q4'  ,''  ,'http://bit.ly/cMjC0j ',11  ,NULL  ,'' ,'DML parameters are being explicitly manipulated ' ,'One or more parameters used in a DML statement are being explicitly manipulated prior to execution of the statement. This may prevent the query optimizer from generating optimal execution plans because the actual parameter value is not known at optimization and compile time. ' ,''  ,''  ,'$(Count) instances of DML parameters being explicitly manipulated'  ,''  ,'It is recommended that you re-write these procedures to execute DML statements dynamically, passing the manipulated parameters as input parameters at run time. This will allow the optimizer to estimate the internal costs more accurately, resulting in more optimized execution plans.'  ,''  ,'It is recommended that you re-write the procedure to execute the DML statement dynamically, passing the manipulated parameter as an input parameter at run time. This will allow the optimizer to estimate the internal costs more accurately, resulting in more optimized execution plans.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q6'  ,''  ,'http://bit.ly/9mDDyI',11  ,5  ,'Inconsistent procedure execution times' ,'Inconsistent execution times for $(ObjectName?$(ObjectName):procedure) ' ,'Execution time varied between $(MinimumDuration)ms and $(MaximumDuration)ms with reads varying from $(MinimumReads) to $(MaximumReads) for $(ObjectName?$(ObjectName):the query).  This inconsistency could be caused from a cached execution plan being reused that was compiled for a set of parameters that are not optimal for each execution. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Query Hints (Transact-SQL)</Title><Link>http://msdn.microsoft.com/en-us/library/ms181714(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) queries with inconsistent execution times'  ,'Execution time varied for $(Count) queries.  This inconsistency could be caused from a cached execution plan being reused that was compiled for a set of parameters that are not optimal for each execution.'  ,'It is recommended that the procedure be tuned to ensure that SQL Server is able to choose the best plan for multiple parameters. A common scenario that causes this are when the optimizer has to choose between performing a nonclustered index seek plus key or RID lookups or performing a clustered index seek. This issue can be addressed by determining the additional columns being used or returned by query that is not part of the nonclustered index and either modifying the existing nonclustered index to include them or by creating a new index that includes all needed columns (covering index).
Other ways to address the issue are by using one of the query optimization hints RECOMPILE, OPTIMIZE FOR UNKNOWN, or OPTIMIZE FOR a specific value. The options should be tested to determine which option provides the optimal behavior. If the recompile hint is used, additional testing should be performed to verify the extra overhead of compiling an execution plan on each execution is justified and that overall performance is improved.'  ,''  ,'It is recommended that the procedure be tuned to ensure that SQL Server is able to choose the best plan for multiple parameters. A common scenario that causes this are when the optimizer has to choose between performing a nonclustered index seek plus key or RID lookups or performing a clustered index seek. This issue can be addressed by determining the additional columns being used or returned by query that is not part of the nonclustered index and either modifying the existing nonclustered index to include them or by creating a new index that includes all needed columns (covering index).
Other ways to address the issue are by using one of the query optimization hints RECOMPILE, OPTIMIZE FOR UNKNOWN, or OPTIMIZE FOR a specific value. The options should be tested to determine which option provides the optimal behavior. If the recompile hint is used, additional testing should be performed to verify the extra overhead of compiling an execution plan on each execution is justified and that overall performance is improved.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q7'  ,''  ,'http://bit.ly/9ITt1L',11  ,10  ,'Query plan compilations per second  greater than batch requests' ,'Query plan compilations per second are greater than batch requests ' ,'Query plan compilations ($(CompilationsPerSec) per second) should be a fraction of the number of batch requests ($(BatchesPerSec) per second) flowing through your SQL Server system, ideally less than 10%. If compilations are running high, it likely indicates a high degree of Ad hoc query executions rather than stored procedures, which will result in higher CPU usage due to recurring execution plan compiles. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Execution Plan Caching and Reuse</Title><Link>http://msdn.microsoft.com/en-us/library/ms181055(v=SQL.105).aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>Execution Plan Caching and Reuse</Title><Link>http://msdn.microsoft.com/en-us/library/ms181055(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>Execution Plan Caching and Reuse</Title><Link>http://msdn.microsoft.com/en-us/library/ms181055(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you re-write Ad hoc queries as stored procedures to improve cached plan reuse and CPU performance by dramatically reducing the number of compilations.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q8'  ,'$(li)When more than two arguments are tested for NULL, COALESCE must be used instead of ISNULL.$(li)The performance gain from using ISNULL does not justify making the query changes.$(li)The query must stay compliant to the ANSI SQL standards (ISNULL is a Transact-SQL function and is not ANSI compliant).$(li)ISNULL has other behavior differences that could affect usage in rare situations and should be tested to ensure that changing to ISNULL does not result in a different result set.'  ,'http://bit.ly/asTIy2',11  ,7 ,'COALESCE used in place of ISNULL' ,'COALESCE is used in place of ISNULL ' ,'The COALESCE function is being used to return the first non-null expression from two arguments.  This could be implemented with the more efficient ISNULL function. ' ,'1'  ,''  ,'COALESCE is used in place of ISNULL for $(Count) queries'  ,''  ,'It is recommended that you modify the queries to use the ISNULL function in place of COALESCE where it make sense.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query.'  ,'$(li)The COALESCE function is basically translated to a CASE expression that requires more overhead than using the ISNULL function.  The ISNULL function is a built-in function implemented within the database engine that will generally provide better performance.'  ,'It is recommended that you modify the query to use the ISNULL function in place of COALESCE where it make sense.

All query modifications must be thoroughly tested before implemented into production.  A simple change to a query could have a significant impact on the results of executing that query.
'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q9'  ,''  ,'http://bit.ly/aDWS1u',11  ,7  ,'' ,'Composite expression including column used in a search predicate ' ,'A composite expression is an expression that contains two or more sub-expressions. The value of the composite expression is calculated at run time and not at compile time, preventing the optimizer from considering the expression''s value, resulting in a less optimal execution plan. ' ,'1'  ,''  ,'$(Count) instances of a composite expression including column being used in a search predicate'  ,''  ,'It is recommended that you re-write these queries so that the composite expression is pre-calculated, providing the optimizer with a non-composite value that can be used to generate a more optimal execution plan.'  ,''  ,'It is recommended that you re-write the query so that the composite expression is pre-calculated, providing the optimizer with a non-composite value that can be used to generate a more optimal execution plan.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S1'  ,'$(li)Even though Windows Authentication is more secure, SQL Server Authentication is required for non-Windows based clients or clients running Windows OS versions prior to Windows NT 4.0 and Windows 2000 Server. $(li)Some applications require the use of SQL Server Authentication.'  ,'http://bit.ly/bTqf0v',13  ,'4'  ,'Mixed Mode Authentication' ,'Authentication set to Mixed Mode ' ,'The SQL Server instance is configured to allow both Windows Authentication and SQL Server Authentication. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Choosing an Authentication Mode</Title><Link>http://technet.microsoft.com/en-us/library/ms144284.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Windows Authentication is more secure than SQL Server Authentication, primarily due to its integration with the Windows security system. Windows security provides more features, such as secure validation and encryption of passwords, auditing, password expiration, minimum password length, and account lockout after multiple invalid login requests.'  ,'It is recommended that whenever possible, you use Windows Authentication instead of Mixed Mode Authentication to secure your SQL Server.  Note that changing this setting will prevent login using SQL Authentication accounts.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S10'  ,''  ,'http://bit.ly/b4bNH3',13  ,2  ,'Guest user has database access' ,'Guest user has permission to access database $(Database) ' ,'While the guest user cannot be dropped and is necessary in system database and certain cross-database applications, in many cases it is not necessary. ' ,0 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Guest account in User Databases</Title><Link>http://blogs.msdn.com/b/sqlsecurity/archive/2010/09/24/guest-account-in-user-databases.aspx</Link></RecommendationLink><RecommendationLink><Title>Basic SQL Server Security concepts</Title><Link>http://blogs.msdn.com/b/lcris/archive/2007/09/12/basic-sql-server-security-concepts-permissions-and-special-principals-sa-dbo-guest.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Guest user has permission to access $(Count) databases'  ,''  ,''  ,''  ,'Remove access to the guest user if it is not required by disabling the user or expressly denying CONNECT permissions to the user.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S2'  ,''  ,'http://bit.ly/arK1go',13  ,5  ,'BUILTIN\Administrator included in sysadmin role' ,'BUILTIN\Administrator is included in sysadmin Role  ' ,'The Windows BUILTIN\Administrators group is added to the SQL Server sysadmin role by default.  However, this causes all local administrators to be granted full administrative rights to the SQL Server, which may not be intended. ' ,0 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How to prevent local and domain administrators from accessing SQL Server?</Title><Link>http://blogs.msdn.com/b/john_daskalakis/archive/2009/01/20/9345324.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'Research the possibility of removing the BUILTIN\Administrators group from the sysadmin SQL Server group and provide administrative access to individual users as required.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S3'  ,''  ,'http://bit.ly/dh7VAQ',13  ,5  ,'Public role enabled for SQL Server Agent Proxy Account' ,'Public role is enabled for SQL Server Agent Proxy Account ' ,'The SQL Server Agent proxy account is given elevated privileges, while the Public role has fewer privileges.  Someone using the Public role could therefore take advantage of a higher privilege level. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Best Practices in Configuring SQL Server Agent Proxy account.</Title><Link>http://support.microsoft.com/kb/2160741</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'Research the possibility of removing the Public role from the SQL Server Agent proxy account.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S4'  ,''  ,'http://bit.ly/a894XV',13  ,10  ,'Deprecated SQL Agent token in use' ,'Deprecated SQL Server Agent Token in use for step "$(StepName)" of job "$(JobName)" ' ,'Beginning with SQL 2005, the token syntax used in SQL Agent jobs must use escaped notation.  This will cause SQL Agent jobs to fail on SQL Server 2005 SP1 or later. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Agent jobs fail when the jobs contain job steps that use tokens after you install SQL Server 2005 Server Pack 1</Title><Link>http://support.microsoft.com/kb/915845</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,'Deprecated SQL Server Agent Tokens in use in $(Count) job steps'  ,''  ,''  ,''  ,'Change any job steps which are using outdated tokens to use proper escape notation.  A script to assist in transitioning job steps, sp_AddEscapeNoneToJobStepTokens, is available from Microsoft.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S5'  ,''  ,'http://bit.ly/bS6yOc',13  ,5  ,'' ,'SQL Server instance is running on a domain controller ' ,'Microsoft recommends that SQL Server not be installed on a primary or backup domain controller.  Installing a failover cluster on a domain controller is not supported. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>You may encounter problems when installing SQL Server on a domain controller</Title><Link>http://support.microsoft.com/kb/2032911</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'If possible, move the SQL Server instance to a non domain controller server.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S6'  ,'$(li)While enforcing password policies is a best practice, there may be business reasons that such a policy is undesirable, such as supporting legacy applications. $(li)When a password expiration policy is used to manage the lifespan of the password, one password cannot be used forever.  If a database application requires SQL Server Authentication and there is no provision for changing the password regularly, it may be disruptive to change from the existing policy, though doing so would be in line with recommended security practices.$(li)When a vendor application has a required SQL Login password that fails to meet the complexity requirements.'  ,'http://bit.ly/bNV0ZV',13  ,10  ,'Vulnerable SQL Server Password Policy' ,'SQL Server password policy is vulnerable for login $(Name) ' ,'The SQL login $(Name) is vulnerable to exploitation because it does not enforce both a password policy and password expiration. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server: Password policy FAQ</Title><Link>http://blogs.msdn.com/b/lcris/archive/2008/02/20/sql-server-password-policy-faq.aspx</Link></RecommendationLink><RecommendationLink><Title>CREATE LOGIN</Title><Link>http://msdn.microsoft.com/en-us/library/ms189751.aspx</Link></RecommendationLink><RecommendationLink><Title>Enforce Windows Password Policy on SQL Server Logins</Title><Link>http://blogs.msdn.com/b/sqlsecurity/archive/2009/03/25/enforce-password-policy-on-sql-server-logins.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'SQL Server password policy is weak for $(Count) logins'  ,'A SQL login is vulnerable to exploitation when it does not enforce both a password policy and password expiration.'  ,'If SQL Server Authentication is not required in your environment, use Windows Authentication instead.  Otherwise, enable both "Enforce password policy" and "Password expiration" for all SQL Server logins.'  ,'$(li)Without a password complexity policy, there is nothing preventing the user from using a password that is easy to guess or that is not complex enough to prevent a brute force attack. $(li)Passwords with no expiration allow the user to use the same password indefinitely.  This increases the likelihood that the user will never change the password and that others will learn the password and use the account without proper authorization. $(li)When a password complexity policy is in place, the user must use a password that meets the requirements of that policy.  These requirements generally mean the user cannot use all or part of the account name as the password, the password is at least eight characters long, and contains a mix of upper and lower case, alphanumeric, and special characters.'  ,'If SQL Server Authentication is not required in your environment, use Windows Authentication instead.  Otherwise, enable both "Enforce password policy" and "Password expiration" for all SQL Server logins.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S7'  ,''  ,'http://bit.ly/cyQygd',13  ,5  ,'Trustworthy bit vulnerability' ,'Trustworthy bit vulnerability exists for database $(Database) ' ,'If the database owner is assigned a fixed server sysadmin role and the database has its trustworthy bit set to ON, a privileged database user can elevate privileges and possibly compromise the system. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>TRUSTWORTHY Database Property</Title><Link>http://technet.microsoft.com/en-us/library/ms187861.aspx</Link></RecommendationLink><RecommendationLink><Title>Guidelines on using the Trustworthy setting for SQL Server Database.</Title><Link>http://support.microsoft.com/kb/2183687</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Trustworthy bit vulnerabilities exist for $(Count) databases'  ,''  ,''  ,''  ,'Turn off the trustworthy bit or change the database owner to a login that is assigned a fixed server role other than sysadmin.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S8'  ,''  ,'http://bit.ly/c6qhrC',13  ,8  ,'Symmetric key in system database' ,'Symmetric key exists in system database $(Database) ' ,'Microsoft recommends that symmetric keys not be created in SQL Server system databases master, msdb, model, and tempdb though symmetric keys will exist in the master database including the Service Master Key and a copy of every Database Master Key used in a user database.' ,0 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Best Practices in Creating and Managing Symmetric and Asymmetric keys used for Encryption</Title><Link>http://support.microsoft.com/kb/2162020</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Symmetric keys exist in $(Count) system databases'  ,''  ,'Investigate the possibility of removing symmetric keys from system databases'  ,''  ,'Investigate the possibility of removing the symmetric key from $(Database)'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S9'  ,''  ,'http://bit.ly/afjhhN',13  ,5  ,'Weak encryption algorithm for secret keys' ,'Encryption algorithm for secret keys is weak for database $(Database) ' ,'A weak symmetric key has been detected in $(Database).  Microsoft recommends AES 128 bit and above for data encryption. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Security Best Practice</Title><Link>http://www.microsoft.com/technet/prodtechnol/sql/2005/sql2005secbestpract.mspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'Encryption algorithm for secret keys is weak for $(Count) databases'  ,'A weak symmetric key has been detected in $(Count) databases.  Microsoft recommends AED 128 bit and above for data encryption.'  ,''  ,''  ,'Update your encryption key to AES 128 bit or above. If AES is not supported by your operating system, use 3DES.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC1'  ,'$(li)If the current setting has been verified to provide the greatest value.'  ,'http://bit.ly/9WH8Id',14  ,5  ,'Non-default server setting' ,'$(Configuration) is set to value $(CurrentValue) ' ,'The $(Configuration) setting has been changed from the default value of $(DefaultValue) to $(CurrentValue). ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Setting Server Configuration Options</Title><Link>http://technet.microsoft.com/en-us/library/ms189631.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) non-default server settings'  ,'The default server setting has been changed.'  ,'It is recommended that the default value is used for the server setting.

However, all changes to server configuration settings require thorough testing to verify there are no adverse effects. '  ,'$(li)A non-default setting can have an adverse impact on performance.'  ,'It is recommended that the default value of -1 is used for the query wait (s) server setting.

However, all changes to server configuration settings require thorough testing to verify there are no adverse effects.  '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC2'  ,''  ,'http://bit.ly/b6wWJZ',14  ,5  ,'Server configuration option requires restart' ,'SQL Server configuration option "$(Configuration)" has been changed but requires a server restart to take effect ' ,'Certain server configuration options do not take effect until after a server restart. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Setting Server Configuration Options</Title><Link>http://technet.microsoft.com/en-us/library/ms189631.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) SQL Server configuration options have been changed but require a server restart to take effect'  ,''  ,'Schedule a server restart when possible to finalize these configuration changes.  If a server restart is expected soon and the configuration options are non-critical, ignore this recommendatioon.'  ,''  ,'Schedule a server restart when possible to finalize this configuration change.  If a server restart is expected soon and the configuration option is non-critical, ignore this recommendation.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC3'  ,''  ,'http://bit.ly/9Oum0f',14  ,5  ,'Blocked process threshold too low' ,'The Blocked Process Threshold is set too low ($(CurrentValue) sec) ' ,'Setting the Blocked Process Threshold below 5 seconds may cause the deadlock monitor to run constantly and therefore should only be used for short term troubleshooting. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>blocked process threshold</Title><Link>http://msdn.microsoft.com/en-us/library/ms181150.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Blocked Process Threshold be set to at least 5 seconds or to 0 to disable the Blocked Process monitor.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC4'  ,''  ,'http://bit.ly/d6botW',14  ,5  ,'Non-dynamic lock configuration' ,'Lock configuration is not dynamic ' ,'A setting other than the default of 0 for the Locks configuration option may causes code termination and "out of locks" error messages if the specified number of locks is exceeded and may cause lock escalation to occur earlier increasing contention for locks.. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How to troubleshoot SQL Server lock related problems and errors</Title><Link>http://support.microsoft.com/kb/2199576</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the Locks option be set to the default setting of 0, which allows the database engine to allocate and deallocate locks based on system requirements. This option is going to be removed in a future version of SQL Server. If you are currently relying on a customized setting for this option, you should consider alternative solutions. 
Making this change will require a SQL Server restart.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC5'  ,''  ,'http://bit.ly/dyRuwl',14  ,5  ,'Default trace log files disabled' ,'Default trace log files are disabled ' ,'Default tracing tracks information about configuration and DDL changes to the SQL Server.  This information may be useful when troubleshooting issues with the database engine. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Default Trace</Title><Link>http://blogs.technet.com/b/beatrice/archive/2008/04/29/sql-server-default-trace.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that the default trace be enabled.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC6'  ,'$(li)If your database applications are making use of this feature, it may be undesirable to change this setting.  The following error message will be given when this option is set to ON and a result set is returned from a trigger: "Msg 524, Level 16, State 1, Procedure <Procedure Name>, Line <Line#> - A trigger returned a resultset and the server option ''disallow_results_from_triggers'' is true." $(li)Result sets are often returned to aid in testing and debugging triggers.'  ,'http://bit.ly/aLrJAj',14  ,2  ,'Disallow Results from Triggers is OFF' ,'Disallow results from triggers is OFF ' ,'The server is currently configured to allow triggers to return result sets. ' ,0  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>disallow results from triggers Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms186337.aspx</Link><Condition>SQLVersion = 10.5</Condition></RecommendationLink><RecommendationLink><Title>disallow results from triggers Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms186337(v=SQL.100).aspx</Link><Condition>SQLVersionMajor = 10 AND SQLVersion &lt; 10.5</Condition></RecommendationLink><RecommendationLink><Title>disallow results from triggers Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms186337(v=SQL.90).aspx</Link><Condition>SQLVersionMajor = 9</Condition></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)Triggers that return result sets may cause unexpected behavior in applications that are not designed to work with them. $(li)This option will be removed in a future version of Microsoft SQL Server and triggers will no longer be able to return result sets.'  ,'It is recommended that the ''Disallow results from triggers'' option be set to ON.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC7'  ,''  ,'http://bit.ly/ayZ9vO',14  ,1  ,'CLR enabled' ,'The Common Language Runtime (CLR) option is enabled ' ,'The CLR Enabled option controls whether user assemblies may be run by SQL Server.  CLR cannot be enabled on servers which are using Lightweight Pooling. ' ,0 ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>clr enabled Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms175193.aspx</Link></RecommendationLink><RecommendationLink><Title>SQL Server Best Practices Article </Title><Link>http://msdn.microsoft.com/en-us/library/cc966485.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'Consider disabling CLR if user assemblies are not used in your environment.  Otherwise ignore this recommendation.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC8'  ,''  ,'http://bit.ly/9EoQfg',14  ,8  ,'McAfee buffer overflow protection detected' ,'McAfee Buffer Overflow Protection may cause SQL Server to lock up ' ,'McAfee Buffer Overflow Protection may inject a thread into SQL Server which may cause SQL Server to become unresponsive. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>You may experience performance and consistency issues with SQL Server when certain modules are loaded into SQL Server address space</Title><Link>http://support.microsoft.com/kb/2033238</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'Ensure all updates to McAfee Virus scan are applied.  You may need to disable Buffer Overflow Protection.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC9'  ,''  ,'http://bit.ly/ba7R6T',14  ,4  ,'Non-standard network packet size' ,'Network Packet Size ($(CurrentValue) B) is a non-standard value ' ,'The default Network Packet Size is 4,096 bytes, with the maximum recommended value 8,060 bytes.  SQL Server performs different memory allocation operations for values above 8,060 which can cause an increase in the process virtual address space that is not reserved for the buffer pool. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>network packet size Option</Title><Link>http://msdn.microsoft.com/en-us/library/aa196719(SQL.80).aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'If there is not a specific reason that the network packet size has been set outside of the customary range, consider setting the size back to the default of 4,096. Any non-standard setting should be validated as being no larger than the maximum packet size supported by the network or packets will be broken down into smaller packets at the network layer which could severely degrade performance of the network transport of the packets from SQL Server.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SF1'  ,''  ,'http://bit.ly/9D1qwj',15  ,10  ,'' ,'The system page file is incorrectly sized ' ,'When a process asks for MEM_COMMIT memory via the VirtualAlloc API, physical pages of memory are allocated and space is reserved in the page file. Errors 801 and 802 will eventually be entered in the SQL Server''s error log when the memory cannot be successfully reserved.
When a process asks for MEM_COMMIT memory via the VirtualAlloc API, physical pages of memory are allocated and space is reserved in the page file. Errors 801 and 802 will eventually be entered in the SQL Server''s error log when the memory cannot be successfully reserved.
 ' ,'1'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that even on systems that do not page, the page file size should still be 1.5 times the size of the physical memory. 
The total available system page file size is xxx.xGB and the server has xxx.xGB of physical memory.It is recommended that even on systems that do not page, the page file size should still be 1.5 times the size of the physical memory. 
The total available system page file size is xxx.xGB and the server has xxx.xGB of physical memory.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-UG1'  ,''  ,'http://bit.ly/9m5FCp',16  ,3  ,'' ,'Upgrading certain system components may improve performance ' ,'The list below shows ranks the system components by the amount of stress they are under. Upgrading the system will improve your overall performance: 1. The I/O subsystem - (generating xx% of the waits), 2. The Network subsystem -  (generating xx% of the waits), 3. The Memory subsystem -  (generating xx% of the waits), 4. The CPU subsystem - (generating xx% of the waits) ' ,'3'  ,''  ,''  ,''  ,''  ,''  ,'It is recommended that the waits for the various components should be examined and, if found to be excessive, upgraded to improve system performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-VL1'  ,''  ,'http://bit.ly/bCtPRS',17  ,6  ,'' ,'The following databases have highly fragmented transaction logs: $(li) Database xxx - xxx virtual log files $(li)Database xxx - xxx virtual log files ' ,'Fragmentation occurs where the transaction log file was initially incorrectly sized far too small and has gone through many rounds of autogrowth. Fragmented transaction log files containing many virtual log files can significantly slow performance and should be corrected. ' ,'2'  ,''  ,'$(Count) databases have highly fragmented transaction log files'  ,''  ,''  ,''  ,'It is recommended that these transaction log files be defragmented and their size increased to improve performance.'  ,0,''
,0)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W1'  ,'$(li)CXPACKET waits should not be seen as a problem.  They are only an indication of parallel query execution.  $(li)PAGEIOLATCH_XX waits should not be seen as a problem.  They are only an indication that waits occurred when data pages are being read into the buffer pool.$(li)If no performance problems have been experienced by any of the ''Affected Batches,'' then the CXPACKET and PAGEIOLATCH_XX waits may be negligible.'  ,'',18  ,5  ,'High CXPACKET and PAGEIOLATCH_XX waits' ,'High CXPACKET and PAGEIOLATCH_XX waits ' ,'The CXPACKET and PAGEIOLATCH_XX waits were found among the highest waits experienced during the analysis. ' ,'3'  ,''  ,''  ,''  ,''  ,'$(li)CXPACKET waits occur when a parallel query is executed and one or more threads have to wait for another thread to complete.  The time spent in the waiting threads of the parallel query is the time that is measured by CXPACKET waits.  When CXPACKET waits are high, this could be an indication that the query optimizer could not properly estimate equal amounts of work for each of the parallel threads.$(li)PAGEIOLATCH_XX waits occur when a data page was not found in the buffer pool and a physical I/O must be performed to read the page into the buffer pool.  When PAGEIOLATCH_XX waits are high, this could be an indication that a large number of data pages are being loaded into the buffer pool from disk to satisfy various queries.$(li)When both CXPACKET and PAGEIOLATCH_XX waits are high, this could mean that there are parallelized queries performing large table scans and the query optimizer was not able to correctly parallelize the query into equal sets for each of the parallel threads.  This can occur when the query optimizer cannot find a suitable non-clustered index to speed up the query, possibly because no such index exists, the index statistics are out-of-date, a function is used on a column within a query filter predicate, or an implicit conversion is occurring within a query filter predicate.  Additionally, fragmentation could be a contributing factor due to the fragmentation causing an inefficient read-ahead for index range scans.'  ,'It is recommended that you review the ''Affected Batches'' below and consider the following: $(li)Update the relevant statistics objects to improve query plan generation $(li)Rebuild highly fragmented indexes for the tables used by the ''Affected Batches''$(li)Revise filter criteria to prevent implicit conversions which could be causing table scans$(li)Add missing indexes to prevent excessive I/O $(li)As a last resort, you may want to try reducing MAXDOP for the offending queries within the ''Affected Batches.''  If you have a NUMA system, then try setting MAXDOP equal to the number of processor cores available in a single NUMA node.$(li)Evaluate the plan cost and execution frequency to determine if the server configuration option "cost threshold for parallelism" should be adjusted to prevent SQL Server from using parallelism in execution plans which do not benefit from it.$(li)Review the sys.dm_io_virtual_file_stats DMV output to determine whether the I/O characteristics have changed from your I/O subsystem baseline measurements.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W2'  ,'$(li)If the performance benefit of parallelizing the short running queries outweighs the overhead required to initialize, synchronize, and terminate the parallel plans.'  ,'',18  ,10  ,'Parallelism threshold too low' ,'High CXPACKET waits with the parallelism threshold set below recommended levels ' ,'High CXPACKET waits were found and the Cost Threshold for Parallelism configuration value of $(CurrentThreshold) is set below the recommended level of $(RecommendedThreshold).  ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Hurry up and wait</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-hurry-up-and-wait/</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Stop waiting!</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-stop-waiting/</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)This can cause queries to become parallelized that would not benefit from parallel execution.  These extra parallel queries may be contributing to higher CXPACKET waits which occur when parallel queries are executed.   $(li)Short running queries do not benefit from parallelism because the additional time required to initialize, synchronize, and terminate parallel plans can outweigh the benefits of distributing the workload across multiple processors.'  ,'It is recommended that the ''Cost Threshold for Parallelism'' configuration value should be increased to $(RecommendedThreshold) or higher.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W3'  ,'$(li)If the current ''max degree of parallelism'' has been tuned for the current hardware and workload requirements of the SQL Server instance.$(li)If you are not experiencing poor performance from parallelized queries or parallel queries are not monopolizing CPU usage, then the CXPACKET waits described above may be negligible in your environment.'  ,'',18  ,10  ,'CXPACKET waits with current max degree of parallelism setting' ,'High CXPACKET waits found with the current max degree of parallelism setting ' ,'CXPACKET waits are among the highest waits found during the analysis and the current max degree of parallelism setting is $(CurrentMaxDOP). ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Hurry up and wait</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-hurry-up-and-wait/</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Stop waiting!</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-stop-waiting/</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)An incorrectly configured ''max degree of parallelism'' can cause inefficiencies with parallel query execution by requiring more CPU cores for the parallel plan than physically available at the time of execution.$(li)A single query could monopolize all available CPU cores and prevent other queries from running. '  ,'It is recommended that the ''Max Degree of Parallelism'' configuration option should be set to a value not exceeding half the number of available physical processor cores, ignoring any logical CPUs from hyper-threading. If you have a NUMA system, then try setting ''Max Degree of Parallelism'' equal to the number of processor cores available in a single NUMA node. Also, no matter how many cores are available the parameter should not be set above eight.  '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W4'  ,'$(li)If you are not experiencing poor performance from parallelized queries, then the CXPACKET waits described above may be negligible in your environment.'  ,'',18  ,10  ,'High CXPACKET waits' ,'The server is experiencing high CXPACKET waits ' ,'CXPACKET waits are among the highest waits found during the analysis.  These waits are occur when multiple threads are used to run a query in parallel and one or more of the threads lag behind causing the other threads to wait.   ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Hurry up and wait</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-hurry-up-and-wait/</Link></RecommendationLink><RecommendationLink><Title>Parallelism: Stop waiting!</Title><Link>http://sqldoctor.idera.com/wait-stats/parallelism-stop-waiting/</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,'$(li)The query optimizer may not be able to properly estimate the cost of the parallel query plans.  $(li)Indexes may be highly fragmented.  Highly fragmented indexes can cause inefficiencies with range scans because the SQL Server read-ahead logic is unable to read large page ranges into memory with single I/O requests.  Instead, a greater number of smaller IO requests may be performed which can slow down one or more of the parallel threads.$(li)Statistics may be out-of-date.  Without up-to-date statistics, the query optimizer cannot properly estimate query plan costs, causing one or more threads to get a disproportionate amount of work to perform.$(li)Query filter predicates may contain functions on column values forcing a scan to be used instead of a seek.$(li)Query filter predicates may be causing an implicit conversion of a column value because of mismatched data types.'  ,'It is recommended that you review the server activity and consider the following: $(li)Rebuild highly fragmented indexes to improve read-ahead performance for range scans$(li)Update the relevant statistics objects to improve query plan generation $(li)Revise filter criteria to prevent implicit conversions which could be causing index/table scans$(li)Revise filter criteria to prevent functions from being used on columns which could be causing index/table scans$(li)Add missing indexes to improve performance of queries$(li)Reduce MAXDOP for the offending queries.  If you have a NUMA system, then try setting MAXDOP equal to the number of processor cores available in a single NUMA node.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W5'  ,''  ,'',18  ,10  ,'High ASYNC_NETWORK_IO waits' ,'The server is experiencing high ASYNC_NETWORK_IO waits ' ,'High ASYNC_NETWORK_IO waits normally indicate one or more applications are not pulling result sets fast enough from the SQL Server instance. This is usually an indication of the behavior being exhibited by the client application. This behavior may be expected, such as an application that uses a data reader to display one page of results at a time without requerying, or it may be application that processes data in a suboptimal fashion. A low percentage of time this may indicate a network latency issue. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Troubleshooting ASYNC_NETWORK_IO</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/01/09/troubleshooting-async-network-io-networkio.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you review the Affected Batches and ensure the following: $(li)The applications are processing the result sets efficiently $(li)The queries are not pulling more data than needed by the calling application $(li)The SQL Server instance is not experiencing network problems $(li)The client machines hosting the calling applications are not experiencing network problems '  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W6'  ,''  ,'',18  ,10  ,'High THREADPOOL waits' ,'The server is experiencing high THREADPOOL waits due to the Max Worker Threads option being too low ' ,'The Max Worker Threads option is set too low causing high THREADPOOL waits.  This is causing tasks to wait too long for worker threads to become available. ' ,3  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>max worker threads Option</Title><Link>http://msdn.microsoft.com/en-us/library/ms187024.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,''  ,''  ,''  ,''  ,'It is recommended that you change the Max Worker Threads option to zero.  This will allow the SQL Server Database Engine to calculate the optimal number of threads. '  ,1,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W7'  ,'$(li)When the server is ''warming up,'' there will be a significant amount of PAGEIOLATCH_XX waits due to SQL Server loading needed pages into the buffer pool.  High PAGEIOLATCH_XX should normally be ignored until the SQL Server instance has had a chance to run long enough to load the most often needed data pages into the buffer pool.$(li)When executing large reports that require large table scans or index range scans.$(li)If you are not experiencing poor performance from any of the affected batches, then the waits described above may be negligible in your environment.'  ,'',18  ,'10'  ,'High PAGEIOLATCH_XX waits' ,'Database [$(Database)] is experiencing high PAGEIOLATCH_XX waits ' ,'The queries using database [$(Database)] may be impacted by PAGEIOLATCH_XX waits.  PAGEIOLATCH_XX waits occur when a data page was not found in the buffer pool and a physical I/O must be performed to read the page into the buffer pool.  When PAGEIOLATCH_XX waits are high, this could be an indication that a large number of data pages are being loaded into the buffer pool from disk to satisfy various queries. ' ,'2'  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases are experiencing high PAGEIOLATCH_XX waits '  ,'Queries may be impacted by PAGEIOLATCH_XX waits.  PAGEIOLATCH_XX waits occur when a data page was not found in the buffer pool and a physical I/O must be performed to read the page into the buffer pool.  When PAGEIOLATCH_XX waits are high, this could be an indication that a large number of data pages are being loaded into the buffer pool from disk to satisfy various queries.'  ,'You should consider the following:$(li)Review all query optimization recommendations to determine if efficiency changes can be made to the queries.  $(li)Revise filter criteria to prevent implicit conversions which could be causing index/table scans$(li)Revise filter criteria to prevent functions from being used on columns which could be causing index/table scans$(li)Ensure statistics are up-to-date.  Without up-to-date statistics, the query optimizer will not be able to generate an efficient execution plan and could potentially cause the query to perform an excessive amount of I/O.$(li)Ensure large indexes are not highly fragmented.  Fragmented indexes reduce the efficiency of the read-ahead logic used for index range scans.
$(li)Review all missing indexes to determine if new indexes can be added to improve query performance and reduce the amount of I/O required to satisfy the workload requirements.$(li)Review memory recommendations to ensure SQL Server is configured correctly for optimum memory performance.$(li)Review disk recommendations to determine if optimizations can be made to improve I/O performance on the drives hosting the database data files.$(li)Review the sys.dm_io_virtual_file_stats DMV output to determine whether the I/O characteristics have changed from your I/O subsystem baseline measurements.'  ,'$(li)This may be an indication of poorly optimized queries.  Queries which are defined without search predicates or cannot find an efficient index to use may require a scan of all data pages for the table.  This can cause excessive I/O and contribute to the PAGEIOLATCH_XX waits.$(li)Query filter predicates may be causing an implicit conversion to occur on a column value due to mismatched data types.$(li)Query filter predicates may contain functions on column values forcing a scan to be used instead of a seek.$(li)This may be an indication of out-of-date statistics.  Without up-to-date statistics, the query optimizer cannot generate an efficient execution plan due to inaccurate cost estimates.  This can cause the query optimizer to choose an inefficient data access path and generate additional I/O which can contribute to the PAGEIOLATCH_XX waits.$(li)Fragmentation can contribute to longer PAGEIOLATCH_XX wait times when index range scans are performed because the SQL Server read-ahead logic may have to perform single page I/O requests instead of larger multi-page I/O requests.$(li)This may be an indication that the buffer pool is under high pressure due to large table scans or because a large number of dirty pages exist in the buffer pool that must first be written to disk before new data can be loaded.  This slowdown due to flushing out existing pages from the buffer pool can contribute to the time spent in the PAGEIOLATCH_XX waits.$(li)This could indicate that the workload requirements for the server are too high based on the available amount of buffer pool memory.$(li)PAGEIOLATCH_XX waits can result when problems or bottlenecks exists within the disk subsystem.'  ,'You should consider the following:$(li)Review all query optimization recommendations to determine if efficiency changes can be made to the queries.  $(li)Revise filter criteria to prevent implicit conversions which could be causing index/table scans$(li)Revise filter criteria to prevent functions from being used on columns which could be causing index/table scans$(li)Ensure statistics are up-to-date.  Without up-to-date statistics, the query optimizer will not be able to generate an efficient execution plan and could potentially cause the query to perform an excessive amount of I/O.$(li)Ensure large indexes are not highly fragmented.  Fragmented indexes reduce the efficiency of the read-ahead logic used for index range scans.$(li)Review all missing indexes to determine if new indexes can be added to improve query performance and reduce the amount of I/O required to satisfy the workload requirements.$(li)Review memory recommendations to ensure SQL Server is configured correctly for optimum memory performance.$(li)Review disk recommendations to determine if optimizations can be made to improve I/O performance on the drives hosting the database data files.$(li)Review the sys.dm_io_virtual_file_stats DMV output to determine whether the I/O characteristics have changed from your I/O subsystem baseline measurements.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W8'  ,'$(li)If you are not experiencing poor performance from operations on this index, then the waits described above may be negligible in your environment.'  ,'',18  ,10  ,'High PAGELATCH_EX and PAGELATCH_SH waits on index' ,'$(IndexId>1?Index [$(IndexName)]:Clustered index) on table [$(Schema)].[$(Table)] is experiencing high PAGELATCH_EX and/or PAGELATCH_SH waits ' ,'The performance of the $(IndexId>1?index [$(IndexName)]:clustered index) on table [$(Schema)].[$(Table)] is adversely impacted by PAGELATCH_EX and/or PAGELATCH_SH waits.   ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) indexes are experiencing high PAGELATCH_EX and/or PAGELATCH_SH waits '  ,'Index performance is being adversely impacted by PAGELATCH_EX and/or PAGELATCH_SH waits.  This can be an indication of contention on the same index range by concurrent inserts.  If concurrent inserts are being made to the same page, the inserts are serialized using latches.  These inserts can also cause page splits that keeps the latch while allocating the new page which will take additional time to complete.  Additionally, reads accessing these pages would conflict with the latches causing additional waits.'  ,'It is recommended that the index be reviewed to determine if it can be restructured in order to distribute the range being inserted across multiple partitions. If your SQL Server version does not support index partitioning, then it is recommended that the index be reviewed to determine if the columns of the index key can be changed so that the inserts are distributed across the pages of the index.  If page splits are impacting the index, the fill factor of the index should be adjusted to reduce the occurrence of the page splits.'  ,'$(li)When PAGELATCH_EX or PAGELATCH_SH waits occur on an index this can be an indication of contention on the same index range by concurrent inserts or updates.  If concurrent inserts/updates are made to the same page, the operations are serialized using latches.$(li)These inserts/updates can also cause page splits that keep the latch while allocating the new page which will take additional time to complete. Additionally, reads accessing these pages would conflict with the latches causing additional waits.'  ,'It is recommended that the index be reviewed to determine if it can be restructured in order to distribute the range being inserted across multiple partitions. If your SQL Server version does not support index partitioning, then it is recommended that the index be reviewed to determine if the columns of the index key can be changed so that the inserts are distributed across the pages of the index.  If page splits are impacting the index, the fill factor of the index should be adjusted to reduce the occurrence of the page splits.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W9'  ,'$(li)If you are not experiencing poor performance from operations on this table, then the waits described above may be negligible in your environment.'  ,'',18  ,10  ,'High PAGELATCH_EX and PAGELATCH_SH waits on table' ,'Table [$(Schema)].[$(Table)] is experiencing high PAGELATCH_EX and/or PAGELATCH_SH waits ' ,'The performance of table [$(Schema)].[$(Table)] is adversely impacted by PAGELATCH_EX and/or PAGELATCH_SH waits.   ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) tables are experiencing high PAGELATCH_EX and/or PAGELATCH_SH waits '  ,'Table performance is being adversely impacted by PAGELATCH_EX and/or PAGELATCH_SH waits.  This can be an indication of contention for access to the data pages by concurrent inserts/updates.  If concurrent inserts/updates are made to the same page, the operations are serialized using latches.  Additionally, reads accessing these pages would conflict with the latches causing additional waits.'  ,'It is recommended that the table be reviewed to determine if it can be restructured in order to distribute the range being inserted across multiple partitions. If your SQL Server version does not support table partitioning, then it is recommended that the table be reviewed to determine if a clustered index can be created on the table so that the inserts are distributed across the pages of the index.'  ,'$(li)PAGELATCH_EX or PAGELATCH_SH waits that occur on a table can be an indication of contention for access to the data pages by concurrent inserts/updates.  If concurrent inserts/updates are made to the same page, the operations are serialized using latches.  Additionally, reads accessing these pages would conflict with the latches causing additional waits.'  ,'It is recommended that the table be reviewed to determine if it can be restructured in order to distribute the range being inserted across multiple partitions. If your SQL Server version does not support table partitioning, then it is recommended that the table be reviewed to determine if a clustered index can be created on the table so that the inserts are distributed across the pages of the index.'  ,0,''
,1)
SET @multilineInput = 'You should consider adding more files to the database.  This will allow for additional distribution of updates to allocation pages. SQL Server''s proportional fill algorithm will allocate based on the amount of free space in each of the files proportionately, so new files should be created with the size proportional to the amount of free space in the existing data files.  Additionally, if the data files are allowed to autogrow, then the autogrowth settings should be equalized across all data files.'
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-W10'  ,'$(li)If you are not experiencing poor performance from operations on this database, then the waits described above may be negligible in your environment.'  ,'',12  ,10  ,'High PAGELATCH_UP waits' 
,'Database [$(Database)] is experiencing high PAGELATCH_UP waits' 
,'The performance of database [$(Database)] is adversely impacted by PAGELATCH_UP waits. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>sys.dm_os_wait_stats</Title><Link>http://msdn.microsoft.com/en-us/library/ms179984.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning using the Waits and Queues</Title><Link>http://msdn.microsoft.com/en-us/library/cc966413.aspx</Link></RecommendationLink><RecommendationLink><Title>Waits and Queues</Title><Link>http://technet.microsoft.com/en-us/sqlserver/gg508897.aspx</Link></RecommendationLink><RecommendationLink><Title>Performance Tuning with Wait Statistics</Title><Link>http://blogs.msdn.com/b/joesack/archive/2009/04/22/presentation-deck-for-performance-tuning-with-wait-statistics.aspx</Link></RecommendationLink><RecommendationLink><Title>Pinal Dave - Wait Types and Wait Queues</Title><Link>http://blog.sqlauthority.com/2011/02/01/sql-server-wait-stats-wait-types-wait-queues-day-0-of-28-2/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases are experiencing high PAGELATCH_UP waits ','Database performance is being adversely impacted by PAGELATCH_UP waits.  This indicates that contention is occurring due to updates being made on allocation pages and is usually a sign that more files are needed for the database.  Having multiple files will allow the allocations to be distributed which will reduce the demands on the allocation pages within the existing files.'
,'You should consider adding more files to the database.  This will allow for additional distribution of updates to allocation pages. SQL Server''s proportional fill algorithm will allocate based on the amount of free space in each of the files proportionately, so new files should be created with the size proportional to the amount of free space in the existing data files.  Additionally, if the data files are allowed to autogrow, then the autogrowth settings should be equalized across all data files.  However, adding a new file with significantly more free space can result in a hot spot on that file and continued PAGELATCH_UP waits.You should consider adding more files to the database.  This will allow for additional distribution of updates to allocation pages. SQL Server''s proportional fill algorithm will allocate based on the amount of free space in each of the files proportionately, so new files should be created with the size proportional to the amount of free space in the existing data files.  Additionally, if the data files are allowed to autogrow, then the autogrowth settings should be equalized across all data files.  However, adding a new file with significantly more free space can result in a hot spot on that file and continued PAGELATCH_UP waits.','$(li)This indicates that contention is occurring due to updates made on allocation pages and is usually a sign that more files are needed for the database.  Having multiple files will allow the allocations to be distributed which will reduce the demands on the allocation pages within the existing files.' ,@multilineInput  ,0,'',1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R1'  ,''  ,'',12  ,10  ,'Database has suspect pages' ,'Database [$(Database)] has suspect pages ' ,'Suspect pages have been found in database [$(Database)] based on information in the msdb..suspect_pages table.  The pages for this database are suspected of being bad, but may be fine. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Understanding and Managing the suspect_pages Table</Title><Link>http://msdn.microsoft.com/en-us/library/ms191301.aspx</Link></RecommendationLink><RecommendationLink><Title>Performing Page Restores</Title><Link>http://msdn.microsoft.com/en-us/library/ms175168.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases have suspect pages '  ,'Suspect pages have been found based on information in the msdb..suspect_pages table.  The pages for the databases are suspected of being bad, but may be fine.'  ,'It is recommended that you run DBCC CHECKDB against the database with the NO_INFOMSGS option so that only error messages are shown.  These error messages should be reviewed and researched using SQL Server Books Online.'  ,''  ,'It is recommended that DBCC CHECKDB be run against database [$(Database)] with the NO_INFOMSGS option so that only error messages are shown.  These error messages should be reviewed and researched using SQL Server Books Online.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R2'  ,''  ,'',12  ,10  ,'Backups should be on separate volumes' ,'Backups for database [$(Database)] are on the same volume as the data files ' ,'If the device containing the database fails, neither the data files nor backup files will be available.  Additionally, using separate devices will optimize the I/O performance for the database while backups are being performed. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Backup Devices</Title><Link>http://msdn.microsoft.com/en-us/library/ms179313.aspx</Link></RecommendationLink><RecommendationLink><Title>Optimizing Backup and Restore Performance in SQL Server</Title><Link>http://msdn.microsoft.com/en-us/library/ms190954.aspx</Link></RecommendationLink><RecommendationLink><Title>Introduction to Backup and Restore Strategies in SQL Server</Title><Link>http://msdn.microsoft.com/en-us/library/ms191239.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases should be on separate volumes'  ,'If the device containing the database fails, neither the data files nor backup files will be available.  Additionally, using separate devices will optimize the IO performance for the database while backups are being performed.'  ,'It is recommended that the database data files and backup files be placed on separate devices.'  ,''  ,'It is recommended that the database data files and backup files be stored on separate devices, such as two different physical disks, different LUNs of a SAN, or separate arrays. Note that this analysis only checks logical volumes. While the analysis considers each logical volume as a unique device, mount points are not identified as unique devices. Verify that each logical volume and mount point is located on a separate physical device. 

It is also recommended that you check the database backup history to ensure it correctly reflects the locations of your data files and backup files. To clean your backup history, run the sp_delete_database_backuphistory stored procedure.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R3'  ,''  ,'',12  ,10  ,'Database integrity should be checked' ,'The integrity of database [$(Database)] has not been checked in $(DaysSinceLastCheck) days ' ,'The physical integrity of a database [$(Database)] should be checked regularly to allow for early detection of errors so that downtime and data loss can be minimized. ' ,2  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>DBCC CHECKDB</Title><Link>http://msdn.microsoft.com/en-us/library/ms176064.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'The integrity of $(Count) databases should be checked'  ,'The physical integrity of databases should be checked regularly to allow for early detection of errors so that downtime and data loss can be minimized.'  ,'It is recommended that you run DBCC CHECKDB against the databases to ensure there are no data integrity problems.'  ,''  ,'It is recommended that you run DBCC CHECKDB against database [$(Database)] to ensure there are no data integrity problems.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R4'  ,''  ,'',12  ,1  ,'Database using Simple recovery model' ,'Database [$(Database)] is using Simple Recovery Model ' ,'Using Simple Recovery Model for database [$(Database)] prevents point-in-time recovery which will increase the amount of data loss in the event of a disaster recovery. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Choosing the Recovery Model for a Database</Title><Link>http://msdn.microsoft.com/en-us/library/ms175987.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases are using Simple Recovery Model'  ,'Using Simple Recovery Model for databases prevents point-in-time recovery which will increase the amount of data loss in the event of a disaster recovery.'  ,'It is recommended that you use Full Recovery Model on all production databases and that frequent transaction log backups are taken.  This will ensure recoverability with minimal loss of data.'  ,''  ,'It is recommended that Full Recovery Model is used on all production databases and that frequent transaction log backups are taken.  This will ensure recoverability with minimal loss of data.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R5'  ,''  ,'',12  ,1  ,'Database has outdated backups' ,'Database [$(Database)] has outdated backups ' ,'Up-to-date backups are not available for database [$(Database)].  The lack of backups will hinder the ability to recover the database in the event of a disaster recovery. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Introduction to Backup and Restore Strategies in SQL Server</Title><Link>http://msdn.microsoft.com/en-us/library/ms191239.aspx</Link></RecommendationLink><RecommendationLink><Title>Unbelievable tale of disaster and recovery</Title><Link>*http://www.sqlskills.com/BLOGS/PAUL/post/Unbelievable-tale-of-disaster-and-recovery.aspx</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases have outdated backups'  ,'Up to date backups are not available for databases.  The lack of backups will hinder the ability to recover the databases in the event of a disaster recovery.'  ,'It is recommended that a database maintenance plan be put in place to keep the database backups up-to-date.'  ,''  ,'It is recommended that a database maintenance plan be put in place to keep the database backups up to date.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R6'  ,''  ,'',12  ,'1'  ,'Recent backup file has been deleted or moved' ,'The most recent backup for database [$(Database)] has been deleted or moved to another location. ' ,'The most recent backup for database [$(Database)] had been written to [$(FileName)], but this file no longer exists.? Without this file, you will not be able to fully recover your database to its most recent state. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>SQL Server Backup Best Practices</Title><Link>http://www.brentozar.com/archive/2007/10/backing-up-sql-server-my-own-mediocre-practices/</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases are missing backup files'  ,'Recent backups no longer exist for $(Count) databases on this server.? Without these files, you will not be able to fully recover your databases to their most recent states.'  ,'It is recommended that at least one recent backup set for each database be maintained on disk for fast?and accurate?recovery. To ensure you will be able to restore your databases in the event of a disaster recovery,?identify the alternate location of these backup sets or perform new backups.'  ,''  ,'It is recommended that at least one recent backup set be maintained on disk for fast and accurate?recovery. To ensure you will be able to restore this database in the event of a disaster recovery,?identify the alternate location of this backup set or perform a new backup.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R7'  ,''  ,'',12  ,1  ,'Database transaction log has not been backed up recently' ,'Database [$(Database)] is set to [$(RecoveryMode)] recovery mode, and the transaction log has not been backed up in [$(Age)] days. ' ,'Databases that do not use the simple recovery model maintain a log of the transactions performed on that database.? If the transaction log is not backed up regularly, the log files can become very large and point-in-time recovery becomes impossible. ' ,1  ,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>How to stop the transaction log of a SQL Server database from growing unexpectedly</Title><Link>http://support.microsoft.com/kb/873235</Link></RecommendationLink></ArrayOfRecommendationLink>'  ,'$(Count) databases maintain a transaction log which has not been backed up recently'  ,'Databases that do not use the simple recovery model maintain a log of the transactions performed on that database.? If the transaction log is not backed up regularly, the log files can become very large and point-in-time recovery becomes impossible.'  ,'For those databases that maintain transaction logs, it is recommended that your maintenance plans include periodic transaction log backups to checkpoint the log and remove inactive transactions.? Full, differential, and filegroup backups do not remove inactive transactions from the log, nor can they be used for point-in-time recovery.? For databases that do not require point-in-time recovery, use the simple recovery model to prevent?unnecessary growth of the transaction log over time.'  ,''  ,'For those databases that maintain transaction logs, it is recommended that your maintenance plans include periodic transaction log backups to checkpoint the log and remove inactive transactions.? Full, differential, and?filegroup backups do not remove inactive transactions from the log, nor can they be used for point-in-time recovery.? For databases that do not require point-in-time recovery, use the simple recovery model to prevent?unnecessary growth of the transaction log over time.'  ,0,''
,1)
-- New Recommendations added after 10.0 beta
PRINT 'Adding New Set of Master Recommendations'
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q37'  ,'This may not be a problem if there are other reasons that a lower database compatibility level is being used.'  ,'',11  ,10  
,'Trace flag 4199 is enabled globally for SQL Server 2016 and there are databases running in compatibility level 120 or lower.' 
,'Trace flag 4199 is enabled globally for SQL Server 2016 and there are databases running in compatibility level 120 or lower.' 
,'Trace flag 4199 is enabled globally for SQL Server 2016 and there are databases running in compatibility level 120 or lower.' ,2  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>KB974006: SQL Server query optimizer hotfix trace flag 4199 servicing model: </Title><Link>https://support.microsoft.com/en-us/kb/974006 </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Trace flag 4199 is a catch-all trace flag that was implemented to enable select query optimizer enhancements. Beginning with SQL Server 2016, these enhancements are enabled by default for databases in compatibility level 130 (SQL Server 2016) and only new query optimizer enhancements will be implemented via trace flag 4199.
The behavior of trace flag 4199 is tied to the compatibility level of the database beginning with SQL Server 2016. Because someone may choose to upgrade the compatibility level of the database without realizing that it will affect the query optimizer behavior, we recommend upgrading the compatibility level and removing the trace flag in a controlled manner where any behavior changes can be tested thoroughly.
Once the compatibility level is raised to level 130, the trace flag may invoke new, unexpected behaviors and the trace flag should be removed unless there is a specific query optimizer fix for SQL Server 2016 that is needed.'  
,'It is recommended that the database compatibility level of all databases on SQL Server 2016 be raised to level 130 and trace flag 4199 be removed unless there is a specific query optimizer fix for SQL Server 2016 enabled under this trace flag that is needed.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q38'  ,'This may not be a problem if there have been new query optimizer enhancements created after the release of SQL Server 2016 that are verified as needed for the existing instance.'  ,'',11  ,10  
,'Trace flag 4199 is enabled globally for SQL Server 2016 and all databases are running in compatibility level 130.' 
,'Trace flag 4199 is enabled globally for SQL Server 2016 and all databases are running in compatibility level 130.' 
,'Trace flag 4199 is enabled globally for SQL Server 2016 and all databases are running in compatibility level 130.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>KB974006: SQL Server query optimizer hotfix trace flag 4199 servicing model:  </Title><Link>https://support.microsoft.com/en-us/kb/974006 </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Trace flag 4199 is a catch-all trace flag that was implemented to enable select query optimizer enhancements. Beginning with SQL Server 2016, these enhancements are enabled by default for databases in compatibility level 130 (SQL Server 2016) and only new query optimizer enhancements will be implemented via trace flag 4199.
The behavior of trace flag 4199 is tied to the compatibility level of the database beginning with SQL Server 2016. For databases running in compatibility level 130, the previous query optimizer enhancements enabled under trace flag 4199 will be enabled by default. If new query optimizer enhancements are implemented after the release of SQL Server 2016, they may be implemented via trace flag 4199.
Because new query optimizer enhancements may be enabled with trace flag 4199, we recommend removing the trace flag to avoid invoking new, unexpected behaviors unless there is a specific query optimizer fix for SQL Server 2016 that is needed.'  
,'It is recommended that race flag 4199 be removed unless there is a specific query optimizer fix for SQL Server 2016 enabled under this trace flag that is needed and all databases are running at compatibility level 130.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M31'  ,'When the ratio of Max Server Memory setting to buffer pool extension size is no greater than 16 to 1 or when alternate configurations have been tested and performance is acceptable at current thresholds.'  ,'',7  ,5  
,'The Buffer Pool Extension size may be too large relative to the size of the in-memory buffer pool.' 
,'The Buffer Pool Extension size may be too large relative to the size of the in-memory buffer pool.' 
,'The Buffer Pool Extension size may be too large relative to the size of the in-memory buffer pool.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Buffer Pool Extensions:   </Title><Link>https://msdn.microsoft.com/en-us/library/dn133176.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'Pages in the buffer pool extension are tracked in system memory, and the overhead of managing a buffer pool extension that is too large in comparison to the buffer pool in memory'
,'It is recommended that the buffer pool extension size compared to the in-memory buffer pool not exceed a ratio of 16 to 1 with an optimal size between 4 to 1 and 8 to 1 even though the buffer pool extension may be up to 32 times the size of the in-memory buffer pool. It is recommended that the buffer pool extension be thoroughly tested with multiple sizes to determine the best size setting for your workload and server.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M32'  ,'This may not be a problem when tests confirm that the benefit of the buffer pool extension is more than the overhead of maintaining it.'  ,'',7  ,5  
,'The Buffer Pool Extension feature my not be providing much benefit for this server.' 
,'The Buffer Pool Extension feature my not be providing much benefit for this server.' 
,'The Buffer Pool Extension feature my not be providing much benefit for this server.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Buffer Pool Extensions:   </Title><Link>https://msdn.microsoft.com/en-us/library/dn133176.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'Because the buffer pool extension stores only the oldest clean buffer pages that would have otherwise been evicted from cache, the overhead of maintaining a really large buffer pool extension may be more than the limited benefit of the buffer pool extension for SQL Servers with a very large in-memory buffer pool.'
,'It is recommended that for SQL Servers with more than 64 GB of memory allocated to SQL Server (Max Server Memory), the buffer pool extension feature should be thoroughly tested to ensure that the benefit it provides is greater than the overhead of maintaining such a large buffer pool extension.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I23'  ,'This may not be a problem if the statistics are filtered so that they only contain rows from the active partitions.'  ,'',5  ,8  
,'Partitioned table has column statistics that are not incremental.' 
,'Partitioned table [$(Schema)].[$(Table)] in database [$(Database)] has column statistics [$(StatsName)] that are not incremental.' 
,'Partitioned table [$(Schema)].[$(Table)] in database [$(Database)] has column statistics [$(StatsName)] that are not incremental.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>BOL article What''s New (Database Engine): Incremental Statistics:  </Title><Link>https://msdn.microsoft.com/en-us/library/bb510411%28v=sql.120%29.aspx#Stats </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Partitioned tables are often a mixture of static, historical data and new, changing data. Because changes may be occurring in only a few partitions, statistics for some partitions may not be updated frequently enough to properly represent the changes of data in those active partitions. Additionally, with non-incremental statistics, the stats have a very high overhead for maintenance due to the need to update stats for the entire table, even the non-changing partitions.'  
,'It is recommended that for table-wide, non-incremental column statistics on partitioned tables, the statistics should be dropped and replaced with incremental statistics. Incremental statistics are created and maintained per partition allowing statistics on active partitions to be automatically updated based on changes to their own partition and for statistics updates to be completed much quicker as they are updated per partitions.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I25'  ,'It is not a problem if the table is very small.'  ,'',5  ,9  
,'A memory-optimized hash index has too few buckets.' 
,'A memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has too few buckets.' 
,'A memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has too few buckets.' ,2  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Determining the Correct Bucket Count for Hash Indexes:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn494956.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'When there are too few buckets for a hash index, searches can be significantly slower. The hashing function only resolves which bucket a particular record is in, and all records in a selected bucket (bucket chain) must be read to find the correct rows. The more rows there are in a bucket (the longer the bucket chain), the more data that must be inspected to find the correct rows. Too many rows per bucket will hinder search performance. Additionally, long bucket chains due to too few buckets for an index can hinder recovery time and make database startup slow.'
,'It is recommended that the bucket count be between 1 and 2 times the number of unique index key values with the actual value being closer to 2 times. The empty bucket count in index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has an empty bucket count of less than 10% indicating that it likely has too few buckets for this index. It is recommended that you recreate the table with a larger number of buckets equaling 2 times the expected number of unique index key values. Memory-optimized indexes cannot be altered and changing the bucket count requires recreating the table.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I26'  ,'It is not a problem if the table is very small.'  ,'',5  ,8  
,'There are many duplicate key values in a memory-optimized hash index.'
,'There are many duplicate key values in a memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)].' 
,'There are many duplicate key values in a memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)].' ,2  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Determining the Correct Bucket Count for Hash Indexes:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn494956.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'

,''  ,''  ,''  ,'Duplicate key values in a hash index get hashed to the same bucket which can create long bucket chains (chain of records in a single bucket) that hinders search performance. All records in a selected bucket (bucket chain) must be read to find the correct rows. The more rows there are in a bucket (the longer the bucket chain), the more data that must be inspected to find the correct rows. Too many rows per bucket will hinder search performance. Additionally, long bucket chains for an index can hinder recovery time and make database startup slow.'
,'It is recommended that when the key columns of an index have a lot of duplicate values that a non-hashed memory-optimized nonclustered index be used rather than a hash index.  Memory-optimized indexes cannot be altered and changing the index type requires recreating the table with the changed indexes.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I28'  ,'This is not a problem if the high empty bucket count is due to planning for expected growth of the data of the table and the table is expected to grow into the bucket count.'  ,'',5  ,6  
,'A memory-optimized hash index has too many buckets.' 
,'A memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has too many buckets.' 
,'A memory-optimized hash index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has too many buckets.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Determining the Correct Bucket Count for Hash Indexes:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn494956.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'Unlike pages in disk-based indexes, all hash buckets are maintained in memory, even empty buckets. Every bucket uses 8 bytes of space in memory. An index with a large number of empty buckets can consume a lot of memory that could be used for other purposes.'
,'It is recommended that the bucket count be between 1 and 2 times the number of unique index key values with the actual value being closer to 2 times. The empty bucket count in index [$(Name)] on table [$(Schema)].[$(Table)] in database [$(Database)] has an empty bucket count of greater than 67% indicating that it likely has too many buckets for this index. The empty buckets in this index are consuming ($(EmptyBucketCount) * 8)/1024  KB or ($(EmptyBucketCount) * 8)/1024/1024 MB of memory. If the table is not expected to grow to use a majority of the empty buckets, it is recommended that you recreate the table with a smaller number of buckets equaling 2 times the expected number of unique index key values. Memory-optimized indexes cannot be altered and changing the bucket count requires recreating the table.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I29'  ,'When additional indexes are not needed or the index is present to support specific queries that are performance-critical but only get executed infrequently.'  ,'',5  ,6  
,'There are rarely used indexes on in-memory tables.' 
,'There is a rarely used index [$(Name)] on in-memory table [$(Schema)].[$(Table)] in database [$(Database)].' 
,'There is a rarely used index [$(Name)] on in-memory table [$(Schema)].[$(Table)] in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Guidelines for Using Indexes on Memory-Optimized Tables:   </Title><Link>https://msdn.microsoft.com/en-us/library/dn133166.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Indexes that are scanned frequently but return very few rows have a high overhead to maintain them. Often the overhead of maintaining the indexes may hinder performance more than it helps it. Additionally in-memory tables are limited to only 8 indexes, and a different index may be better in its place.'  
,'It is recommended that infrequently used indexes on in-memory tables be evaluated for removal after thorough testing to ensure no critical queries rely on it.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q39'  ,'It may not be a problem if the database is not critical or not being actively monitored for performance. Additionally, this feature is not allowed in master and tempdb, and it should only be used in msdb or model if there is a strong compelling performance reason driving the decision. Should not recommend enabling for msdb or model.'  ,'',11  ,6  
,'The Query Store feature in database [$(Database)] is currently disabled.' 
,'The Query Store feature in database [$(Database)] is currently disabled.' 
,'The Query Store feature in database [$(Database)] is currently disabled.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn817826.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'The Query Store is a valuable performance tool that provides insight on query plan choice and performance. Additionally, the Query Store provides a better process for freezing and forcing plans for queries with known plan selection issues.'
,'It is recommended that the Query Store be enabled for database [$(Database)] so query plan performance can be monitored and to ease troubleshooting queries suffering from plan selection issues.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q40'  ,'It may not be a problem if the database is not critical or not being actively monitored for performance.'  ,'',11  ,10  
,'The Query Store in database [$(Database)] is not collecting data because it is out of space.' 
,'The Query Store in database [$(Database)] is not collecting data because it is out of space.' 
,'The Query Store in database [$(Database)] is not collecting data because it is out of space.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn817826.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'The Query Store is a valuable performance tool that provides insight on query plan choice and performance. Additionally, the Query Store provides a better process for freezing and forcing plans for queries with known plan selection issues. The query store is still functional for some operations in read-only mode, but it is no longer able to collect new data.'
,'It is recommended that the space issue for Query Store in database [$(Database)] be addressed by cleaning up old data, reducing the amount of data that is stored, or by expanding the amount of space the Query Store is allowed to use. If you clear out data that is stored and the issue reoccurs, it is recommended that you take a permanent approach to addressing the issue by reducing the amount of data saved or by increasing the amount of space the Query Store can use.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q41'  ,'It may not be a problem if the database is not critical or not being actively monitored for performance.'  ,'',11  ,8  
,'The Query Store feature in database [$(Database)] is almost full.' 
,'The Query Store feature in database [$(Database)] is almost full.' 
,'The Query Store feature in database [$(Database)] is almost full.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn817826.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'The Query Store is a valuable performance tool that provides insight on query plan choice and performance. Additionally, the Query Store provides a better process for freezing and forcing plans for queries with known plan selection issues. If the Query Store runs out of space, it will be switched to read-only state until space is freed up. The query store is still functional for some operations in read-only mode, but it is no longer able to collect new data.'
,'It is recommended that the space issue for Query Store in database [$(Database)] be addressed by cleaning up old data, reducing the amount of data that is stored, or by expanding the amount of space the Query Store is allowed to use before it runs out of space and switches to a read-only state. If you clear out data that is stored and the issue reoccurs, it is recommended that you take a permanent approach to addressing the issue by reducing the amount of data saved or by increasing the amount of space the Query Store can use.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q42'  ,'It may not be a problem if the data is not expected to change and performance of the forced plan guide is not expected to change over time.'  ,'',11  ,5  
,'Plan guides are being used instead of forcing a plan in the Query Store in database [$(Database)].' 
,'Plan guides are being used instead of forcing a plan in the Query Store in database [$(Database)].' 
,'Plan guides are being used instead of forcing a plan in the Query Store in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:  </Title><Link>https://msdn.microsoft.com/en-us/library/dn817826.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'The Query Store is a valuable performance tool that provides insight on query plan choice and performance. Additionally, the Query Store provides a better process for freezing and forcing plans for queries with known plan selection issues. The Query Store allows for tracking of forced plan performance over time to easily identify plans that are no longer effective.'
,'It is recommended that plan guides be removed and the Query Store in database [$(Database)] be used to evaluate if forcing a plan is still needed. If forcing a plan is still needed, the Query Store should be used to force the best plan for the query.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q46'  ,'It may not be a problem if the queries are heavily tuned already.'  ,'',11  ,5  
,'These queries have the top 10 longest average execution time within the last hour in database [$(Database)].' 
,'These queries have the top 10 longest average execution time within the last hour in database [$(Database)].' 
,'These queries have the top 10 longest average execution time within the last hour in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:   </Title><Link>https://msdn.microsoft.com/en-US/library/dn817826.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'Queries with a long average execution time are prime candidates to be tuned to make them run faster.'
,'It is recommended that these queries be investigated to see if they can be tuned to make them run faster.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q47'  ,'It may not be a problem if the queries are already highly tuned.'  ,'',11  ,5  
,'The following queries are the top 10 most I/O consuming queries in the last 24 hours in database [$(Database)].' 
,'The following queries are the top 10 most I/O consuming queries in the last 24 hours in database [$(Database)].' 
,'The following queries are the top 10 most I/O consuming queries in the last 24 hours in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:   </Title><Link>https://msdn.microsoft.com/en-US/library/dn817826.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'Queries that perform a lot of I/O operations are prime candidates for tuning to see if the amount of I/O can be decreased, often by using better indexing.'
,'It is recommended that the following queries be investigated to see if they can be tuned to reduce the amount of I/O they require. I/O requirements are often reduced by implementing different indexes for all queries or by removing unused indexes for data modification queries.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q48'  ,'It may not be a problem if the plan change and increase in execution time are due to an environmental change like a sudden large increase in the amount of data.'  ,'',11  ,8  
,'The following queries experienced an increase of at least double the execution time in the last 48 hours due to a change in the query plan in database [$(Database)].' 
,'The following queries experienced an increase of at least double the execution time in the last 48 hours due to a change in the query plan in database [$(Database)].' 
,'The following queries experienced an increase of at least double the execution time in the last 48 hours due to a change in the query plan in database [$(Database)].' ,2
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:   </Title><Link>https://msdn.microsoft.com/en-US/library/dn817826.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'A large increase in execution time due to a plan change may be an indicator that the plan has regressed to a less than optimal plan.'
,'It is recommended that the following plans be investigated to determine why the plan changed and whether or not the plan change was the best plan for the query. It is recommended that the query be tuned, if possible, to avoid the change in plan, or if necessary, force the better plan.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q49'  ,'It may not be a problem if the increase in execution duration is due to normal increases in activity or data or if the plan is still optimal for the query.'  ,'',11  ,5  
,'The following top 10 queries have a longer run duration during the last 1 hour than did during the last day in database [$(Database)].' 
,'The following top 10 queries have a longer run duration during the last 1 hour than did during the last day in database [$(Database)].' 
,'The following top 10 queries have a longer run duration during the last 1 hour than did during the last day in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:   </Title><Link>https://msdn.microsoft.com/en-US/library/dn817826.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'Queries that are experiencing a longer run time may indicate that the current plan is no longer optimal or that some additional factor is affecting duration of the queries (such as increased blocking or waits).'
,'It is recommended that the following queries be investigated to determine the cause for the longer execution duration. The additional duration may be a sign of the plan no longer being optimal or it may be a symptom of external factors such as increased blocking or additional waits.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q50'  ,'It may not be a problem as long as execution time remains consistent across different plans.'  ,'',11  ,6  
,'The following queries have had more than 4 different plans in the last 48 hours in database [$(Database)].' 
,'The following queries have had more than 4 different plans in the last 48 hours in database [$(Database)].' 
,'The following queries have had more than 4 different plans in the last 48 hours in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Monitoring Performance By Using the Query Store:   </Title><Link>https://msdn.microsoft.com/en-US/library/dn817826.aspx </Link></RecommendationLink><RecommendationLink><Title>Microsoft Data Platform blog post: Buffer Pool Extension to SSDs in SQL Server 2014:   </Title><Link>http://blogs.technet.com/b/dataplatforminsider/archive/2013/07/25/buffer-pool-extension-to-ssds-in-sql-server-2014.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'Queries that change plans often are prime candidates for plan regression resulting in inconsistent execution times.'
,'It is recommended that the following queries by investigated to determine why they change plans frequently to see if the query can be optimized to avoid generating different plans or if the most optimal plan should be stabilized by forcing a specific plan.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I30'  ,'If old data is not being frequently queried or if current performance is acceptable.'  ,'',5  ,5  
,'Large tables with a high number of table or clustered index scans are not taking advantage of columnstore indexes.' 
,'Large table [$(Schema)].[$(Table)] in database [$(Database)] with a high number of table or clustered index scans is not taking advantage of columnstore indexes.' 
,'Large table [$(Schema)].[$(Table)] in database [$(Database)] with a high number of table or clustered index scans is not taking advantage of columnstore indexes.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Columnstore Indexes for Operational Analytics: </Title><Link>https://msdn.microsoft.com/en-us/library/dn817827.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Large tables often have a small subset of active data and large blocks of inactive data. The active portion of the data benefits from standard indexes whereas queries on the large blocks of data would benefit from columnstore indexes. SQL Server 2015 introduced the ability to add columnstore indexes to tables with standard indexes already in place. Additionally, the indexes can take advantage of filtering to ensure that the columnstore index only covers the old, unchanging data.'  
,'It is recommended that large tables with a high number of table or clustered index scans be considered for applying columnstore indexes after thorough testing.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I31'  ,'It may not be a problem if the queries do not need to return the filtered column or do not need to use the filtered column value in an expression that does not exactly match the filter definition.'  ,'',5  ,7
,'Filtered index [$(Name)] on Table [$(Schema)].[$(Table)] in database [$(Database)] does not list the filtered column in the key of the index.' 
,'Filtered index [$(Name)] on Table [$(Schema)].[$(Table)] in database [$(Database)] does not list the filtered column in the key of the index.' 
,'Filtered index [$(Name)] on Table [$(Schema)].[$(Table)] in database [$(Database)] does not list the filtered column in the key of the index.' ,2
,''  
,''  ,''  ,''  ,'Filtered indexes that do not include the filtered column in the key of the index may not be used for queries unless the filter matches exactly and does not need to use or return the filtered column value. Including the filtered column in the key of the index allows the index to be used for a wider variety of queries.'  
,'It is recommended that the column in the filter of the filtered index be included in the key of the index to increase the chances that it will be used by the optimizer.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q43'  ,'It is not a problem if overall performance of the procedure is acceptable.'  ,'',11  ,5  
,'Frequently executed procedure [$(ProcedureName)] with high CPU time to total elapsed time ratio was found in database [$(Database)].' 
,'Frequently executed procedure [$(ProcedureName)] with high CPU time to total elapsed time ratio was found in database [$(Database)].' 
,'Frequently executed procedure [$(ProcedureName)] with high CPU time to total elapsed time ratio was found in database [$(Database)].' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online Article: Determining if a Table or Stored Procedure Should Be Ported to In-Memory OLTP: </Title><Link>https://msdn.microsoft.com/en-us/library/dn205133.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'Procedures that consume a high amount of CPU time in relation to the total elapsed time could run faster in natively compiled code.'
,'It is recommended that frequently executed procedures that have a high CPU time to total elapsed time ratio be considered for native compilation. Native compilation requires that referenced tables are in-memory tables so native compilation may not be possible for all procedures that are good candidates for native compilation.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I27'  ,'It may not be a problem if the table is very small.'  ,'',5  ,5  
,'Hash indexes are being scanned.' 
,'Hash index $(Name) on table $(Schema).$(Table) in database [$(Database)] is being scanned.' 
,'Hash index $(Name) on table $(Schema).$(Table) in database [$(Database)] is being scanned.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Troubleshooting Common Performance Problems with Memory-Optimized Hash Indexes: </Title><Link>https://msdn.microsoft.com/en-us/library/dn589805.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Hash indexes are not ordered by the keys and scans on hash indexes hinder performance significantly. Hash index functions require that all key columns be supplied in equality expressions. If any of the key columns are not referenced by the criteria of the query, the hash index cannot be used to find buckets with matching columns. Likewise, non-equality expressions on the key columns will result in a scan because the function requires explicit values, not a range of values.'  
,'It is recommended that the code causing the scan be modified to include equality statements for columns of the hash index key or that a non-hashed nonclustered index scan be used instead or in addition to the hash index. Memory-optimized indexes cannot be altered and can only be created with the CREATE TABLE statement. Changing or adding a memory=optimized index recreating the table with the changed and new indexes.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-I24'  ,'It may not be a problem if the queries on the table are not experiencing poor plan selection due to inaccurate statistics.'  ,'',5  ,8  
,'There is very large table (greater than or equal to 1 million rows) [$(Schema)].[$(Table)] in database [$(Database)] and a high number of modifications have been made since the last time statistics were updated.' 
,'There is very large table (greater than or equal to 1 million rows) [$(Schema)].[$(Table)] in database [$(Database)] and a high number of modifications have been made since the last time statistics were updated.' 
,'There is very large table (greater than or equal to 1 million rows) [$(Schema)].[$(Table)] in database [$(Database)] and a high number of modifications have been made since the last time statistics were updated.' ,2
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>KB2754171 Controlling Autostat (AUTO_UPDATE_STATISTICS) behavior in SQL Server: </Title><Link>https://support.microsoft.com/en-us/kb/2754171 </Link></RecommendationLink><RecommendationLink><Title>Microsoft blog post: Changes to automatic update statistics in SQL Server - traceflag 2371: </Title><Link>http://blogs.msdn.com/b/saponsqlserver/archive/2011/09/07/changes-to-automatic-update-statistics-in-sql-server-traceflag-2371.aspx  </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'The default behavior for automatically updated statistics on large tables is to update when the number of changes equals 500 + 20% of the total rows. For example, statistics for a table with 10 million rows will not be updated until there have been 2,500,000 changes to the table. This may not be enough to maintain statistics accurately enough for a large table.'  
,'It is recommended that statistics be kept up to date for all tables, however keeping very large tables up to date without manual intervention is difficult. Trace flag 2371 changes the calculation for when to automatically update statistics. Statistics are updated on a sliding scale, for example, statistics for a table with 10 million rows will be updated after 100,000 changes rather than 2,500,000 changes.
Really small tables will not be affected by this change as the statistics update threshold will be the lessor of the new formula or the old formula (500 + 20%).'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D23'  ,'May not be a problem if less critical queries are not causing high levels of I/O operations.'  ,'',2  ,6  
,'Resource Governor is being used to limit resources of some queries, but I/O operations are not being limited and there have been occurrences of I/O stall detected.' 
,'Resource Governor is being used to limit resources of some queries, but I/O operations are not being limited and there have been occurrences of I/O stall detected.'
,'Resource Governor is being used to limit resources of some queries, but I/O operations are not being limited and there have been occurrences of I/O stall detected.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>BOL article Resource Governor Enhancements for Physical IO Control: </Title><Link>https://msdn.microsoft.com/en-us/library/bb510411%28v=sql.120%29.aspx#RG </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''  ,''  ,''  ,'Resource Governor allows you to cap the resources used by queries in a pre-defined pool to prevent less critical queries from using too many resources that are needed for more critical queries. SQL Server 2014 added the ability to limit the number of I/O operations per second per disk that a query can use. Because pending I/O stall is occurring, critical processes may be experiencing performance degradation if less critical queries are issuing high levels of I/O operations.'  
,'It is recommended that Resource Governor pools that are intended to limit resources for less critical queries be evaluated to see if they are issuing high levels of I/O operations and consider limiting the amount of I/O for the resource pool.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q44'  ,'It may not be a problem if query performance is acceptable as is.'  ,'',11  ,5  
,'New cardinality estimator is not being used.' 
,'New cardinality estimator is not being used.' 
,'New cardinality estimator is not being used.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Cardinality Estimation (SQL Server): </Title><Link>https://msdn.microsoft.com/en-us/library/dn600374%28v=sql.120%29.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'The cardinality estimator estimates the number of rows that will be affected or returned by a specific relational expression in a query (such as a join) and accurate estimations are critical for making the correct plan choice. SQL Server 2014 introduced a new, improved cardinality estimator, but it is not enabled unless the database compatibility is set to at least 120 (SQL Server 2014).'
,'It is recommended that all databases be set to the current compatibility level unless there is a compelling reason to use a lower level setting. The new cardinality estimator introduced in SQL Server 2014 should yield more consistent good plans than the old cardinality estimator.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-Q45'  ,'If the query does not have any relational expressions (such as joins).'  ,'',11  ,7  
,'Both new and old cardinality estimators are being forced at the same time.' 
,'Both new and old cardinality estimators are being forced at the same time.' 
,'Both new and old cardinality estimators are being forced at the same time.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Cardinality Estimation (SQL Server): </Title><Link>https://msdn.microsoft.com/en-us/library/dn600374%28v=sql.120%29.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>',''  ,''  ,''  
,'A new cardinality estimator was written for SQL Server 2014. When using the new cardinality estimator on compatibility level 120, you can use the trace flag 9481 as a query hint to force a specific query to use the old cardinality estimator. You can also use trace flag 9481 as a session or global trace flag to force the behavior on a wider scope.
If you are still running on the old cardinality estimator in SQL Server 2014+, you can test a specific query using the new cardinality estimator by using trace flag 2312 to force the new cardinality estimator. The trace flag may also be set as a session or global trace flag to force the behavior on a wider scope.
If both of these trace flags are enabled at the same time, the behavior of the cardinality estimator may be unpredictable.'
,'It is recommended that trace flags that change the default behavior of SQL Server only be implemented when absolutely required. The queries affected by the trace flag should be thoroughly tested to determine which cardinality estimator provides the desired results and ensure that only that estimator is being used though either database compatibility setting and only use the trace flag when required to change the behavior for specific queries.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R8'  ,'It may not be a problem if you would prefer the database stay offline rather than failover.'  ,'',12  ,5  
,'Availability Group [$(AvailabilityGroupName)] is not enabled for failover if a database is not online.' 
,'Availability Group [$(AvailabilityGroupName)] is not enabled for failover if a database is not online.' 
,'Availability Group [$(AvailabilityGroupName)] is not enabled for failover if a database is not online.' ,2  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: ALTER AVAILABILITY GROUP (Transact-SQL): </Title><Link>https://msdn.microsoft.com/en-us/library/ff878601.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'  
,''
,''
,''
,'If the database on the active node of an Availability Group is not online but the server is still functioning normally, the Availability Group will not fail over. SQL Server 2016 introduced a new option that enables the Availability Group to fail over if this event occurs.'  
,'It is recommended that DB_FAILOVER be enabled for synchronous Availability Groups to allow the Availability Group to fail over if one of the member databases is not online to avoid a prolonged outage.'  ,0,''
,1)
INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M33'  ,'When there is no possibility to increase the amount of memory allocated to SQL Server and I/O response time is faster than disk I/O response times would be.'  ,'',7  ,7  
,'The Buffer Pool Extension is experiencing high levels of I/O queuing.' 
,'The Buffer Pool Extension is experiencing high levels of I/O queuing.' 
,'The Buffer Pool Extension is experiencing high levels of I/O queuing.' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>Books Online article: Buffer Pool Extensions: </Title><Link>https://msdn.microsoft.com/en-us/library/dn133176.aspx </Link></RecommendationLink><RecommendationLink><Title>Books Online article: SQL Server, Buffer Manager Object: </Title><Link>https://msdn.microsoft.com/en-us/library/ms189628.aspx </Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'If the buffer pool extension is experiencing high levels of I/O queuing, logical I/O response times may be slow and hinder query performance.'
,'It is recommended that only Enterprise class SSD drives be used for the buffer pool extension. If the drives are not fast enough, query performance will degrade, especially on a busy system that results in many I/O operations queuing up.'  ,0,''
,1)

-- SQLDM-30295

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-D24'  ,'Abnormal workloads could spike the storage latencies to higher recommended best practices, creating a false positive. Analyze your workload to validate that high latencies are not a regular occurrence.'  ,'',2 ,6
,'RDS Instance disk latencies are too high' 
,'Write or Read latencies for the last hour are higher than recommended best practices' 
,'Write or Read latencies for the last hour are higher than recommended best practices' ,3  
,''
,''  ,''  ,''  ,'The biggest bottleneck to database performance is storage performance. When storage latencies are too high, this is an indicator that your performance is being throttled'
,'The most impactful performance factor for a database system is the storage. RDS offers several storage options to support different workloads in AWS. While many workloads can be tuned to have less impact on the storage, it can be necessary to upgrade the storage for the RDS instance if query tuning is not an option.
The advantage of using RDS is that it is elastic. Storage types can be changed with short outages to support improved database performance. The owner should consider what additional performance is needed from the storage before selecting a storage option.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC6'  ,'If point in time recovery is not needed for the databases or the owner prefers to run manual backups, this setting is not necessary.'  ,'',3  ,6
,'RDS Instance does not have automatic backups configured' 
,'Automatic backups are not configured for your RDS instance or the backup retention period is less than seven days' 
,'Automatic backups are not configured for your RDS instance or the backup retention period is less than seven days' ,1  
,''
,''  ,''  ,''  ,'An advantage of using RDS is that database backups are managed by the service. If these are not enabled, the owner will not get any backups of their database unless manually executed.'
,'RDS offers automatic backups that provides point in time recovery for any databases created in the RDS instance. This requires no additional configuration on the part of the owner other than enabling the service and setting a retention period. Recovery of these backups is also part of the service and removes some of the administration burden from the owner.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC7'  ,'If the database is static and will not grow, then this will not be an issue.'  ,'',3  ,5  
,'Database is at 90% of Storage Capacity' 
,'The Azure SQL Database usage exceeds 90% of the service tier maximum' 
,'The Azure SQL Database usage exceeds 90% of the service tier maximum' ,2
,''
,''  ,''  ,''  ,'Azure SQL Databases have a set size limit based on the selected Service Tier for the database. If the maximum size is reached, the database will only operate in a limited function.'
,'Azure SQL Database sizes are determined by the Service Tier for the service. They cannot be altered, though the database’s service tier can be increased to support a larger database size. If a database’s maximum capacity, it will impact the operation of the database and could prevent it from functioning. If a database is using 90% of its maximum capacity, the owner should consider one of two options:
    
 Increase the database’s Service Tier
 Scale out the database using Azure SQL Database’s Elastic Database configuration. '  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC8'  ,'If the owner does not wish to increase the Service Tier and is all right with performance being throttled on the database.'  ,'',3  ,5  
,'Database is at 90% of DTU Capacity' 
,'Azure SQL Database Transaction Units (DTU) average usage exceeds 90% of DTUs for the Service Tier in the last hour' 
,'Azure SQL Database Transaction Units (DTU) average usage exceeds 90% of DTUs for the Service Tier in the last hour' ,2 
,''
,''  ,''  ,''  ,'Azure SQL Database performance is controlled by the amount of DTUs allocated by the service tier. Reaching this maximum means that the query performance will be throttled in order to maintain the database’s Service Tier.'
,'Azure SQL Database query performance is defined by Database Transaction Units (DTU), which sets a limit on how many transactions can be performed per second against the database. DTUs are calculated based on CPU, memory, I/Os. While reaching the maximum DTUs will not prevent the database from responding, owners will see increased response time for their queries.

Owners have two options to increase their available DTUs:

Increase the database’s Service Tier
Scale out the database using Azure SQL Database’s Elastic Database configuration.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC9'  ,'If the owner does not wish to allow more sessions and accepts the limitation.'  ,'',3  ,5  
,'Database is at 90% of user sessions' 
,'In the last hour, average sessions in the Azure SQL Database exceeded 90% of the maximum allowed sessions' 
,'In the last hour, average sessions in the Azure SQL Database exceeded 90% of the maximum allowed sessions' ,2  
,''
,''  ,''  ,''  ,'Azure SQL Database Service Tiers define the number of users that can be connected to a database at any time. If this maximum is reached, no further connections can be made.'
,'The Service Tiers for Azure SQL Database limit several items within the database. One of these is the number of concurrent user sessions. While reaching this maximum will not prevent the database from functioning, it does mean that no further connections can be made. This can limit administration or impact how the database supports a growing user base.

Owners have two options to increase their available sessions:

Increase the database’s Service Tier
Scale out the database using Azure SQL Database’s Elastic Database configuration.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC10'  ,'If the owner does not wish to allow more workers and accepts the limitation.'  ,'',3  ,5  
,'Database is at 90% of worker threads' 
,'In the last hour, average worker threads in the Azure SQL Database exceeded 90% of the maximum allowed workers' 
,'In the last hour, average worker threads in the Azure SQL Database exceeded 90% of the maximum allowed workers' ,2  
,''
,''  ,''  ,''  ,'Azure SQL Database Service Tiers define the number of worker threads that can execute in a database at any time. If this maximum is reached, the database will still operate, but operation will be impacted and latency can increase.'
,'The Service Tiers for Azure SQL Database limit several items within the database. One of these is the number of worker threads. While reaching this maximum will not prevent the database from functioning, it does mean that workers will be throttled. This can limit how the database supports work load.

Owners have two options to increase their available worker threads:

 Increase the database’s Service Tier
 Scale out the database using Azure SQL Database’s Elastic Database configuration.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC11'  ,'Because Azure SQL Database are easily scalable, it is possible that a database can be scaled more than is necessary by the owner. If research and costs are reviewed and the owner determines a higher Service Tier is not needed, this is not an issue.'  ,'',3  ,5  
,'Database Service Tier has been reduced' 
,'The Service Tier for the Azure SQL Database has been reduced since the last run of SQL Doctor' 
,'The Service Tier for the Azure SQL Database has been reduced since the last run of SQL Doctor' ,2  
,''
,''  ,''  ,''  ,'Service Tiers determine the amount of performance resources allocated to an Azure SQL Database. Reducing the Service Tier can limit the overall performance of the database.'
,'Service Tiers are the equivalent of hardware sizing for Azure SQL Databases. While these are flexible, they should not change frequently as this could drastically effect performance. Any changes should be reviewed by the database owner and the decision to reduce the Service Tier should be considered and deliberate.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC12'  ,'SQL Server Enterprise edition offers many instance level features that can benefit the databases it hosts. If use of these features is worthwhile, Enterprise edition can be justified.'  ,'',3  ,5  
,'Instance uses Enterprise Edition, but database uses no Enterprise Edition features' 
,'SQL Instance is Enterprise Edition, but the target database(s) do not use Enterprise Edition features' 
,'SQL Instance is Enterprise Edition, but the target database(s) do not use Enterprise Edition features' ,2  
,''
,''  ,''  ,''  ,'SQL Server Enterprise edition is the most expensive version of SQL Server. While offering many useful features, if a database is not using these features then it could be more reasonably supported using a different edition of SQL Server.'
,'Consider carefully the impact of your SQL Server edition choice. Microsoft licenses use of SQL Server based on these editions and the cost of this can be significant. If a database does not use Enterprise level features, it could be more appropriately supported by Standard edition or lower.

  Another course of action is to implement Enterprise edition features that could benefit your database. Review the available features and consider if any database specific features could improve the performance or security of your database.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-DC13'  ,'There are use cases where certain query store defaults can be changed. If the owner has reviewed the impact of such a change and is managing the results of such a change, then it is safe to alter these.'  ,'',3  ,5  
,'Query Store Defaults Changed' 
,'Azure SQL Databases’s Query Store default settings have changed' 
,'Azure SQL Databases’s Query Store default settings have changed' ,3  
,''
,''  ,''  ,''  ,'Query Store’s default values cover the bulk of operating conditions for the feature. Only owners with the knowledge of what they are changing and why should alter these settings, as changes could result in unexpected side effects. Please research the settings you are altering before making changes to the defaults.'
,'The Query Store defaults cover most use cases. While they can be altered, this should only be done with knowledge of the why the changes are being made. Many of these values define how much data is collected, how often it is collected, and how long it will be retained. This is because the Query Store is contained within the database and its size counts against your total database size.

The most important setting is the maximum Query Store size. The Query Store will not grow beyond this, which protects the database’s operation against the Query Store growing out of control. However, if the Query Store maximum is reached, the Query Store will go into Read Only mode and cease to collect new query data. Owners should monitor Query Store usage and adjust these defaults as necessary.

Please note that on servers with extremely active workloads or expensive queries, it may be necessary to adjust these defaults. Monitoring and adjustment of the Query Store settings should be performed with care and only modified where appropriate. '  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M34'  ,'If the database is read only and/or will not grow, there is no need to grow the storage space'  ,'',7  ,5  
,'RDS Instance has less than 10% storage free' 
,'There is less than 10% free space attached to the RDS instance' 
,'There is less than 10% free space attached to the RDS instance' ,2  
,''
,''  ,''  ,''  ,'SQL Server needs storage space to write data to. If there is no free space available, the operation of the database could be impacted'
,'It is important that SQL Server databases always have storage space to grow and accommodate new data. If there is less than 10% free storage space, then additional storage space should be added to support growth. The amount of growth should be determined based on historical growth patterns. The recommendation is based on currently available free space on the volume and does not take into account any empty space within the database itself. If the database files on the RDS instance are pre-grown, then it could be ok to not grow the storage'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-M35'  ,'If the performance profile of the instance changes, it may be necessary to resize the instance'  ,'',7  ,4  
,'RDS Instance size has changed' 
,'RDS instance size has changed from when it was last checked' 
,'RDS instance size has changed from when it was last checked' ,1  
,''
,''  ,''  ,''  ,'RDS instance size defines how much CPU and RAM a SQL instance has to use. If this is altered, it will affect the performance of the SQL instance.'
,'RDS instance sizes define the available CPU and memory for a SQL Server. AWS will charge based on the size, so this should be managed in order to appropriately match the resources to the workload hosted by the instance. Any changes to this size should be measured and deliberate. Review the current workload to make sure the change is appropriate.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R9'  ,'If the owner does not need HA/DR support for the database (such as a QA or development database), geo-replication is not needed.'  ,'',12  ,5  
,'Configure Geo-Replication for HA/DR' 
,'The Azure SQL Database has no geo-replication targets configured' 
,'The Azure SQL Database has no geo-replication targets configured' ,2  
,''
,''  ,''  ,''  ,'Geo-replication is Azure SQL Database’s high-availability/disaster recovery feature. Without it, the database could suffer service interruption.'
,'Active geo-replication is a feature offered for all levels of Azure SQL Database. Databases can have up to four failover targets in other Azure regions, which can be used as readable secondaries. These failover targets will be synchronized and managed by the Azure platform, but must be initially configured by the database owner.

  High availability and disaster recovery design is a very important item in any database solution. If the Azure SQL Database in question supports a production level workload, geo-replication should be enabled in order to protect the database against service interruption.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R10'  ,'You should always have your replicas synchronizing.'  ,'',12  ,5  
,'Geo-Replicated Secondary is in SUSPENDED mode' 
,'A secondary replica for the Azure SQL Database is in a SUSPENDED state' 
,'A secondary replica for the Azure SQL Database is in a SUSPENDED state' ,2  
,''
,''  ,''  ,''  ,'Secondary replicas in a SUSPENDED state are not synchronizing and cannot be failed over to.'
,'Geo-replication should be setup between regions that have enough bandwidth to support replicating transactions to the secondary databases. If the secondary is in a region that does not have enough bandwidth to replicate, Azure will suspend the replication. It is recommended that the secondary replica be placed in a recommended region (which Azure will provide when geo-replication is enabled).'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-R11'  ,'If there is a large, ongoing task that could increase the amount of data to be replicated, then this warning can be disregarded. However, the replica lag should be checked again once the task is complete.'  ,'',12  ,5  
,'Geo-Replicated Secondary is more than 300 seconds behind' 
,'The replica_lag value for the database is greater than 300, meaning that the secondary replica is greater than 300 seconds behind the primary' 
,'The replica_lag value for the database is greater than 300, meaning that the secondary replica is greater than 300 seconds behind the primary' ,2  
,''
,''  ,''  ,''  ,'If the replica is far enough behind the primary, it cannot be reliably failed over to.'
,'If replicas become too far out of sync with the primary database, it will not be a reliable failover target. This value should be monitored to make sure that it is not consistently behind. Causes for this could be large transactions where large amounts of data are being replicated, or long running transactions that cannot be completed. Check your database for any activity that could be creating extra work for the replication process.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S11'  ,'If the instance contains no sensitive data or the owner accepts the risks of exposing the RDS instance publicly, it is ok to enable this access.'  ,'',13  ,7  
,'RDS Instance has public access enabled' 
,'The RDS instance is enabled for public access' 
,'The RDS instance is enabled for public access' ,2  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>RDS FAQ (How do I connect to an RDS DB Instance in VPC?)</Title><Link>https://aws.amazon.com/rds/faqs/</Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'When an instance is enabled for public access, it can be accessed from resources outside the AWS Virtual Private Cloud container that the instance lives in, making it more exposed.'
,'Since RDS is in the cloud, it can be accessed over the internet. This means that it is important to create the instance with protections against intrusion. In order to limit access and protect the RDS instance from intrusion, public access should be disabled.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S12'  ,'If the owner accepts the risk for this level access and is unable to define specific IP addresses to connect from.'  ,'',13  ,7  
,'RDS Instance has an access rule that allows access from any IP address' 
,'One of the security groups attached to the RDS instance allows access from any IP address' 
,'One of the security groups attached to the RDS instance allows access from any IP address' ,1  
,''
,''  ,''  ,''  ,'Access to an RDS should be limited to known IP addresses to limit public exposure and reduce risk of attack.'
,'AWS security groups define how owners can access resources, including RDS instances, from outside and inside the Virtual Private Cloud (VPC) that the resource resides. Rules can be created to define what IP addresses can access the VPC and RDS instance. It is recommended that these IP ranges are explicit for what will connect to the RDS instance.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S13'  ,'This is not an issue if the owner does not wish to track these events.'  ,'',13  ,5  
,'Azure SQL Database Auditing is not enabled' 
,'Azure SQL Database auditing not enabled for the target database' 
,'Azure SQL Database auditing not enabled for the target database' ,2  
,''
,''  ,''  ,''  ,'Enabling auditing allows the owner to track several events within the operation of the database, aiding troubleshooting and investigation of database issues.'
,'Auditing within Azure SQL Database offers additional mechanisms for owners to troubleshoot database issue, therefore it is recommended that this feature is enabled. Events include:

 Plain SQL success or failure
 Parameterized SQL success or failure
 Stored Procedure success or failure
 Login success or failure
 Transaction success or failure
 Threat detection and alerting

  To enable auditing, the owner will need a storage account in Azure to write the events to, but can then view these events via the portal or PowerShell.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S14'  ,'There is no fixed recommendation for how many IP addresses are too many. If the specified ranges match the owner’s security policies, it should be allowed.'  ,'',13  ,5  
,'Review Your Azure SQL Database for Public Network Access' 
,'You are currently allowing non-Azure access to your Azure SQL Databases' 
,'You are currently allowing non-Azure access to your Azure SQL Databases' ,2  
,''
,''  ,''  ,''  ,'Allowing too many networks and IP addresses to your Azure SQL Database exposes your data to unknown attack vectors.'
,'It is recommended that you only allow the specific IP address ranges necessary for your network security policy. Since Azure SQL Database is a cloud offering, it is accessible via the internet. Review any public access to make sure it matches with your network security policy.

Azure SQL Database allows the owner to create both server and database firewall rules, allowing a high level of access customization. Server rules will define IP address access for any database hosted on that Azure SQL Database server, which means general access policies can be defined. Additionally, each database can have its own set of firewall rules that control access to that database specifically. Azure SQL Database firewall rules define what is allowed, not what is denied. The assumption is that unless the owner explicitly wants to allow access, it will be blocked. Thus, firewall rules are cumulative, meaning that access to a range of IPs will be allowed if that range is contained within the server or database firewall rules.

  Azure SQL Database does allow owners to create a rule that allows any service from within the Azure boundary. This restricts access to only services from within the Azure environment, but could allow access to other Azure users.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-S15'  ,'Many Azure services, especially outside of Infrastructure-as-a-Service offerings, will not have a specific IP address. This means a firewall rule for these services cannot be created. These services are protected by Azure’s overall security settings.'  ,'',13  ,5  
,'Access from all Azure IPs has been enabled on your Azure SQL Database' 
,'There is a firewall rule that allows all Azure IPs to access to your database' 
,'There is a firewall rule that allows all Azure IPs to access to your database' ,2  
,''
,''  ,''  ,''  ,'While generally considered safe, enabling this rule means that any Azure service (even those owned by other customers) can connect to your Azure SQL Database.'
,'If you can restrict access to specific IP addresses, you should avoid allowing access to all Azure IPs. Only enable this if you are making use of Azure services that do not have a specific IP address to connect from, such as PowerBI or Azure Web Sites.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-P24'  ,'Abnormal workloads could spike the CPU to higher than 90%, creating a false positive. Analyze your workload to validate that the high CPU is not a regular occurrence'  ,'',10  ,5  
,'RDS Instance is at 90% of CPU utilization' 
,'The RDS instance exceeded 90% CPU utilization during the last hour' 
,'The RDS instance exceeded 90% CPU utilization during the last hour' ,2  
,''
,''  ,''  ,''  ,'CPU cycles indicate the level of work running against a SQL Server. While this should see high utilization, constant high levels could mean poor query performance due to CPU pressure.'
,'Database performance is partly defined by the amount of CPU utilization it is seeing. CPU resources are needed to process queries, there should always be some amount of overhead to make sure that queries are not waiting on CPU resources to complete. It is important to always size your RDS instance so that it will not be 100% utilized too frequently.
The advantage of using RDS means that hardware sizing is elastic and can be changed easily. If the RDS instance is repeatedly at higher than 90%, the instance size should be increased to make more CPU resources available to the instance. The owner should review workloads to identify if there is a constant pattern of use that should result in instance growth.'  ,0,''
,1)

INSERT INTO #upgrade_PrescriptiveRecommendation ([TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags],[TempIsActive]) VALUES 
('SDR-SC10'  ,'If the RDS instance is intended for development or there is some other reason high availability is not needed, Multi-Availability Zone is not needed.'  ,'',14  ,3  
,'RDS Instance is not enabled for Multi-Availability Zone failover' 
,'MultiAZ is false for the RDS instance' 
,'MultiAZ is false for the RDS instance' ,1  
,'<?xml version="1.0" encoding="utf-16"?><ArrayOfRecommendationLink xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"><RecommendationLink><Title>High Availability (Multi-AZ) Concepts</Title><Link>http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html</Link></RecommendationLink>><RecommendationLink><Title>Multi-AZ Deployments for AWS RDS</Title><Link>http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Concepts.MultiAZ.html</Link></RecommendationLink>><RecommendationLink><Title>Multi-AZ Deployments for Microsoft SQL Server</Title><Link>http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/USER_SQLServerMultiAZ.html</Link></RecommendationLink></ArrayOfRecommendationLink>'
,''  ,''  ,''  ,'RDS instances are standalone instances within a single Availability Zone. This means it is a single point of failure if the server or Availability Zone becomes unavailable.'
,'AWS deploys resources within Availability Zones in each region. These Availability Zones are essentially data centers housing the all the hardware to support the resources in that Zone, and multiple Availability Zones are contained within a region. While AWS strives to keep these Zones and resources up, they recommend that resources are built to have failover targets in other Availability Zones within a region to support high availability.
RDS Instances use SQL Server mirroring to support high availability and AWS will create a failover target in another Availability Zone when Multi-Availability Zone deployment is declared. Some configuration will be handled automatically for the failover target (such as logins), but others will not (such as SQL Agent Jobs). Please see the official AWS documentation for the full details on this.
It is recommended that if your RDS instance supports a production workload, you should enable Mult-Availability Zone failover to ensure the continued availability of your instance and databases.'  ,0,''
,1)


-- insert new rows
INSERT INTO PrescriptiveRecommendation ([RecommendationID],[AdditionalConsiderations],[bitly],[CategoryID],
[ConfidenceFactor],[Description],[Finding],[ImpactExplanation],[ImpactFactor],[InfoLinks],[PluralFormFinding],
[PluralFormImpactExplanation],[PluralFormRecommendation],[ProblemExplanation],[Recommendation],[Relevance],[Tags],[IsActive])
	SELECT [TempRecommendationID],[TempAdditionalConsiderations],[Tempbitly],[TempCategoryID],[TempConfidenceFactor],[TempDescription],
	[TempFinding],[TempImpactExplanation],[TempImpactFactor],[TempInfoLinks],[TempPluralFormFinding],[TempPluralFormImpactExplanation],
	[TempPluralFormRecommendation],[TempProblemExplanation],[TempRecommendation],[TempRelevance],[TempTags]
	,[TempIsActive] FROM #upgrade_PrescriptiveRecommendation
		WHERE [TempRecommendationID] not in (select [RecommendationID] COLLATE SQL_Latin1_General_CP1_CS_AS from PrescriptiveRecommendation)
-- update all 
UPDATE PrescriptiveRecommendation
	SET   [AdditionalConsiderations] = [TempAdditionalConsiderations]
	,[bitly] = [Tempbitly]
	,[CategoryID] = [TempCategoryID]
	,[ConfidenceFactor] = [TempConfidenceFactor]
	,[Description]=[TempDescription]
	,[Finding] = [TempFinding]
	,[ImpactExplanation]= [TempImpactExplanation]
	,[ImpactFactor] = [TempImpactFactor]
	,[InfoLinks] = [TempInfoLinks]
	,[PluralFormFinding] = [TempPluralFormFinding]
	,[PluralFormImpactExplanation]= [TempPluralFormImpactExplanation]
	,[PluralFormRecommendation] = [TempPluralFormRecommendation]
	,[ProblemExplanation]= [TempProblemExplanation]
	,[Recommendation]= [TempRecommendation]
	,[Relevance] = [TempRelevance]
	,[Tags]= [TempTags] 
	,[IsActive] = [TempIsActive]
		FROM #upgrade_PrescriptiveRecommendation
	WHERE
		[RecommendationID] = TempRecommendationID COLLATE SQL_Latin1_General_CP1_CS_AS

--END: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation master data for SQL doctor

--START SQLdm 10.0 (Gaurav Karwal): for upgrade. updating active flag of all templates
UPDATE [dbo].[BaselineTemplates]
SET [Active] = '1'
WHERE TemplateID IN (SELECT TemplateID FROM (SELECT TemplateID,SQLServerID, ROW_NUMBER() OVER(PARTITION BY SQLServerID ORDER BY TemplateID DESC) RowNum FROM BaselineTemplates) T WHERE T.RowNum = 1)
--END SQLdm 10.0 (Gaurav Karwal): for upgrade. updating active flag of all templates


--START: SQLdm 10.0 (srisht purohit) -Prescriptive Analysis Type master data for SQL doctor
if (select isnull(object_id('tempdb..#upgrade_PrescriptiveAnalysisType'), 0)) <> 0 
begin 
	print 'truncating #upgrade_PrescriptiveAnalysisType'
	TRUNCATE TABLE #upgrade_PrescriptiveAnalysisType
end 
ELSE
begin
	print 'creating #upgrade_PrescriptiveAnalysisType'

	CREATE TABLE #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID [int] NOT NULL,
		TempAnalysisType [nvarchar](100) NOT NULL,
	 PRIMARY KEY CLUSTERED 
	(
		TempAnalysisTypeID ASC
	)
	)
END	
     
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(1,'Default')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(2,'WorkLoad')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(3,'AdHocBatch')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(4,'Scheduled-Default')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(5,'Scheduled-WorkLoad')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(6,'Scheduled-AdHocBatch')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(7,'Alert-Default')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(8,'Alert-WorkLoad')
INSERT INTO #upgrade_PrescriptiveAnalysisType (TempAnalysisTypeID, TempAnalysisType) VALUES(9,'Alert-AdHocBatch')

-- insert new rows 
INSERT INTO PrescriptiveAnalysisType ([AnalysisTypeID], [AnalysisType])
	SELECT TempAnalysisTypeID, TempAnalysisType FROM #upgrade_PrescriptiveAnalysisType 
		WHERE TempAnalysisTypeID not in (select [AnalysisTypeID] from PrescriptiveAnalysisType)
-- update all 
UPDATE PrescriptiveAnalysisType
	SET   [AnalysisType] = TempAnalysisType
		FROM #upgrade_PrescriptiveAnalysisType 
	WHERE
		[AnalysisTypeID] = TempAnalysisTypeID 

--END: SQLdm 10.0 (srisht purohit) -Prescriptive Recommendation Category master data for SQL doctor

--START: SQLdm 10.1 (srisht purohit) -New table to make health index global for all instance
if (select isnull(object_id('tempdb..#upgrade_health_index'), 0)) <> 0 
begin 
	print 'truncating #upgrade_health_index'
	TRUNCATE TABLE #upgrade_health_index
end 
ELSE
begin
	print 'creating #upgrade_health_index'

	CREATE TABLE #upgrade_health_index (
		[TempID] [int] NOT NULL,
		[TempHealthIndexCoefficientName] [nvarchar](max) NOT NULL,
		[TempHealthIndexCoefficientValue] [bigint] NOT NULL,
		[TempUTCLastUpdatedDateTime] [datetime] NOT NULL
		PRIMARY KEY CLUSTERED 
		(
			[TempID] ASC
		))
END	
     
INSERT INTO #upgrade_health_index ([TempID], [TempHealthIndexCoefficientName], [TempHealthIndexCoefficientValue], [TempUTCLastUpdatedDateTime]) values (1, 'HealthIndexCoefficientForCriticalAlert', 6, GetUTCDate())
INSERT INTO #upgrade_health_index ([TempID], [TempHealthIndexCoefficientName], [TempHealthIndexCoefficientValue], [TempUTCLastUpdatedDateTime]) values(2, 'HealthIndexCoefficientForWarningAlert', 2, GetUTCDate())
INSERT INTO #upgrade_health_index ([TempID], [TempHealthIndexCoefficientName], [TempHealthIndexCoefficientValue], [TempUTCLastUpdatedDateTime]) values(3, 'HealthIndexCoefficientForInformationalAlert', 1, GetUTCDate())


-- insert new rows 
INSERT INTO HealthIndexCofficients ([ID], [HealthIndexCoefficientName], [HealthIndexCoefficientValue], [UTCLastUpdatedDateTime])
	SELECT [TempID], [TempHealthIndexCoefficientName], [TempHealthIndexCoefficientValue], [TempUTCLastUpdatedDateTime] FROM #upgrade_health_index 
		WHERE [TempID] not in (select [ID] from HealthIndexCofficients)
-- update all 
UPDATE HealthIndexCofficients
	SET   [HealthIndexCoefficientName] = [TempHealthIndexCoefficientName],
	[HealthIndexCoefficientValue] = [TempHealthIndexCoefficientValue],
	[UTCLastUpdatedDateTime] = [TempUTCLastUpdatedDateTime]
		FROM #upgrade_health_index 
	WHERE
		[ID] = [TempID] 

--END: SQLdm 10.1 (srisht purohit) -New table to make health index global for all instance

--START: SQLdm 10.1.1 (Barkha khatri) - SQLDM-19680 fix
UPDATE [DefaultMetricThresholds]
	SET   [CriticalThreshold] = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="GE" Enabled="true"><Value xsi:type="xsd:int">50000000</Value></Threshold>'
	WHERE
		Metric=121 


--SQLDM-30764
UPDATE [DefaultMetricThresholds]
	SET   [Data] = '<?xml version="1.0" encoding="utf-16"?><AdvancedAlertConfigurationSettings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><LogSizeLimit>10240</LogSizeLimit><ExcludeSqldmApp>false</ExcludeSqldmApp><MinSecondsRuntimeRunningJobByPercent>5</MinSecondsRuntimeRunningJobByPercent><MinGenerationRatePerSecond>10</MinGenerationRatePerSecond><MinVersionStoreSize><Bytes>1048576</Bytes></MinVersionStoreSize><IncludeAutogrowInDatabaseSizeCalc>true</IncludeAutogrowInDatabaseSizeCalc><Metric>ErrorLog</Metric><NumberMinutesJobAlertsAreActive>720</NumberMinutesJobAlertsAreActive><NumberMinutesAgingAlertsAreActive>720</NumberMinutesAgingAlertsAreActive><SuppressionPeriodMinutes>0</SuppressionPeriodMinutes><ReplicaInstanceName /><AlertOnJobSteps>false</AlertOnJobSteps><LogIncludeRegexCritical><string>warning|!(cycle )errorlog|access_violation</string></LogIncludeRegexCritical><JobIncludeFilter /><JobExcludeFilter /><TreatCustomCounterFailureAsCritical>false</TreatCustomCounterFailureAsCritical><TreatSingleJobFailureAsCritical>true</TreatSingleJobFailureAsCritical></AdvancedAlertConfigurationSettings>'
	WHERE
		Metric = 66
		
UPDATE [MetricThresholds]
	SET   [Data] = '<?xml version="1.0" encoding="utf-16"?><AdvancedAlertConfigurationSettings xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><LogSizeLimit>10240</LogSizeLimit><ExcludeSqldmApp>false</ExcludeSqldmApp><MinSecondsRuntimeRunningJobByPercent>5</MinSecondsRuntimeRunningJobByPercent><MinGenerationRatePerSecond>10</MinGenerationRatePerSecond><MinVersionStoreSize><Bytes>1048576</Bytes></MinVersionStoreSize><IncludeAutogrowInDatabaseSizeCalc>true</IncludeAutogrowInDatabaseSizeCalc><Metric>ErrorLog</Metric><NumberMinutesJobAlertsAreActive>720</NumberMinutesJobAlertsAreActive><NumberMinutesAgingAlertsAreActive>720</NumberMinutesAgingAlertsAreActive><SuppressionPeriodMinutes>0</SuppressionPeriodMinutes><ReplicaInstanceName /><AlertOnJobSteps>false</AlertOnJobSteps><LogIncludeRegexCritical><string>warning|!(cycle )errorlog|access_violation</string></LogIncludeRegexCritical><JobIncludeFilter /><JobExcludeFilter /><TreatCustomCounterFailureAsCritical>false</TreatCustomCounterFailureAsCritical><TreatSingleJobFailureAsCritical>true</TreatSingleJobFailureAsCritical></AdvancedAlertConfigurationSettings>'
	WHERE
		Metric = 66
		
		
UPDATE
    MetricThresholds
SET
    MetricThresholds.CriticalThreshold = DefaultMetricThresholds.CriticalThreshold
FROM
    MetricThresholds
    INNER JOIN DefaultMetricThresholds
        ON MetricThresholds.Metric = DefaultMetricThresholds.Metric
WHERE
    MetricThresholds.Metric = 121
--END: SQLdm 10.1.1 (Barkha khatri) - SQLDM-19680 fix

--START: SQLdm 10.2.1 (Vamshi Krishna) - SQLDM-26485 fix
UPDATE [DefaultMetricThresholds]
	SET   [CriticalThreshold] = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Op="GE" Enabled="true"><Value xsi:type="xsd:int">30000000</Value></Threshold>',
	[WarningThreshold] = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" Op="GE" Enabled="true"><Value xsi:type="xsd:int">25000000</Value></Threshold>'
	
	WHERE
		Metric=122 

UPDATE
    MetricThresholds
SET
    MetricThresholds.CriticalThreshold = DefaultMetricThresholds.CriticalThreshold,
	MetricThresholds.WarningThreshold = DefaultMetricThresholds.WarningThreshold
FROM
    MetricThresholds
    INNER JOIN DefaultMetricThresholds
        ON MetricThresholds.Metric = DefaultMetricThresholds.Metric
WHERE
    MetricThresholds.Metric = 122
--END: SQLdm 10.2.1 (Vamshi Krishna) - SQLDM-26485 fix


--START: SQLdm 10.6.2 (Sonali Dogra) - SQLDM-30963 fix
UPDATE [DefaultMetricThresholds]
  set WarningThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="LE" Enabled="true"><Value xsi:type="xsd:float">3600</Value></Threshold>'
  where WarningThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="GE" Enabled="true"><Value xsi:type="xsd:float">3600</Value></Threshold>'
		and Metric=76

  UPDATE [DefaultMetricThresholds]
  set CriticalThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="LE" Enabled="true"><Value xsi:type="xsd:float">1600</Value></Threshold>'
  where CriticalThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="GE" Enabled="true"><Value xsi:type="xsd:float">1600</Value></Threshold>'
		and Metric=76

 UPDATE [DefaultMetricThresholds]
  set InfoThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="LE" Enabled="false"><Value xsi:type="xsd:float">4800</Value></Threshold>'
  where InfoThreshold = '<?xml version="1.0" encoding="utf-16"?><Threshold xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" Op="GE" Enabled="false"><Value xsi:type="xsd:float">4800</Value></Threshold>'
		and Metric=76

UPDATE
    MetricThresholds
SET
    MetricThresholds.CriticalThreshold = DefaultMetricThresholds.CriticalThreshold,
	MetricThresholds.WarningThreshold = DefaultMetricThresholds.WarningThreshold,
	MetricThresholds.InfoThreshold = DefaultMetricThresholds.InfoThreshold
FROM
    MetricThresholds
    INNER JOIN DefaultMetricThresholds
        ON MetricThresholds.Metric = DefaultMetricThresholds.Metric
WHERE
    MetricThresholds.Metric = 76
--END: SQLdm 10.6.2 (Sonali Dogra) - SQLDM-30963 fix


-- NITOR Start		DATE:24-Dec-2018
-- Alerts to Remove
UPDATE MetricMetaData  
SET AlertEnabledDefault = 0,
	UTCLastChangeDateTime = GETDATE()
WHERE Metric IN (27, 28, 88)

-- Alerts to Remove
UPDATE [DefaultMetricThresholds]  
SET Enabled = 0
WHERE Metric IN (27, 28, 88)

--Adding New Template and MetricThershold Values
EXEC p_AddNewTemplateMetricThreshold 'Critical-Only Template',0
EXEC p_AddNewTemplateMetricThreshold 'Performance Template',0

--Adding New Template for Cloud instances
EXEC p_AddNewTemplateMetricThreshold 'Amazon RDS DBaaS Template', 1
EXEC p_AddNewTemplateMetricThreshold 'Azure SQL DBaaS Template', 2

--To Update Data to Default Template and  MetricThershold Values
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'SQL Server Memory Usage (Percent)', 85 , 90, 95,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Database Full (Percent)', 70 , 80, 90,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Log Full (Percent)', 50 , 65, 80,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'SQL Server Data Used (Percent)', 60 , 75, 90,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'SQL Server Log Used (Percent)', 60 , 75, 90,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Client Computers (Count)', 10 , 25, 50,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Database Full (Size)', 100,500,1000,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Filegroup Space Full (Size)', 100,500,1000,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Blocked Sessions (Count)', 1,5,15,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Host Memory Usage (Percent)', 70,80,90,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Log Full (Size)', 100,500,1000,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Mirroring Oldest Unsent Transaction (Minutes)', 5,10,20,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'OS Disk Free Space (Size)', 1000,500,100,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'OS Memory Usage (Percent)', 85,90,95,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Unsubscribed Transactions (Count)', 1,5,15,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Version Store Size (MB)', 100,500,1000,1

--NITOR Start DATE-02-APR-2019
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'OS Processor Queue Length (Count)', 1,3,5,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'OS Average Disk Queue Length (Count)', 1,3,5,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'OS Average Disk Queue Length Per Disk (Count)', 1,3,5,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Deadlock', 1,1,1,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Latent replication transaction (Count)', 0,1,5,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Mirroring Unrestored Log (KB)', 24,48,64,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Default Template', 'Mirroring Unsent Log (KB)', 24,48,64,0

--To Update Data to Critical-Only  Template and  MetricThershold Values
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Critical-Only Template', 'SQL Server Error Log', 14, 17, 19,1

--NITOR Start DATE-02-APR-2019
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Critical-Only Template', 'SQL Server Response Time (Milliseconds)', 1500, 2000, 5000,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Critical-Only Template', 'SQL Server Agent Log', 3, 2, 1,0

--To Update Data to Performance MetricThershold Values
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Availability Group Log Send Queue Size (KB)', 1024,4096,10240,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Average Disk Milliseconds Per Read', 5,10,20,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Average Disk Milliseconds Per Write', 5,10,20,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Disk Transfers Per Second', 100,200,500,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Mirror Commit Overhead (Milliseconds)', 10,20,30,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Query Monitor Events (Count)', 1,5,15,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Table Fragmentation (Percent)', 30,50,75,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Version Store Generation Ratio', 30,50,80,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Distribution Latency (Seconds)', 5, 15, 30, 1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Version Store Size (MB)', 100,200,300,1

-----NITOR start----DATE-02-APR-2019
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Availability Group Redo Queue Size (KB)', 1024,4096,10240,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Availability Group Redo Rate(KB/sec)', 2000,1000,500,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Availability Group Synchronization Performance (Seconds)', 600,900,1800,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Average Disk Milliseconds Per Transfer', 5,10,20,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Disk Reads Per Second', 100,200,500,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Disk Writes Per Second', 100,200,500,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Index Row Hits (Percent)', 3,5,10,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Procedure Cache Hit Ratio', 100,80,65,0
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Session CPU Time (Seconds)', 10,20,60,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Session Tempdb Space Usage (MB)', 50,100,150,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Tempdb Contention  ', 100,250,500,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Unsubscribed Transactions (Seconds)', 15,30,60,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Blocked Sessions (Count)', 1,1,1,1
EXEC [dbo].[p_UpdateTemplateMetricThreshold] 'Performance Template', 'Unsubscribed Transactions (Count)', 0,1,5,1
-- End NITOR
--Start NITOR
--Update the template value
EXEC P_UpdateTemplateData
--END
--Update for AlertInstanceTemplate
EXEC p_updateDefaultTemplateId

UPDATE PrescriptiveRecommendation 
SET IsActive = 1
WHERE IsActive = 0

grant SELECT on [DiskDrives] to [SQLdmConsoleUser] -- SQLdm 9.0 (Tarun Sapra) -- Fixing rally defect DE41961. Granting permissions to SQLdmConsoleUser for DiskDrives table
grant SELECT on [DatabaseStatistics] to [SQLdmConsoleUser]
grant SELECT on [DatabaseSize] to [SQLdmConsoleUser]
grant SELECT on [OSStatistics] to [SQLdmConsoleUser]
grant SELECT on [ServerStatistics] to [SQLdmConsoleUser]
grant SELECT on [TableGrowth] to [SQLdmConsoleUser]
grant SELECT on [TableReorganization] to [SQLdmConsoleUser]
grant SELECT on [CustomCounterMap] to [SQLdmConsoleUser]
grant SELECT on [CustomCounterStatistics] to [SQLdmConsoleUser]
grant SELECT on [ServerTags] to [SQLdmConsoleUser]
grant SELECT on [CustomCounterTags] to [SQLdmConsoleUser]
grant SELECT on [PermissionTags] to [SQLdmConsoleUser]
grant SELECT on [ReportPeriods] to [SQLdmConsoleUser]
grant SELECT on [MonitoredSQLServers] to [SQLdmConsoleUser]
grant SELECT on [ActiveWaitStatistics] to [SQLdmConsoleUser]
grant SELECT on [WaitCategories] to [SQLdmConsoleUser]
grant SELECT on [WaitStatistics] to [SQLdmConsoleUser]
grant SELECT on [WaitStatisticsDetails] to [SQLdmConsoleUser]
grant SELECT on [WaitTypes] to [SQLdmConsoleUser]
grant SELECT on [CustomCounterDefinition] to [SQLdmConsoleUser]
grant SELECT on [AlertTemplateLookup] to [SQLdmConsoleUser]
grant SELECT on [SQLServerDatabaseNames] to [SQLdmConsoleUser]
grant SELECT on [VirtualHostServers] to [SQLdmConsoleUser]
grant SELECT on [BaselineMetaData] to [SQLdmConsoleUser]
grant SELECT on [BaselineStatistics] to [SQLdmConsoleUser]
grant SELECT on [BaselineTemplates] to [SQLdmConsoleUser]
grant SELECT on [VMConfigData] to [SQLdmConsoleUser]
grant SELECT on [VMStatistics] to [SQLdmConsoleUser]
grant SELECT on [ESXConfigData] to [SQLdmConsoleUser]
grant SELECT on [ESXStatistics] to [SQLdmConsoleUser]
grant SELECT on [fn_GetFormattedTemplate] to [SQLdmConsoleUser]
grant SELECT on [fn_GetChartTimeLabels] to [SQLdmConsoleUser]
grant SELECT on [AlwaysOnStatistics] to [SQLdmConsoleUser]
grant SELECT on [AuditableActions] to [SQLdmConsoleUser]
grant SELECT on [AuditableEvents] to [SQLdmConsoleUser]
--[START] SQLdm 10.0 (Gaurav Karwal): grant for tables that were missing
grant SELECT on ActiveWaitStatistics to [SQLdmConsoleUser]
grant SELECT on Alerts to [SQLdmConsoleUser]
grant SELECT on AlertTemplateLookup to [SQLdmConsoleUser]
grant SELECT on AlwaysOnAvailabilityGroups to [SQLdmConsoleUser]
grant SELECT on AlwaysOnDatabases to [SQLdmConsoleUser]
grant SELECT on AlwaysOnReplicas to [SQLdmConsoleUser]
grant SELECT on AlwaysOnStatistics to [SQLdmConsoleUser]
grant SELECT on ApplicationNames to [SQLdmConsoleUser]
grant SELECT on AuditableActions to [SQLdmConsoleUser]
grant SELECT on AuditableEvents to [SQLdmConsoleUser]
grant SELECT on BaselineMetaData to [SQLdmConsoleUser]
grant SELECT on BaselineStatistics to [SQLdmConsoleUser]
grant SELECT on BaselineTemplates to [SQLdmConsoleUser]
grant SELECT on BlockingSessionStatistics to [SQLdmConsoleUser]
grant SELECT on Blocks to [SQLdmConsoleUser]
grant SELECT on CollectionServices to [SQLdmConsoleUser]
grant SELECT on CounterMasterList to [SQLdmConsoleUser]
grant SELECT on CustomCounterDefinition to [SQLdmConsoleUser]
grant SELECT on CustomCounterMap to [SQLdmConsoleUser]
grant SELECT on CustomCounterStatistics to [SQLdmConsoleUser]
grant SELECT on CustomCounterTags to [SQLdmConsoleUser]
grant SELECT on CustomDashboard to [SQLdmConsoleUser]
grant SELECT on CustomDashboardMatchTypes to [SQLdmConsoleUser]
grant SELECT on CustomDashboardWidgets to [SQLdmConsoleUser]
grant SELECT on CustomDashboardWidgetTypes to [SQLdmConsoleUser]
grant SELECT on CustomReports to [SQLdmConsoleUser]
grant SELECT on CustomReportsCounters to [SQLdmConsoleUser]
grant SELECT on DashboardDefaults to [SQLdmConsoleUser]
grant SELECT on DashboardLayouts to [SQLdmConsoleUser]
grant SELECT on DatabaseFileActivity to [SQLdmConsoleUser]
grant SELECT on DatabaseFiles to [SQLdmConsoleUser]
grant SELECT on DatabaseFileStatistics to [SQLdmConsoleUser]
grant SELECT on DatabaseSize to [SQLdmConsoleUser]
grant SELECT on DatabaseSizeDateTime to [SQLdmConsoleUser]
grant SELECT on DatabaseStatistics to [SQLdmConsoleUser]
grant SELECT on DBMetrics to [SQLdmConsoleUser]
grant SELECT on DeadlockProcesses to [SQLdmConsoleUser]
grant SELECT on Deadlocks to [SQLdmConsoleUser]
grant SELECT on DefaultMetricThresholds to [SQLdmConsoleUser]
grant SELECT on DiskDrives to [SQLdmConsoleUser]
grant SELECT on DiskDriveStatistics to [SQLdmConsoleUser]
grant SELECT on ESXConfigData to [SQLdmConsoleUser]
grant SELECT on ESXStatistics to [SQLdmConsoleUser]
grant SELECT on GroomingLog to [SQLdmConsoleUser]
grant SELECT on HostNames to [SQLdmConsoleUser]
grant SELECT on LatestGroomingStatus to [SQLdmConsoleUser]
grant SELECT on LicenseKeys to [SQLdmConsoleUser]
grant SELECT on LoginNames to [SQLdmConsoleUser]
grant SELECT on ManagementServices to [SQLdmConsoleUser]
grant SELECT on MetricInfo to [SQLdmConsoleUser]
grant SELECT on MetricMetaData to [SQLdmConsoleUser]
grant SELECT on MetricMetaDataMessageMap to [SQLdmConsoleUser]
grant SELECT on MetricMetaDataMessages to [SQLdmConsoleUser]
grant SELECT on MetricThresholdInstances to [SQLdmConsoleUser]
grant SELECT on MetricThresholds to [SQLdmConsoleUser]
grant SELECT on MirroringParticipants to [SQLdmConsoleUser]
grant SELECT on MirroringPreferredConfig to [SQLdmConsoleUser]
grant SELECT on MirroringStatistics to [SQLdmConsoleUser]
grant SELECT on MonitoredServerSQLsafeInstance to [SQLdmConsoleUser]
grant SELECT on MonitoredSQLServers to [SQLdmConsoleUser]
grant SELECT on NotificationProviders to [SQLdmConsoleUser]
grant SELECT on NotificationRules to [SQLdmConsoleUser]
grant SELECT on OSStatistics to [SQLdmConsoleUser]
grant SELECT on Permission to [SQLdmConsoleUser]
grant SELECT on PermissionServers to [SQLdmConsoleUser]
grant SELECT on PermissionTags to [SQLdmConsoleUser]
grant SELECT on PredictiveForecasts to [SQLdmConsoleUser]
grant SELECT on PredictiveModels to [SQLdmConsoleUser]
grant SELECT on PrescriptiveAnalysis to [SQLdmConsoleUser]
grant SELECT on PrescriptiveAnalysisDetails to [SQLdmConsoleUser]
grant SELECT on PrescriptiveAnalysisRecommendation to [SQLdmConsoleUser]
grant SELECT on PrescriptiveAnalyzer to [SQLdmConsoleUser]
grant SELECT on PrescriptiveAnalyzerCategory to [SQLdmConsoleUser]
grant SELECT on PrescriptiveRecommendation to [SQLdmConsoleUser]
grant SELECT on PrescriptiveRecommendationCategory to [SQLdmConsoleUser]
grant SELECT on QueryMonitorStatistics to [SQLdmConsoleUser]
grant SELECT on QuerySignatureAggregation to [SQLdmConsoleUser]
grant SELECT on ReplicationTopology to [SQLdmConsoleUser]
grant SELECT on ReportIntervals to [SQLdmConsoleUser]
grant SELECT on ReportPeriodIntervals to [SQLdmConsoleUser]
grant SELECT on ReportPeriods to [SQLdmConsoleUser]
grant SELECT on RepositoryInfo to [SQLdmConsoleUser]
grant SELECT on RunQueryScripts to [SQLdmConsoleUser]
grant SELECT on ServerActivity to [SQLdmConsoleUser]
grant SELECT on ServerStatistics to [SQLdmConsoleUser]
grant SELECT on ServerTags to [SQLdmConsoleUser]
grant SELECT on SQLQueryPlans to [SQLdmConsoleUser]
grant SELECT on SQLQueryPlansOverflow to [SQLdmConsoleUser]
grant SELECT on SQLsafeConnections to [SQLdmConsoleUser]
grant SELECT on SQLServerDatabaseNames to [SQLdmConsoleUser]
grant SELECT on SQLServerTableNames to [SQLdmConsoleUser]
grant SELECT on SQLServerVersions to [SQLdmConsoleUser]
grant SELECT on SQLSignatures to [SQLdmConsoleUser]
grant SELECT on SQLSignaturesOverflow to [SQLdmConsoleUser]
grant SELECT on SQLStatements to [SQLdmConsoleUser]
grant SELECT on SQLStatementsOverflow to [SQLdmConsoleUser]
grant SELECT on stageDatabaseStatistics to [SQLdmConsoleUser]
grant SELECT on TableGrowth to [SQLdmConsoleUser]
grant SELECT on TableReorganization to [SQLdmConsoleUser]
grant SELECT on Tags to [SQLdmConsoleUser]
grant SELECT on Tasks to [SQLdmConsoleUser]
grant SELECT on TempdbFileData to [SQLdmConsoleUser]
grant SELECT on VirtualHostServers to [SQLdmConsoleUser]
grant SELECT on VMConfigData to [SQLdmConsoleUser]
grant SELECT on VMStatistics to [SQLdmConsoleUser]
grant SELECT on WaitCategories to [SQLdmConsoleUser]
grant SELECT on WaitStatistics to [SQLdmConsoleUser]
grant SELECT on WaitStatisticsDetails to [SQLdmConsoleUser]
grant SELECT on WaitTypes to [SQLdmConsoleUser]
grant SELECT on WebFramework to [SQLdmConsoleUser]
grant SELECT on WidgetSourceMapping to [SQLdmConsoleUser]
grant SELECT on WidgetTagMapping to [SQLdmConsoleUser]
grant SELECT on XEMapKeys to [SQLdmConsoleUser]
grant SELECT on CloudProviders to [SQLdmConsoleUser]
--[END] SQLdm 10.0 (Gaurav Karwal): grant for tables that were missing
grant SELECT on SCOMAlertEvent to [SQLdmConsoleUser]  -- SQLdm 10.1 (Barkha Khatri): Grant select permissions to new table 

grant EXECUTE on [fn_CompareDateTimeRange] to [SQLdmConsoleUser]
grant EXECUTE on [fn_GetDatabaseCreationDate] to [SQLdmConsoleUser]
grant EXECUTE on [fn_GetDatabaseVersion] to [SQLdmConsoleUser]
grant EXECUTE on [fn_ServerVersionnVarcharToBigInt] to [SQLdmConsoleUser]
grant EXECUTE on [fn_CompareDateTimeRange] to [SQLdmConsoleUser]
grant EXECUTE on [fn_RoundDateTime] to [SQLdmConsoleUser]
grant EXECUTE on [fn_GetServerName] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlerts] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBaselineMetaData] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBaselineParameters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBlockingDetails] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCounterCategories] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCounterNameAvailable] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCounters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCustomCounterStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDatabases] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDefaultManagementService] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDefaultManagementServiceID] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetInstancesMonitoringCustomCounter] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetLicenseKeys] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetLocksDetails] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetManagementServices] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMetricInfo] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMetricThresholds] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredSqlServerById] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredSQLServerCounters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredSqlServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredSqlServerStatus] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetNextServerActivitySnapshotDateTime] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetPermissions] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetPreviousServerActivitySnapshotDateTime] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetQueryMonitorStatements] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerActivity] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerOverview] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerOverviewStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerWideStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSessionsDetails] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSessionsDetailsRanged] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSnoozedAlerts] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAllMetricsAlertsName] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSqlAgentRunning] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetStateOverview] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTableFragmentation] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTables] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTasks] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetUserToken] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetUserTokenInternal] to [SQLdmConsoleUser]
grant EXECUTE on [p_HeartbeatCollectionService] to [SQLdmConsoleUser]
grant EXECUTE on [p_ImportGetMonitoredSqlServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_ImportUpdateEarliestDateImported] to [SQLdmConsoleUser]
grant EXECUTE on [p_InsertDatabaseName] to [SQLdmConsoleUser]
grant EXECUTE on [p_InsertTableName] to [SQLdmConsoleUser]
grant EXECUTE on [p_IsUserAdministrator] to [SQLdmConsoleUser]
grant EXECUTE on [p_RepositoryInfo] to [SQLdmConsoleUser]
grant EXECUTE on [p_SetBaselineParameters] to [SQLdmConsoleUser]
grant EXECUTE on [p_TopServersCpu] to [SQLdmConsoleUser]
grant EXECUTE on [p_TopServersAlerts] to [SQLdmConsoleUser]
grant EXECUTE on [p_TopServersResponseTime] to [SQLdmConsoleUser]
grant EXECUTE on [p_TopServersMemory] to [SQLdmConsoleUser]
grant EXECUTE on [p_TopServersDisk] to [SQLdmConsoleUser]
grant EXECUTE on [p_DatabaseGrowthForecast] to [SQLdmConsoleUser]
grant EXECUTE on [p_DiskUsageForecast] to [SQLdmConsoleUser]
grant EXECUTE on [p_TableGrowthForecast] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetEnterpriseSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDatabaseOverview] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerSummaryReport] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMasterMetrics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTags] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerTags] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServersWithTagId] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCustomCountersWithTagIds] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMirroringHistory] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMirroringServerStatus] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMirroringSessions] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredMirroredServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerInventory] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlertThresholdsForNumerics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlertThresholdsForEnums] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlertHistory] to [SQLdmConsoleUser]
grant EXECUTE on [p_ServerUptime] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetActiveAlerts] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDiskDrives] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCurrentDiskDrives] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMirroredDatabases] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMemorySummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDiskSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSessionsSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCPUSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetReplicationSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetOSStatisticsAvailable] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetReportPeriodIntervals] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTagServersAsXML] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTagsWithMirroredServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCustomCounterTagsAndServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetPermissionTagsAndServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetReplicationParticipantsForServer] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetReplicationChartMetrics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetListOfCounters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCustomReports] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSelectedCustomReportCounters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDeadlock] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCustomReportsDataSet] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetWaitStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCopyright] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetWaitCategory] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetExcludedWaitTypes] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetActiveWaits] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSQLText] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetPredictiveForecasts] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetPredictiveAnalyticsEnabled] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetFileActivity] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetUserIdentifiers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetNotificationProviders] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetNotificationRules] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMostCriticalServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMetricThresholdDetails] to [SQLdmConsoleUser]
grant EXECUTE on [p_DiskDetailsReport] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetNewTemplateOptions] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddDefaultAlertTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddAlertTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateAlertTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_SetDefaultAlertTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_DeleteAlertTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlertTemplates] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddVMToMonitoredServer] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddUpdateVirtualHost] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetVirtualHostServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_DeleteVirtualHost] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTempdbSummaryData] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDatabaseCounters] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTempdbFileData] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetVirtualizationStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTempdbStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetTempdbOverall] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetVMConfigReport] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetVMSummaryReport] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetHoursList] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetEarliestDataAvailable] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddBaselineTemplate] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddBaselineStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_DeleteDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDashboardLayoutID] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDashboardLayouts] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_SetDefaultDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateDashboardLayout] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateDashboardLayoutViewed] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBaselineStatisticsReport] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBaselineMetrics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetCPUSummaryBaseline] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetServerTimeline] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetSessionSummaryBaseline] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMemorySummaryBaseline] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDiskStatisticsBaseline] to [SQLdmConsoleUser]
grant EXECUTE on [p_AddAuditableEvent] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAllAuditableEvents] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetChangeLogSummary] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetChangeLogRepositoryUser] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetChangeLogWorkstation] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetChangeLogWorkstationUser] to [SQLdmConsoleUser]
grant EXECUTE on [p_InsertAlwaysOnStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlwaysOnStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateAlwaysOnDatabaseTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateAlwaysOnAvailabilityReplicaTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateAlwaysOnAvailabilityGroupTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_GroomAlwaysOnDatabaseTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_GroomAlwaysOnAvailabilityReplicaTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_GroomAlwaysOnAvailabilityGroupTopologyXml] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlwaysOnDatabases] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetMonitoredAlwaysOnServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlwaysOnAvailabilityReplica] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlwaysOnDatabaseStatistics] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetAlwaysOnAGBasedActiveServers] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetBlocksList] to [SQLdmConsoleUser]
grant EXECUTE on [p_GetDeadlocksList] to [SQLdmConsoleUser]
--[START] SQLdm 10.0 (Gaurav Karwal): Grant execute permissions to remaining tables
grant EXECUTE on p_AddAlert to [SQLdmConsoleUser]
grant EXECUTE on p_AddCollectionServices to [SQLdmConsoleUser]
grant EXECUTE on p_AddCounter to [SQLdmConsoleUser]
--grant EXECUTE on p_AddCustomDashboard to [SQLdmConsoleUser]
grant EXECUTE on p_AddDatabaseFileInformation to [SQLdmConsoleUser]
grant EXECUTE on p_AddDefaultMetricThreshold to [SQLdmConsoleUser]
grant EXECUTE on p_AddDiskDriveInformation to [SQLdmConsoleUser]
grant EXECUTE on p_AddLatestGroomingStatus to [SQLdmConsoleUser]
grant EXECUTE on p_AddLicenseKey to [SQLdmConsoleUser]
grant EXECUTE on p_AddLogin to [SQLdmConsoleUser]
grant EXECUTE on p_AddManagementService to [SQLdmConsoleUser]
grant EXECUTE on p_AddMetricThresholdInstance to [SQLdmConsoleUser]
grant EXECUTE on p_AddMonitoredSqlServer to [SQLdmConsoleUser]
grant EXECUTE on p_AddNotificationProvider to [SQLdmConsoleUser]
grant EXECUTE on p_AddNotificationRule to [SQLdmConsoleUser]
grant EXECUTE on p_AddPermission to [SQLdmConsoleUser]
grant EXECUTE on p_AddPredictiveForecast to [SQLdmConsoleUser]
grant EXECUTE on p_AddPredictiveModel to [SQLdmConsoleUser]
grant EXECUTE on p_AddSQLsafeReferenceLink to [SQLdmConsoleUser]
grant EXECUTE on p_AddSQLsafeRepository to [SQLdmConsoleUser]
grant EXECUTE on p_AddTag to [SQLdmConsoleUser]
grant EXECUTE on p_AddTask to [SQLdmConsoleUser]
grant EXECUTE on p_AddTheProductRegistrationInformation to [SQLdmConsoleUser]
grant EXECUTE on p_AddThresholdInstance to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateQueryData to [SQLdmConsoleUser]
grant EXECUTE on p_AppendToMetricThreshold to [SQLdmConsoleUser]
grant EXECUTE on p_AppSecDisable to [SQLdmConsoleUser]
grant EXECUTE on p_AppSecEnable to [SQLdmConsoleUser]
grant EXECUTE on p_AssignCountersToServer to [SQLdmConsoleUser]
grant EXECUTE on p_AssignCounterToServers to [SQLdmConsoleUser]
grant EXECUTE on p_AuthenticateWebConsoleUserAppSecOn to [SQLdmConsoleUser]
grant EXECUTE on p_CheckDashboardExists to [SQLdmConsoleUser]
grant EXECUTE on p_CheckDuplicateCustomDashboardName to [SQLdmConsoleUser]
grant EXECUTE on p_ClearAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_CreateAggregationJob to [SQLdmConsoleUser]
grant EXECUTE on p_CreateCopyOfCustomDashboard to [SQLdmConsoleUser]
grant EXECUTE on p_CreateGroomJob to [SQLdmConsoleUser]
grant EXECUTE on p_DatabaseStatisticsFromStaging to [SQLdmConsoleUser]
grant EXECUTE on p_DeactivateMonitoredSqlServer to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteCounter to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteCountersFromCustomReport to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteCustomDashboardRecord to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteCustomDashboardWidgetRecord to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteCustomReport to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteLicenseKey to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteMetricThresholdInstance to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteMirroringPreferredConfig to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteMirroringSessionFromServer to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteMonitoredSqlServer to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteNotificationProvider to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteNotificationRule to [SQLdmConsoleUser]
grant EXECUTE on p_DeletePermission to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteReplicationSessionFromServer to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteRunQueryScript to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteSQLsafeRepository to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteTagsById to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteTasks to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlert to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlertsCountPerCategory to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlertsCountPerDatabase to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlertsForWebConsole to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlertsAdvanceFilters to [SQLdmConsoleUser]
grant EXECUTE on p_DeleteAlertsAdvanceFilter to [SQLdmConsoleUser]
grant EXECUTE on p_AddAlertsAdvanceFilter to [SQLdmConsoleUser]
grant EXECUTE on p_GetAlertsHistory to [SQLdmConsoleUser]
grant EXECUTE on p_GetAllCategories to [SQLdmConsoleUser]
grant EXECUTE on p_GetAllDisks to [SQLdmConsoleUser]
grant EXECUTE on p_GetApplicationsForServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetBaselinesForMetric to [SQLdmConsoleUser]
grant EXECUTE on p_GetBaselineStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_GetBaselineTemplatesById to [SQLdmConsoleUser]
grant EXECUTE on p_GetBlock to [SQLdmConsoleUser]
grant EXECUTE on p_GetBlockedRecommendationDatabaseAnalysisConfiguration to [SQLdmConsoleUser]
grant EXECUTE on p_GetClientsForServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetCollectionServiceForSQLServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetCollectionServices to [SQLdmConsoleUser]
grant EXECUTE on p_GetCustomCounterTags to [SQLdmConsoleUser]
grant EXECUTE on p_GetCustomDashboards to [SQLdmConsoleUser]
grant EXECUTE on p_GetCustomReportName to [SQLdmConsoleUser]
grant EXECUTE on p_GetDatabaseByInstance to [SQLdmConsoleUser]
--grant EXECUTE on p_GetDatabaseFilesInformation to [SQLdmConsoleUser]
grant EXECUTE on p_GetDatabasesForServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetDatabaseStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_GetDataForMetrics to [SQLdmConsoleUser]
grant EXECUTE on p_GetDefaultTemplateID to [SQLdmConsoleUser]
--grant EXECUTE on p_GetDiskDrivesInformation to [SQLdmConsoleUser]
grant EXECUTE on p_GetDiskSizeDetails to [SQLdmConsoleUser]
grant EXECUTE on p_GetDiskSpaceHistoryOverall to [SQLdmConsoleUser]
grant EXECUTE on p_GetDiskSpaceHistoryReportData to [SQLdmConsoleUser]
grant EXECUTE on p_GetDiskSpaceUsageReportData to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByApplication to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByClient to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByDatabase to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByQuerySignature to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByQueryStatement to [SQLdmConsoleUser]
grant EXECUTE on p_GetGraphRepresentationDataByUser to [SQLdmConsoleUser]
grant EXECUTE on p_GetGrooming to [SQLdmConsoleUser]
grant EXECUTE on p_GetGroomingStatusInfo to [SQLdmConsoleUser]
grant EXECUTE on p_GetInstanceAvailbilityGroupDetails to [SQLdmConsoleUser]
grant EXECUTE on p_GetInstanceQueryStats to [SQLdmConsoleUser]
grant EXECUTE on p_GetInstanceResources to [SQLdmConsoleUser]
--grant EXECUTE on p_GetInstancesByQueries to [SQLdmConsoleUser]
grant EXECUTE on p_GetInstancesList to [SQLdmConsoleUser]
grant EXECUTE on p_GetInstanceStatus to [SQLdmConsoleUser]
grant EXECUTE on p_GetLatestResponseTimesByInstance to [SQLdmConsoleUser]
grant EXECUTE on p_GetLicenseKeysAndListener to [SQLdmConsoleUser]
grant EXECUTE on p_GetMasterRecommendations to [SQLdmConsoleUser]
grant EXECUTE on p_GetMatchTypes to [SQLdmConsoleUser]
grant EXECUTE on p_GetMaxAlertID to [SQLdmConsoleUser]
grant EXECUTE on p_GetMetricList to [SQLdmConsoleUser]
grant EXECUTE on p_GetMetricsHistoryForAlert to [SQLdmConsoleUser]
grant EXECUTE on p_GetMetricsHistoryForCustomDashboard to [SQLdmConsoleUser]
grant EXECUTE on p_GetMetricThresholdsForWebConsole to [SQLdmConsoleUser]
grant EXECUTE on p_GetMirroringParticipantsForServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetMirroringPreferredConfig to [SQLdmConsoleUser]
grant EXECUTE on p_GetMonitoredServersSummary to [SQLdmConsoleUser]
grant EXECUTE on p_GetMonitoredSqlServerId to [SQLdmConsoleUser]
grant EXECUTE on p_GetMonitoredSqlServerNames to [SQLdmConsoleUser]
grant EXECUTE on p_GetMonitoredSqlServersUsingCounter to [SQLdmConsoleUser]
grant EXECUTE on p_GetMonitoredSQLServerWorkload to [SQLdmConsoleUser]
grant EXECUTE on p_GetNextPredictiveForecast to [SQLdmConsoleUser]
grant EXECUTE on p_GetNextPredictiveModelRebuild to [SQLdmConsoleUser]
grant EXECUTE on p_GetPredictiveModelInput to [SQLdmConsoleUser]
grant EXECUTE on p_GetPredictiveModelsCount to [SQLdmConsoleUser]
grant EXECUTE on p_GetPredictiveTrainingData to [SQLdmConsoleUser]
grant EXECUTE on p_GetPrescriptiveAnalysis to [SQLdmConsoleUser]
--grant EXECUTE on p_GetPrescriptiveAnalysisRecommendation to [SQLdmConsoleUser]
grant EXECUTE on p_GetProductStatus to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByApplication to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByClient to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByDatabase to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByQuerySignature to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByQueryStatement to [SQLdmConsoleUser]
--grant EXECUTE on p_GetQueryMonitorDataByQueryStatement_2 to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorDataByUser to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryMonitorUpgradeData to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryOverview to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryOverviewBatches to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryOverviewStatements to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryOverviewStoredProcedures to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryPlan to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_GetQueryWaitStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GetRecommendationHisotry to [SQLdmConsoleUser]
grant EXECUTE on p_GetRecommendationHistory to [SQLdmConsoleUser]
grant EXECUTE on p_GetRecommendations to [SQLdmConsoleUser]
grant EXECUTE on p_GetReportServers to [SQLdmConsoleUser]
grant EXECUTE on p_GetRuleNameAvailable to [SQLdmConsoleUser]
grant EXECUTE on p_GetRunQueryScripts to [SQLdmConsoleUser]
grant EXECUTE on p_GetServerOverviewHistory to [SQLdmConsoleUser]
grant EXECUTE on p_GetSessionByCPUUsage to [SQLdmConsoleUser]
grant EXECUTE on p_GetSessionList to [SQLdmConsoleUser]
grant EXECUTE on p_GetSessionStatisticsForWebConsole to [SQLdmConsoleUser]
grant EXECUTE on p_GetSQLDrives to [SQLdmConsoleUser]
grant EXECUTE on p_GetSQLServerUsers to [SQLdmConsoleUser]
grant EXECUTE on p_GetTagAssociations to [SQLdmConsoleUser]
grant EXECUTE on p_GetTagConfiguration to [SQLdmConsoleUser]
grant EXECUTE on p_GetTheProductRegistrationInformation to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopBlockedSessionCount to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabaseApplications to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabaseByActivity to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabaseByProjectedGrowth to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabases to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByGrowth to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByQueryWaits to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByReads to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesBySize to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesBySizeForWebConsole to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByTransactions to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopDatabasesByWrites to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByConnections to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByCPUUsage to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByDiskSpace to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByIO to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByQueries to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByQueryCount to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByQueryDuration to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesByResponseTime to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesBySessionCount to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopInstancesBySQLMemory to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueries to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueriesByCPU to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueriesByDuration to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueriesByFrequency to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueriesByReads to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopQueriesByWrites to [SQLdmConsoleUser]
--grant EXECUTE on p_GetTopServerByTempDbUtilization to [SQLdmConsoleUser]
--grant EXECUTE on p_GetTopSessionByCpuUsage to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopSessionsByCpuUsage to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopTablesFragmentation to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopTablesFragmentationChart to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopTablesGrowth to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopTablesGrowthChart to [SQLdmConsoleUser]
grant EXECUTE on p_GetTopXServerByTempDbUtilization to [SQLdmConsoleUser]
grant EXECUTE on p_GetUsersForServer to [SQLdmConsoleUser]
grant EXECUTE on p_GetVirtualHostServersByAddress to [SQLdmConsoleUser]
grant EXECUTE on p_GetWaitsByInstance to [SQLdmConsoleUser]
grant EXECUTE on p_GetWebApplicationUser to [SQLdmConsoleUser]
grant EXECUTE on p_GetWidgetsofDashboard to [SQLdmConsoleUser]
grant EXECUTE on p_GetWidgetTypes to [SQLdmConsoleUser]
grant EXECUTE on p_GetAvailbilityGroups to [SQLdmConsoleUser] --Ankit Nagpal SQLDM 10.0.0 
--grant EXECUTE on p_GroomAlerts to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomAlwaysOnStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomApplicationNames to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomAuditedEvents to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomBaselineStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomBaselineTemplates to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomBlockingSessionStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomBlocks to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomCustomCounterStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseFileActivity to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseFiles to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseNames to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseSize to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseStatistics_upgrade to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseStatisticsStaging to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDeadlocks to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDiskDrives to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDiskDriveStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomESXConfigData to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomESXStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomExpiredForecasts to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomGroomingLog to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomHostNames to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomingDefrag to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomJobMaintenance to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomLegacyQueryMonitor to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomLoginNames to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomMetricMetaData to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomMirroringStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomMonitoredSQLServers to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomOSStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomQueryMonitorStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomQuerySignatureAggregation to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomReplicationTopology to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomRepositoryData to [SQLdmConsoleUser]
--grant EXECUTE on p_VerifyAGNode to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomRepositoryOrphanData to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomServerActivity to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomServerStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomSQLSignatures to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomSQLStatements to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomTableGrowth to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomTableReorganization to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomTasks to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomTempdbFileData to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomVMConfigData to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomVMStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomWaitStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_GroomDatabaseSizeDateTime to [SQLdmConsoleUser]
grant EXECUTE on p_InsertActiveWait to [SQLdmConsoleUser]
grant EXECUTE on p_InsertApplicationName to [SQLdmConsoleUser]
grant EXECUTE on p_InsertBlock to [SQLdmConsoleUser]
grant EXECUTE on p_InsertBlockingSession to [SQLdmConsoleUser]
grant EXECUTE on p_InsertCustomCounterStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertCustomReportsCounters to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDatabaseFile to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDatabaseSize to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDatabaseStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDeadlock to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDeadlockProcess to [SQLdmConsoleUser]
grant EXECUTE on p_InsertDiskDrive to [SQLdmConsoleUser]
grant EXECUTE on p_InsertESXConfigData to [SQLdmConsoleUser]
grant EXECUTE on p_InsertESXStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertFileActivity to [SQLdmConsoleUser]
grant EXECUTE on p_InsertHostName to [SQLdmConsoleUser]
grant EXECUTE on p_InsertLoginName to [SQLdmConsoleUser]
grant EXECUTE on p_InsertMirroringStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertOSStatistics to [SQLdmConsoleUser]
--grant EXECUTE on p_InsertPrescriptiveAnalysis to [SQLdmConsoleUser]
--grant EXECUTE on p_InsertPrescriptiveAnalysisDetails to [SQLdmConsoleUser]
--grant EXECUTE on p_InsertPrescriptiveAnalysisRecommendation to [SQLdmConsoleUser]
grant EXECUTE on p_InsertQueryMonitorStatement to [SQLdmConsoleUser]
grant EXECUTE on p_InsertRunQueryScript to [SQLdmConsoleUser]
grant EXECUTE on p_InsertServerActivity to [SQLdmConsoleUser]
grant EXECUTE on p_InsertServerStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertSQLQueryPlan to [SQLdmConsoleUser]
grant EXECUTE on p_InsertSQLSignature to [SQLdmConsoleUser]
grant EXECUTE on p_InsertSQLStatement to [SQLdmConsoleUser]
grant EXECUTE on p_InsertTableGrowth to [SQLdmConsoleUser]
grant EXECUTE on p_InsertTableReorganization to [SQLdmConsoleUser]
grant EXECUTE on p_InsertTempdbFileData to [SQLdmConsoleUser]
grant EXECUTE on p_InsertVMConfigData to [SQLdmConsoleUser]
grant EXECUTE on p_InsertVMStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertWaitStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_InsertWaitStatisticsDetails to [SQLdmConsoleUser]
grant EXECUTE on p_InsertWaitTypes to [SQLdmConsoleUser]
grant EXECUTE on p_IsAppSecEnabled to [SQLdmConsoleUser]
--grant EXECUTE on p_LogGroomingAction to [SQLdmConsoleUser]
grant EXECUTE on p_MoveQueryMonitorStatement to [SQLdmConsoleUser]
grant EXECUTE on p_PopulateMetricThresholds to [SQLdmConsoleUser]
grant EXECUTE on p_PopulateMetricThresholdsNew to [SQLdmConsoleUser]
grant EXECUTE on p_PostInstallUpgrade to [SQLdmConsoleUser]
grant EXECUTE on p_RemoveFromMetricThreshold to [SQLdmConsoleUser]
grant EXECUTE on p_RemoveManagementService to [SQLdmConsoleUser]
grant EXECUTE on p_SaveAnalysisConfiguration to [SQLdmConsoleUser]
grant EXECUTE on p_SaveAnalysisRecommendationAndProperties to [SQLdmConsoleUser]
grant EXECUTE on p_SaveAnalysisRecords to [SQLdmConsoleUser]
grant EXECUTE on p_SavePrescriptiveAnalysis to [SQLdmConsoleUser]
grant EXECUTE on p_SavePrescriptiveAnalysisDetails to [SQLdmConsoleUser]
grant EXECUTE on p_SetAggregationFlag to [SQLdmConsoleUser]
grant EXECUTE on p_SetDefaultCollectionService to [SQLdmConsoleUser]
grant EXECUTE on p_SetDefaultManagementService to [SQLdmConsoleUser]
grant EXECUTE on p_SetMirroringPreferredConfig to [SQLdmConsoleUser]
grant EXECUTE on p_SetNextPredictiveForecast to [SQLdmConsoleUser]
grant EXECUTE on p_SetNextPredictiveModelRebuild to [SQLdmConsoleUser]
grant EXECUTE on p_SetPredictiveAnalyticsEnabled to [SQLdmConsoleUser]
grant EXECUTE on p_SnoozeAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_StartAggregationJob to [SQLdmConsoleUser]
grant EXECUTE on p_StartGroomJob to [SQLdmConsoleUser]
grant EXECUTE on p_SyncCustomCounterThresholds to [SQLdmConsoleUser]
grant EXECUTE on p_TopServersDatabaseAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_TopServersQueryWaits to [SQLdmConsoleUser]
grant EXECUTE on p_UnsnoozeAlerts to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateBlockedRecommendationDatabaseAnalysisConfiguration to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateCounter to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateCounterStatus to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateCustomCounterTags to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateCustomReport to [SQLdmConsoleUser]
--grant EXECUTE on p_UpdateFlagStatusPrescriptiveAnalysisRecommendation to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateGrooming to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateLastDatabaseRefreshTime to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateLastRefreshTime to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateMetricInfo to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateMetricThreshold to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateMonitoredSqlServer to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateNotificationProvider to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateNotificationRule to [SQLdmConsoleUser]
grant EXECUTE on p_UpdatePermission to [SQLdmConsoleUser]
grant EXECUTE on p_UpdatePermissionStatus to [SQLdmConsoleUser]
grant EXECUTE on p_UpdatePermissionTags to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateRecommendationFlagStatus to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateRecommendationOptimizationStatus to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateReplicationTopology to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateReplicationTopologyDistributor to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateReplicationTopologySubscriber to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateRunQueryScript to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateServerTags to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateServerVersion to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateSQLsafeLastBackupActionId to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateSQLsafeLastDefragActionId to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateSQLsafeRepository to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateStatisticsRunTime to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateTag to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateTagConfiguration to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateTask to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateWebAppPermissionStatus to [SQLdmConsoleUser]
grant EXECUTE on p_UpgradeAlertData to [SQLdmConsoleUser]
grant EXECUTE on p_UpgradeDatabaseStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_UpsertBaselineTemplate to [SQLdmConsoleUser]
grant EXECUTE on p_UpsertCustomDashboard to [SQLdmConsoleUser]
grant EXECUTE on p_UpsertCustomDashboardWidget to [SQLdmConsoleUser]
--[END] SQLdm 10.0 (Gaurav Karwal): Grant execute permissions to remaining tables
grant EXECUTE on p_GetPrescriptiveAnalysisSchedule to [SQLdmConsoleUser] -- SQLdm 10.0 (Praveen Suhalka): Grant execute permissions to new procedure
grant EXECUTE on p_GetCloudProviders to [SQLdmConsoleUser] -- SQLdm 10.0 (Gaurav Karwal): Grant execute permissions to new procedure
grant EXECUTE on p_GetAllBaselinesData to [SQLdmConsoleUser] -- SQLdm 10.0 (Gaurav Karwal): Grant execute permissions to new procedure
-- START (Srishti Purohit): Grant execute permissions to new procedures added in 10.1
grant EXECUTE on fn_CompareDaysSelection to [SQLdmConsoleUser] 
grant EXECUTE on p_AddSCOMAlertEventDefaultValues to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateSCOMAlertsEvent to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateHealthIndexScaleFactor to [SQLdmConsoleUser]
grant EXECUTE on p_GetScaleFactors to [SQLdmConsoleUser]
grant EXECUTE on p_UpdateSysAdminPermissions to [SQLdmConsoleUser]
grant EXECUTE on fn_CompareDaysSelection to [SQLdmConsoleUser]
grant EXECUTE on fn_GetSecondsCountUsingOffset to [SQLdmConsoleUser]
-- END (Srishti Purohit): Grant execute permissions to new procedures added in 10.1
grant EXECUTE on p_DeleteTheProductRegistrationInformation to [SQLdmConsoleUser] --SQLdm 10.1 (Pulkit Puri): Grant execute permissions to new procedure
-- START (Anshika Sharma) SQLdm 10.2 : Grant execute on User Session Settings procedure
grant EXECUTE ON p_GetUserSessionSettings to [SQLdmConsoleUser]
grant EXECUTE ON p_SetUserSessionSettings to [SQLdmConsoleUser]
-- END (Anshika Sharma) SQLdm 10.2 : Grant execute on User Session Settings procedure
-- START (Anshul Aggarwal) SQLdm 10.2 : Grant execute on DM User Session Settings procedure
grant EXECUTE ON p_SaveDMHistorySetting to [SQLdmConsoleUser]
-- END (Anshul Aggarwal) SQLdm 10.2 : Grant execute on DM User Session Settings procedure
grant EXECUTE ON p_GetAlertsForInstance to [SQLdmConsoleUser] -- (Anshul Aggarwal) SQLdm 10.2 : Grant execute on Get Alerts for Instance procedure
-- START SQL dm 10.2 (Nishant Adhikari) :Grant execute on SP for Custom Dashboard
grant EXECUTE ON p_GetPreviousAnalysisInfo to [SQLdmConsoleUser]
grant EXECUTE ON p_GetRecommendationSummary to [SQLdmConsoleUser]

grant EXECUTE ON p_GetOSMemoryPagesPerSecond to [SQLdmConsoleUser]
grant EXECUTE ON p_GetDatabaseRunningStatistics to [SQLdmConsoleUser]
grant EXECUTE ON p_GetCPUStatistics to [SQLdmConsoleUser]
grant EXECUTE ON p_GetNetworkStatistics to [SQLdmConsoleUser]
grant EXECUTE ON p_GetCustomCounterStatisticsforweb to [SQLdmConsoleUser]
grant EXECUTE ON p_GetFileRWTActivity to [SQLdmConsoleUser]
grant EXECUTE ON p_GetWaitStatisticsForDashboard to [SQLdmConsoleUser]
grant EXECUTE on [p_GetVirtualizationStatisticsForWeb] to [SQLdmConsoleUser]
grant EXECUTE on [p_UpdateAGAlert] to [SQLdmConsoleUser] --SQLdm 10.2.1 (Vamshi Krishna): Grant execute permissions to new procedure p_UpdateAGAlert
grant SELECT on DiskDriveStatisticsAggregation to [SQLdmConsoleUser]
grant SELECT on DatabaseFileStatisticsAggregation to [SQLdmConsoleUser]
grant SELECT on DatabaseStatisticsAggregation to [SQLdmConsoleUser]
grant SELECT on DatabaseSizeAggregation to [SQLdmConsoleUser]
grant SELECT on TableGrowthAggregation to [SQLdmConsoleUser]
grant SELECT on DatabaseSizeDateTimeAggregation to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateDatabaseFileStatisticsData to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateDatabaseSize to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateDatabaseSizeDateTime to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateForecastingData to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateTableGrowthData to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateDatabaseStatistics to [SQLdmConsoleUser]
grant EXECUTE on p_AggregateDiskDriveStatisticsData to [SQLdmConsoleUser]
--END

-- NITOR START		DATE:19-Dec-2018
GRANT EXECUTE ON p_UpdateTemplateMetricThreshold TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddNewTemplateMetricThreshold TO [SQLdmConsoleUser]
-- END
-- START NITOR           DATE:30-Dec-2019
GRANT EXECUTE ON p_GetAnalysisListing TO [SQLdmConsoleUser]
--END
-- START NITOR           DATE:19-MAR-2019
GRANT EXECUTE ON p_AddAlertInstanceTemplate TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAlertTemplate TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAlertThreshold TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetTemplateComparison TO [SQLdmConsoleUser]
--END
GRANT EXECUTE ON p_GetTemplateList TO[SQLdmConsoleUser]
GRANT EXECUTE ON p_updateDefaultTemplateId TO[SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAWSResourceDetails TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetCloudByInstanceID TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetServerInstanceByTags TO [SQLdmConsoleUser]
GRANT EXECUTE ON P_UpdateTemplateData TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetBlockedRecommendations TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_UpdateDashboardLayouts TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddRecommendationWithZeroCount TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddAdvanceFilteringAlert TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetSpecificRecommendations TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetBlockedCategoriesForPlatform TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureSubscriptions TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureApplications TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureApplicationProfiles TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureProfiles TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddAzureResource TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_DeleteAzureResource TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddAzureApplication TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_AddAzureLinkedProfile TO [SQLdmConsoleUser]

GRANT EXECUTE ON p_InsertUpdateAzureSubscriptions TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_InsertUpdateAzureAppProfile TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_DeleteAzureProfile TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_DeleteAzureApplicationProfile TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_DeleteAzureApplication TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureProfileForResourceUri TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_DeleteAzureSubscriptions TO [SQLdmConsoleUser]
GRANT EXECUTE ON p_GetAzureProfileWithMetricInfo TO [SQLdmConsoleUser]




